"use strict";(self.webpackChunkview_blaze_lists=self.webpackChunkview_blaze_lists||[]).push([[179],{385:()=>{function Se(t){return"function"==typeof t}function Fc(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Vc=Fc(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ss(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Cn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Se(r))try{r()}catch(s){e=s instanceof Vc?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{m0(s)}catch(o){e=e??[],o instanceof Vc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Vc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)m0(e);else{if(e instanceof Cn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ss(n,e)}remove(e){const{_finalizers:n}=this;n&&Ss(n,e),e instanceof Cn&&e._removeParent(this)}}Cn.EMPTY=(()=>{const t=new Cn;return t.closed=!0,t})();const p0=Cn.EMPTY;function g0(t){return t instanceof Cn||t&&"closed"in t&&Se(t.remove)&&Se(t.add)&&Se(t.unsubscribe)}function m0(t){Se(t)?t():t.unsubscribe()}const Ai={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Bc={setTimeout(t,e,...n){const{delegate:r}=Bc;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Bc;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function y0(t){Bc.setTimeout(()=>{const{onUnhandledError:e}=Ai;if(!e)throw t;e(t)})}function _0(){}const L2=Vf("C",void 0,void 0);function Vf(t,e,n){return{kind:t,value:e,error:n}}let xi=null;function Uc(t){if(Ai.useDeprecatedSynchronousErrorHandling){const e=!xi;if(e&&(xi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=xi;if(xi=null,n)throw r}}else t()}class Bf extends Cn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,g0(e)&&e.add(this)):this.destination=H2}static create(e,n,r){return new fa(e,n,r)}next(e){this.isStopped?$f(function V2(t){return Vf("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?$f(function F2(t){return Vf("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$f(L2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const U2=Function.prototype.bind;function Uf(t,e){return U2.call(t,e)}class $2{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$c(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$c(r)}else $c(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$c(n)}}}class fa extends Bf{constructor(e,n,r){let i;if(super(),Se(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ai.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Uf(e.next,s),error:e.error&&Uf(e.error,s),complete:e.complete&&Uf(e.complete,s)}):i=e}this.destination=new $2(i)}}function $c(t){Ai.useDeprecatedSynchronousErrorHandling?function B2(t){Ai.useDeprecatedSynchronousErrorHandling&&xi&&(xi.errorThrown=!0,xi.error=t)}(t):y0(t)}function $f(t,e){const{onStoppedNotification:n}=Ai;n&&Bc.setTimeout(()=>n(t,e))}const H2={closed:!0,next:_0,error:function j2(t){throw t},complete:_0},jf="function"==typeof Symbol&&Symbol.observable||"@@observable";function Hf(t){return t}let mt=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function z2(t){return t&&t instanceof Bf||function G2(t){return t&&Se(t.next)&&Se(t.error)&&Se(t.complete)}(t)&&g0(t)}(n)?n:new fa(n,r,i);return Uc(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=I0(r))((i,s)=>{const o=new fa({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[jf](){return this}pipe(...n){return function v0(t){return 0===t.length?Hf:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=I0(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function I0(t){var e;return null!==(e=t??Ai.Promise)&&void 0!==e?e:Promise}const q2=Fc(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Gf=(()=>{class t extends mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new w0(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new q2}next(n){Uc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Uc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Uc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?p0:(this.currentObservers=null,s.push(n),new Cn(()=>{this.currentObservers=null,Ss(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new mt;return n.source=this,n}}return t.create=(e,n)=>new w0(e,n),t})();class w0 extends Gf{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:p0}}function As(t){return e=>{if(function W2(t){return Se(t?.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pa(t,e,n,r,i){return new K2(t,e,n,r,i)}class K2 extends Bf{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function jc(t,e){return As((n,r)=>{let i=0;n.subscribe(pa(r,s=>{r.next(t.call(e,s,i++))}))})}function Wf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Hr(t){return this instanceof Hr?(this.v=t,this):new Hr(t)}function b0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Qf(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const C0=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function S0(t){return Se(t?.then)}function A0(t){return Se(t[jf])}function x0(t){return Symbol.asyncIterator&&Se(t?.[Symbol.asyncIterator])}function M0(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const N0=function hV(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function k0(t){return Se(t?.[N0])}function R0(t){return function T0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Hr?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Hr(n.read());if(i)return yield Hr(void 0);yield yield Hr(r)}}finally{n.releaseLock()}})}function P0(t){return Se(t?.getReader)}function Gr(t){if(t instanceof mt)return t;if(null!=t){if(A0(t))return function fV(t){return new mt(e=>{const n=t[jf]();if(Se(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(C0(t))return function pV(t){return new mt(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(S0(t))return function gV(t){return new mt(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,y0)})}(t);if(x0(t))return O0(t);if(k0(t))return function mV(t){return new mt(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(P0(t))return function yV(t){return O0(R0(t))}(t)}throw M0(t)}function O0(t){return new mt(e=>{(function _V(t,e){var n,r,i,s;return function E0(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=b0(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function zr(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function L0(t,e,n=1/0){return Se(e)?L0((r,i)=>jc((s,o)=>e(r,s,i,o))(Gr(t(r,i))),n):("number"==typeof e&&(n=e),As((r,i)=>function vV(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;Gr(n(g,l++)).subscribe(pa(e,w=>{i?.(w),s?f(w):e.next(w)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const w=u.shift();o?zr(e,o,()=>p(w)):p(w)}h()}catch(w){e.error(w)}}))};return t.subscribe(pa(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}const F0=new mt(t=>t.complete());function Yf(t){return t[t.length-1]}function Hc(t,e=0){return As((n,r)=>{n.subscribe(pa(r,i=>zr(r,t,()=>r.next(i),e),()=>zr(r,t,()=>r.complete(),e),i=>zr(r,t,()=>r.error(i),e)))})}function Gc(t,e=0){return As((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function V0(t,e){if(!t)throw new Error("Iterable cannot be null");return new mt(n=>{zr(n,e,()=>{const r=t[Symbol.asyncIterator]();zr(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function kV(...t){const e=function DV(t){return function EV(t){return t&&Se(t.schedule)}(Yf(t))?t.pop():void 0}(t),n=function TV(t,e){return"number"==typeof Yf(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Gr(r[0]):function IV(t=1/0){return L0(Hf,t)}(n)(function NV(t,e){return e?function MV(t,e){if(null!=t){if(A0(t))return function bV(t,e){return Gr(t).pipe(Gc(e),Hc(e))}(t,e);if(C0(t))return function SV(t,e){return new mt(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(S0(t))return function CV(t,e){return Gr(t).pipe(Gc(e),Hc(e))}(t,e);if(x0(t))return V0(t,e);if(k0(t))return function AV(t,e){return new mt(n=>{let r;return zr(n,e,()=>{r=t[N0](),zr(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Se(r?.return)&&r.return()})}(t,e);if(P0(t))return function xV(t,e){return V0(R0(t),e)}(t,e)}throw M0(t)}(t,e):Gr(t)}(r,e)):F0}function Jf(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new fa({next:()=>{r.unsubscribe(),t()}});return Gr(e(...n)).subscribe(r)}function fe(t){for(let e in t)if(t[e]===fe)return e;throw Error("Could not find renamed property on target object.")}function tt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(tt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Zf(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const PV=fe({__forward_ref__:fe});function ep(t){return t.__forward_ref__=ep,t.toString=function(){return tt(this())},t}function G(t){return function tp(t){return"function"==typeof t&&t.hasOwnProperty(PV)&&t.__forward_ref__===ep}(t)?t():t}function np(t){return t&&!!t.\u0275providers}class R extends Error{constructor(e,n){super(function zc(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function q(t){return"string"==typeof t?t:null==t?"":String(t)}function qc(t,e){throw new R(-201,!1)}function _n(t,e){null==t&&function he(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function me(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wc(t){return U0(t,Kc)||U0(t,j0)}function U0(t,e){return t.hasOwnProperty(e)?t[e]:null}function $0(t){return t&&(t.hasOwnProperty(rp)||t.hasOwnProperty($V))?t[rp]:null}const Kc=fe({\u0275prov:fe}),rp=fe({\u0275inj:fe}),j0=fe({ngInjectableDef:fe}),$V=fe({ngInjectorDef:fe});var j=(()=>((j=j||{})[j.Default=0]="Default",j[j.Host=1]="Host",j[j.Self=2]="Self",j[j.SkipSelf=4]="SkipSelf",j[j.Optional=8]="Optional",j))();let ip;function qt(t){const e=ip;return ip=t,e}function G0(t,e,n){const r=Wc(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&j.Optional?null:void 0!==e?e:void qc(tt(t))}const ye=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ga={},sp="__NG_DI_FLAG__",Qc="ngTempTokenPath",HV=/\n/gm,z0="__source";let xs;function Kr(t){const e=xs;return xs=t,e}function qV(t,e=j.Default){if(void 0===xs)throw new R(-203,!1);return null===xs?G0(t,void 0,e):xs.get(t,e&j.Optional?null:void 0,e)}function ne(t,e=j.Default){return(function H0(){return ip}()||qV)(G(t),e)}function Ie(t,e=j.Default){return ne(t,Yc(e))}function Yc(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function op(t){const e=[];for(let n=0;n<t.length;n++){const r=G(t[n]);if(Array.isArray(r)){if(0===r.length)throw new R(900,!1);let i,s=j.Default;for(let o=0;o<r.length;o++){const a=r[o],u=WV(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(ne(i,s))}else e.push(ne(r))}return e}function ma(t,e){return t[sp]=e,t.prototype[sp]=e,t}function WV(t){return t[sp]}function hr(t){return{toString:t}.toString()}var $n=(()=>(($n=$n||{})[$n.OnPush=0]="OnPush",$n[$n.Default=1]="Default",$n))(),an=(()=>{return(t=an||(an={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",an;var t})();const fr={},ce=[],Jc=fe({\u0275cmp:fe}),ap=fe({\u0275dir:fe}),up=fe({\u0275pipe:fe}),W0=fe({\u0275mod:fe}),pr=fe({\u0275fac:fe}),ya=fe({__NG_ELEMENT_ID__:fe}),K0=fe({__NG_ENV_ID__:fe});function Q0(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function cp(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];J0(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function Y0(t){return 3===t||4===t||6===t}function J0(t){return 64===t.charCodeAt(0)}function _a(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||X0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function X0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const Z0="ng-template";function YV(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==Q0(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function eb(t){return 4===t.type&&t.value!==Z0}function JV(t,e,n){return e===(4!==t.type||n?t.value:Z0)}function XV(t,e,n){let r=4;const i=t.attrs||[],s=function tB(t){for(let e=0;e<t.length;e++)if(Y0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!JV(t,u,n)||""===u&&1===e.length){if(Sn(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!YV(t.attrs,c,n)){if(Sn(r))return!1;o=!0}continue}const d=ZV(8&r?"class":u,i,eb(t),n);if(-1===d){if(Sn(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Q0(f,c,0)||2&r&&c!==h){if(Sn(r))return!1;o=!0}}}}else{if(!o&&!Sn(r)&&!Sn(u))return!1;if(o&&Sn(u))continue;o=!1,r=u|1&r}}return Sn(r)||o}function Sn(t){return 0==(1&t)}function ZV(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function nB(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function tb(t,e,n=!1){for(let r=0;r<e.length;r++)if(XV(t,e[r],n))return!0;return!1}function nb(t,e){return t?":not("+e.trim()+")":e}function iB(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Sn(o)&&(e+=nb(s,i),i=""),r=o,s=s||!Sn(r);n++}return""!==i&&(e+=nb(s,i)),e}function lp(t){return hr(()=>{const e=ib(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===$n.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||an.Emulated,styles:t.styles||ce,_:null,schemas:t.schemas||null,tView:null,id:""};sb(n);const r=t.dependencies;return n.directiveDefs=Xc(r,!1),n.pipeDefs=Xc(r,!0),n.id=function hB(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function uB(t){return le(t)||St(t)}function cB(t){return null!==t}function Mi(t){return hr(()=>({type:t.type,bootstrap:t.bootstrap||ce,declarations:t.declarations||ce,imports:t.imports||ce,exports:t.exports||ce,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function rb(t,e){if(null==t)return fr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function vn(t){return hr(()=>{const e=ib(t);return sb(e),e})}function Wt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function le(t){return t[Jc]||null}function St(t){return t[ap]||null}function Kt(t){return t[up]||null}function ib(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||ce,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rb(t.inputs,e),outputs:rb(t.outputs)}}function sb(t){t.features?.forEach(e=>e(t))}function Xc(t,e){if(!t)return null;const n=e?Kt:uB;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(cB)}const nt=0,M=1,Y=2,Ae=3,An=4,Ni=5,At=6,Ms=7,Pe=8,Ns=9,ki=10,K=11,Ia=12,ob=13,ks=14,We=15,wa=16,Rs=17,jn=18,Ea=19,ab=20,Qr=21,gr=22,Zc=23,el=24,re=25,dp=1,ub=2,Hn=7,tl=8,Ps=9,yt=11;function cn(t){return Array.isArray(t)&&"object"==typeof t[dp]}function Qt(t){return Array.isArray(t)&&!0===t[dp]}function hp(t){return 0!=(4&t.flags)}function Ri(t){return t.componentOffset>-1}function nl(t){return 1==(1&t.flags)}function xn(t){return!!t.template}function fp(t){return 0!=(512&t[Y])}function Pi(t,e){return t.hasOwnProperty(pr)?t[pr]:null}let yB=ye.WeakRef??class mB{constructor(e){this.ref=e}deref(){return this.ref}},vB=0,Gn=null,rl=!1;function ut(t){const e=Gn;return Gn=t,e}class fb{constructor(){this.id=vB++,this.ref=function _B(t){return new yB(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=rl;rl=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{rl=e}}producerAccessed(){if(rl)throw new Error("");if(null===Gn)return;let e=Gn.producers.get(this.id);void 0===e?(e={consumerNode:Gn.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Gn.trackingVersion},Gn.producers.set(this.id,e),this.consumers.set(Gn.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=Gn.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Gn?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let pb=null;const gb=()=>{};class DB extends fb{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=gb,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=ut(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=gb,this.watch(this.registerOnCleanup)}finally{ut(e)}}cleanup(){this.cleanupFn()}}class TB{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function mb(t){return t.type.prototype.ngOnChanges&&(t.setInput=CB),bB}function bB(){const t=_b(this),e=t?.current;if(e){const n=t.previous;if(n===fr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function CB(t,e,n,r){const i=this.declaredInputs[n],s=_b(t)||function SB(t,e){return t[yb]=e}(t,{previous:fr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new TB(u&&u.currentValue,e,a===fr),t[r]=e}const yb="__ngSimpleChanges__";function _b(t){return t[yb]||null}const zn=function(t,e,n){};function we(t){for(;Array.isArray(t);)t=t[nt];return t}function Yt(t,e){return we(e[t.index])}function wb(t,e){return t.data[e]}function Jt(t,e){const n=e[t];return cn(n)?n:n[nt]}function ul(t){return 128==(128&t[Y])}function Yr(t,e){return null==e?null:t[e]}function Eb(t){t[Rs]=0}function RB(t){1024&t[Y]||(t[Y]|=1024,Tb(t,1))}function Db(t){1024&t[Y]&&(t[Y]&=-1025,Tb(t,-1))}function Tb(t,e){let n=t[Ae];if(null===n)return;n[Ni]+=e;let r=n;for(n=n[Ae];null!==n&&(1===e&&1===r[Ni]||-1===e&&0===r[Ni]);)n[Ni]+=e,r=n,n=n[Ae]}const U={lFrame:Ob(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Sb(){return U.bindingsEnabled}function E(){return U.lFrame.lView}function oe(){return U.lFrame.tView}function _t(){let t=Ab();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ab(){return U.lFrame.currentTNode}function qn(t,e){const n=U.lFrame;n.currentTNode=t,n.isParent=e}function vp(){return U.lFrame.isParent}function Fs(){return U.lFrame.bindingIndex++}function WB(t,e){const n=U.lFrame;n.bindingIndex=n.bindingRootIndex=t,wp(e)}function wp(t){U.lFrame.currentDirectiveIndex=t}function Dp(t){U.lFrame.currentQueryIndex=t}function QB(t){const e=t[M];return 2===e.type?e.declTNode:1===e.type?t[At]:null}function Rb(t,e,n){if(n&j.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&j.Host||(i=QB(s),null===i||(s=s[ks],10&i.type))););if(null===i)return!1;e=i,t=s}const r=U.lFrame=Pb();return r.currentTNode=e,r.lView=t,!0}function Tp(t){const e=Pb(),n=t[M];U.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Pb(){const t=U.lFrame,e=null===t?null:t.child;return null===e?Ob(t):e}function Ob(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Lb(){const t=U.lFrame;return U.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Fb=Lb;function bp(){const t=Lb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Bt(){return U.lFrame.selectedIndex}function Oi(t){U.lFrame.selectedIndex=t}let Bb=!0;function cl(){return Bb}function Jr(t){Bb=t}function ll(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function dl(t,e,n){Ub(t,e,3,n)}function hl(t,e,n,r){(3&t[Y])===n&&Ub(t,e,n,r)}function Cp(t,e){let n=t[Y];(3&n)===e&&(n&=4095,n+=1,t[Y]=n)}function Ub(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Rs]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Rs]+=65536),(a<s||-1==s)&&(rU(t,n,e,u),t[Rs]=(4294901760&t[Rs])+u+2),u++}function $b(t,e){zn(4,t,e);const n=ut(null);try{e.call(t)}finally{ut(n),zn(5,t,e)}}function rU(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[Y]>>12<t[Rs]>>16&&(3&t[Y])===e&&(t[Y]+=4096,$b(a,s)):$b(a,s)}const Vs=-1;class ba{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function jb(t){return t!==Vs}function fl(t){return 32767&t}function pl(t,e){let n=function aU(t){return t>>16}(t),r=e;for(;n>0;)r=r[ks],n--;return r}let Ap=!0;function gl(t){const e=Ap;return Ap=t,e}const Hb=255,Gb=5;let uU=0;const Wn={};function ml(t,e){const n=zb(t,e);if(-1!==n)return n;const r=e[M];r.firstCreatePass&&(t.injectorIndex=e.length,xp(r.data,t),xp(e,null),xp(r.blueprint,null));const i=Mp(t,e),s=t.injectorIndex;if(jb(i)){const o=fl(i),a=pl(i,e),u=a[M].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function xp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zb(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Mp(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=Xb(i),null===r)return Vs;if(n++,i=i[ks],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Vs}function Np(t,e,n){!function cU(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ya)&&(r=n[ya]),null==r&&(r=n[ya]=uU++);const i=r&Hb;e.data[t+(i>>Gb)]|=1<<i}(t,e,n)}function qb(t,e,n){if(n&j.Optional||void 0!==t)return t;qc()}function Wb(t,e,n,r){if(n&j.Optional&&void 0===r&&(r=null),!(n&(j.Self|j.Host))){const i=t[Ns],s=qt(void 0);try{return i?i.get(e,r,n&j.Optional):G0(e,r,n&j.Optional)}finally{qt(s)}}return qb(r,0,n)}function Kb(t,e,n,r=j.Default,i){if(null!==t){if(2048&e[Y]&&!(r&j.Self)){const o=function gU(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[Y]&&!(512&o[Y]);){const a=Qb(s,o,n,r|j.Self,Wn);if(a!==Wn)return a;let u=s.parent;if(!u){const c=o[ab];if(c){const l=c.get(n,Wn,r);if(l!==Wn)return l}u=Xb(o),o=o[ks]}s=u}return i}(t,e,n,r,Wn);if(o!==Wn)return o}const s=Qb(t,e,n,r,Wn);if(s!==Wn)return s}return Wb(e,n,r,i)}function Qb(t,e,n,r,i){const s=function hU(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ya)?t[ya]:void 0;return"number"==typeof e?e>=0?e&Hb:fU:e}(n);if("function"==typeof s){if(!Rb(e,t,r))return r&j.Host?qb(i,0,r):Wb(e,n,r,i);try{const o=s(r);if(null!=o||r&j.Optional)return o;qc()}finally{Fb()}}else if("number"==typeof s){let o=null,a=zb(t,e),u=Vs,c=r&j.Host?e[We][At]:null;for((-1===a||r&j.SkipSelf)&&(u=-1===a?Mp(t,e):e[a+8],u!==Vs&&Jb(r,!1)?(o=e[M],a=fl(u),e=pl(u,e)):a=-1);-1!==a;){const l=e[M];if(Yb(s,a,l.data)){const d=dU(a,e,n,o,r,c);if(d!==Wn)return d}u=e[a+8],u!==Vs&&Jb(r,e[M].data[a+8]===c)&&Yb(s,a,e)?(o=l,a=fl(u),e=pl(u,e)):a=-1}}return i}function dU(t,e,n,r,i,s){const o=e[M],a=o.data[t+8],l=function yl(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&xn(f)&&f.type===n)return u}return null}(a,o,n,null==r?Ri(a)&&Ap:r!=o&&0!=(3&a.type),i&j.Host&&s===a);return null!==l?Li(e,o,l,a):Wn}function Li(t,e,n,r){let i=t[n];const s=e.data;if(function iU(t){return t instanceof ba}(i)){const o=i;o.resolving&&function OV(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new R(-200,`Circular dependency in DI detected for ${t}${n}`)}(function de(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():q(t)}(s[n]));const a=gl(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?qt(o.injectImpl):null;Rb(t,r,j.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function nU(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=mb(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&qt(u),gl(a),o.resolving=!1,Fb()}}return i}function Yb(t,e,n){return!!(n[e+(t>>Gb)]&1<<t)}function Jb(t,e){return!(t&j.Self||t&j.Host&&e)}class Bs{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Kb(this._tNode,this._lView,e,Yc(r),n)}}function fU(){return new Bs(_t(),E())}function Xb(t){const e=t[M],n=e.type;return 2===n?e.declTNode:1===n?t[At]:null}const $s="__parameters__";function Hs(t,e,n){return hr(()=>{const r=function Pp(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty($s)?u[$s]:Object.defineProperty(u,$s,{value:[]})[$s];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Aa(t,e){t.forEach(n=>Array.isArray(n)?Aa(n,e):e(n))}function eC(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function _l(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const dn=ma(Hs("Optional"),8),Fp=ma(Hs("SkipSelf"),4);function Dl(t){return 128==(128&t.flags)}var Xt=(()=>((Xt=Xt||{})[Xt.Important=1]="Important",Xt[Xt.DashCase=2]="DashCase",Xt))();const jp=new Map;let GU=0;const Gp="__ngContext__";function xt(t,e){cn(e)?(t[Gp]=e[Ea],function qU(t){jp.set(t[Ea],t)}(e)):t[Gp]=e}let zp;function qp(t,e){return zp(t,e)}function ka(t){const e=t[Ae];return Qt(e)?e[Ae]:e}function Wp(t){return IC(t[Ia])}function Kp(t){return IC(t[An])}function IC(t){for(;null!==t&&!Qt(t);)t=t[An];return t}function Ws(t,e,n,r,i){if(null!=r){let s,o=!1;Qt(r)?s=r:cn(r)&&(o=!0,r=r[nt]);const a=we(r);0===t&&null!==n?null==i?bC(e,n,a):Fi(e,n,a,i||null,!0):1===t&&null!==n?Fi(e,n,a,i||null,!0):2===t?function xl(t,e,n){const r=Sl(t,e);r&&function d$(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function p$(t,e,n,r,i){const s=n[Hn];s!==we(n)&&Ws(e,t,r,s,i);for(let a=yt;a<n.length;a++){const u=n[a];Pa(u[M],u,t,e,r,s)}}(e,t,s,n,i)}}function Cl(t,e,n){return t.createElement(e,n)}function EC(t,e){const n=t[Ps],r=n.indexOf(e);Db(e),n.splice(r,1)}function Yp(t,e){if(t.length<=yt)return;const n=yt+e,r=t[n];if(r){const i=r[wa];null!==i&&i!==t&&EC(i,r),e>0&&(t[n-1][An]=r[An]);const s=_l(t,yt+e);!function r$(t,e){Pa(t,e,e[K],2,null,null),e[nt]=null,e[At]=null}(r[M],r);const o=s[jn];null!==o&&o.detachView(s[M]),r[Ae]=null,r[An]=null,r[Y]&=-129}return r}function DC(t,e){if(!(256&e[Y])){const n=e[K];e[Zc]?.destroy(),e[el]?.destroy(),n.destroyNode&&Pa(t,e,n,3,null,null),function o$(t){let e=t[Ia];if(!e)return Jp(t[M],t);for(;e;){let n=null;if(cn(e))n=e[Ia];else{const r=e[yt];r&&(n=r)}if(!n){for(;e&&!e[An]&&e!==t;)cn(e)&&Jp(e[M],e),e=e[Ae];null===e&&(e=t),cn(e)&&Jp(e[M],e),n=e&&e[An]}e=n}}(e)}}function Jp(t,e){if(!(256&e[Y])){e[Y]&=-129,e[Y]|=256,function l$(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof ba)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];zn(4,a,u);try{u.call(a)}finally{zn(5,a,u)}}else{zn(4,i,s);try{s.call(i)}finally{zn(5,i,s)}}}}}(t,e),function c$(t,e){const n=t.cleanup,r=e[Ms];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Ms]=null);const i=e[Qr];if(null!==i){e[Qr]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[M].type&&e[K].destroy();const n=e[wa];if(null!==n&&Qt(e[Ae])){n!==e[Ae]&&EC(n,e);const r=e[jn];null!==r&&r.detachView(t)}!function WU(t){jp.delete(t[Ea])}(e)}}function Xp(t,e,n){return function TC(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[nt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===an.None||s===an.Emulated)return null}return Yt(r,n)}}(t,e.parent,n)}function Fi(t,e,n,r,i){t.insertBefore(e,n,r,i)}function bC(t,e,n){t.appendChild(e,n)}function CC(t,e,n,r,i){null!==r?Fi(t,e,n,r,i):bC(t,e,n)}function Sl(t,e){return t.parentNode(e)}let Zp,rg,xC=function AC(t,e,n){return 40&t.type?Yt(t,n):null};function Al(t,e,n,r){const i=Xp(t,r,e),s=e[K],a=function SC(t,e,n){return xC(t,e,n)}(r.parent||e[At],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)CC(s,i,n[u],a,!1);else CC(s,i,n,a,!1);void 0!==Zp&&Zp(s,r,e,n,i)}function Ra(t,e){if(null!==e){const n=e.type;if(3&n)return Yt(e,t);if(4&n)return eg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Ra(t,r);{const i=t[e.index];return Qt(i)?eg(-1,i):we(i)}}if(32&n)return qp(e,t)()||we(t[e.index]);{const r=NC(t,e);return null!==r?Array.isArray(r)?r[0]:Ra(ka(t[We]),r):Ra(t,e.next)}}return null}function NC(t,e){return null!==e?t[We][At].projection[e.projection]:null}function eg(t,e){const n=yt+t+1;if(n<e.length){const r=e[n],i=r[M].firstChild;if(null!==i)return Ra(r,i)}return e[Hn]}function tg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&xt(we(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)tg(t,e,n.child,r,i,s,!1),Ws(e,t,i,a,s);else if(32&u){const c=qp(n,r);let l;for(;l=c();)Ws(e,t,i,l,s);Ws(e,t,i,a,s)}else 16&u?RC(t,e,r,n,i,s):Ws(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Pa(t,e,n,r,i,s){tg(n,r,t.firstChild,e,i,s,!1)}function RC(t,e,n,r,i,s){const o=n[We],u=o[At].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Ws(e,t,i,u[c],s);else{let c=u;const l=o[Ae];Dl(r)&&(c.flags|=128),tg(t,e,c,l,i,s,!0)}}function PC(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function OC(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&cp(t,e,r),null!==i&&PC(t,e,i),null!==s&&function m$(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class ${constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=me({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Rl=new $("ENVIRONMENT_INITIALIZER"),KC=new $("INJECTOR",-1),QC=new $("INJECTOR_DEF_TYPES");class YC{get(e,n=ga){if(n===ga){const r=new Error(`NullInjectorError: No provider for ${tt(e)}!`);throw r.name="NullInjectorError",r}return n}}function G$(...t){return{\u0275providers:XC(0,t),\u0275fromNgModule:!0}}function XC(t,...e){const n=[],r=new Set;let i;return Aa(e,s=>{const o=s;cg(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&ZC(i,n),n}function ZC(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];lg(i,s=>{e.push(s)})}}function cg(t,e,n,r){if(!(t=G(t)))return!1;let i=null,s=$0(t);const o=!s&&le(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=$0(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)cg(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Aa(s.imports,l=>{cg(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&ZC(c,e)}if(!a){const c=Pi(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:ce},{provide:QC,useValue:i,multi:!0},{provide:Rl,useValue:()=>ne(i),multi:!0})}const u=s.providers;null==u||a||lg(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function lg(t,e){for(let n of t)np(n)&&(n=n.\u0275providers),Array.isArray(n)?lg(n,e):e(n)}const z$=fe({provide:String,useValue:fe});function dg(t){return null!==t&&"object"==typeof t&&z$ in t}function Vi(t){return"function"==typeof t}const hg=new $("Set Injector scope."),Pl={},W$={};let fg;function Ol(){return void 0===fg&&(fg=new YC),fg}class Qs{}class pg extends Qs{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mg(e,o=>this.processProvider(o)),this.records.set(KC,Ys(void 0,this)),i.has("environment")&&this.records.set(Qs,Ys(void 0,this));const s=this.records.get(hg);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(QC.multi,ce,j.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Kr(this),r=qt(void 0);try{return e()}finally{Kr(n),qt(r)}}get(e,n=ga,r=j.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(K0))return e[K0](this);r=Yc(r);const i=Kr(this),s=qt(void 0);try{if(!(r&j.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function X$(t){return"function"==typeof t||"object"==typeof t&&t instanceof $}(e)&&Wc(e);a=u&&this.injectableDefInScope(u)?Ys(gg(e),Pl):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&j.Self?Ol():this.parent).get(e,n=r&j.Optional&&n===ga?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Qc]=o[Qc]||[]).unshift(tt(e)),i)throw o;return function KV(t,e,n,r){const i=t[Qc];throw e[z0]&&i.unshift(e[z0]),t.message=function QV(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=tt(e);if(Array.isArray(e))i=e.map(tt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):tt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(HV,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Qc]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{qt(s),Kr(i)}}resolveInjectorInitializers(){const e=Kr(this),n=qt(void 0);try{const r=this.get(Rl.multi,ce,j.Self);for(const i of r)i()}finally{Kr(e),qt(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(tt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new R(205,!1)}processProvider(e){let n=Vi(e=G(e))?e:G(e&&e.provide);const r=function Q$(t){return dg(t)?Ys(void 0,t.useValue):Ys(function nS(t,e,n){let r;if(Vi(t)){const i=G(t);return Pi(i)||gg(i)}if(dg(t))r=()=>G(t.useValue);else if(function tS(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...op(t.deps||[]));else if(function eS(t){return!(!t||!t.useExisting)}(t))r=()=>ne(G(t.useExisting));else{const i=G(t&&(t.useClass||t.provide));if(!function Y$(t){return!!t.deps}(t))return Pi(i)||gg(i);r=()=>new i(...op(t.deps))}return r}(t),Pl)}(e);if(Vi(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ys(void 0,Pl,!0),i.factory=()=>op(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Pl&&(n.value=W$,n.value=n.factory()),"object"==typeof n.value&&n.value&&function J$(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=G(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function gg(t){const e=Wc(t),n=null!==e?e.factory:Pi(t);if(null!==n)return n;if(t instanceof $)throw new R(204,!1);if(t instanceof Function)return function K$(t){const e=t.length;if(e>0)throw function xa(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new R(204,!1);const n=function UV(t){return t&&(t[Kc]||t[j0])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new R(204,!1)}function Ys(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function mg(t,e){for(const n of t)Array.isArray(n)?mg(n,e):n&&np(n)?mg(n.\u0275providers,e):e(n)}const Ll=new $("AppId",{providedIn:"root",factory:()=>Z$}),Z$="ng",rS=new $("Platform Initializer"),Zr=new $("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),iS=new $("CSP nonce",{providedIn:"root",factory:()=>function Oa(){if(void 0!==rg)return rg;if(typeof document<"u")return document;throw new R(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let oS=(t,e)=>null;function aS(t,e){return oS(t,e)}class uj{}class lS{}class lj{resolveComponentFactory(e){throw function cj(t){const e=Error(`No component factory found for ${tt(t)}.`);return e.ngComponent=t,e}(e)}}let $l=(()=>{class t{}return t.NULL=new lj,t})();function dj(){return Js(_t(),E())}function Js(t,e){return new Xs(Yt(t,e))}let Xs=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=dj,t})();class hS{}let pj=(()=>{class t{}return t.\u0275prov=me({token:t,providedIn:"root",factory:()=>null}),t})();class jl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const pS=new jl("16.0.3"),Sg={};function ja(t){for(;t;){t[Y]|=64;const e=ka(t);if(fp(t)&&!e)return t;t=e}return null}function Ag(t){return t.ngOriginalError}class Bi{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ag(e);for(;n&&Ag(n);)n=Ag(n);return n||null}}const yS=new $("",{providedIn:"root",factory:()=>!1});class ES extends fb{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){ja(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=ut(this);this.trackingVersion++;try{e(n,r)}finally{ut(i)}}destroy(){this.trackingVersion++}}let Gl=null;function DS(){return Gl??=new ES,Gl}function TS(t,e){return t[e]??DS()}function bS(t,e){const n=DS();n.hasReadASignal&&(t[e]=Gl,n.lView=t,Gl=new ES)}const Q={};function Mn(t){CS(oe(),E(),Bt()+t,!1)}function CS(t,e,n,r){if(!r)if(3==(3&e[Y])){const s=t.preOrderCheckHooks;null!==s&&dl(e,s,n)}else{const s=t.preOrderHooks;null!==s&&hl(e,s,0,n)}Oi(n)}function MS(t,e=null,n=null,r){const i=NS(t,e,n,r);return i.resolveInjectorInitializers(),i}function NS(t,e=null,n=null,r,i=new Set){const s=[n||ce,G$(t)];return r=r||("object"==typeof t?void 0:tt(t)),new pg(s,e||Ol(),r||null,i)}let Ir=(()=>{class t{static create(n,r){if(Array.isArray(n))return MS({name:""},r,n,"");{const i=n.name??"";return MS({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=ga,t.NULL=new YC,t.\u0275prov=me({token:t,providedIn:"any",factory:()=>ne(KC)}),t.__NG_ELEMENT_ID__=-1,t})();function ee(t,e=j.Default){const n=E();return null===n?ne(t,e):Kb(_t(),n,G(t),e)}function zl(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[nt]=i,d[Y]=140|r,(null!==c||t&&2048&t[Y])&&(d[Y]|=2048),Eb(d),d[Ae]=d[ks]=t,d[Pe]=n,d[ki]=o||t&&t[ki],d[K]=a||t&&t[K],d[Ns]=u||t&&t[Ns]||null,d[At]=s,d[Ea]=function zU(){return GU++}(),d[gr]=l,d[ab]=c,d[We]=2==e.type?t[We]:d,d}function eo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function xg(t,e,n,r,i){const s=Ab(),o=vp(),u=t.data[e]=function Lj(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function Ls(){return null!==U.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function qB(){return U.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ta(){const t=U.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return qn(s,!0),s}function Ha(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function kS(t,e,n,r,i){const s=TS(e,Zc),o=Bt(),a=2&r;try{if(Oi(-1),a&&e.length>re&&CS(t,e,re,!1),zn(a?2:0,i),a)s.runInContext(n,r,i);else{const c=ut(null);try{n(r,i)}finally{ut(c)}}}finally{a&&null===e[Zc]&&bS(e,Zc),Oi(o),zn(a?3:1,i)}}function Mg(t,e,n){if(hp(e)){const r=ut(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ut(r)}}}function Ng(t,e,n){Sb()&&(function Hj(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ri(n)&&function Yj(t,e,n){const r=Yt(e,t),o=ql(t,zl(t,RS(n),null,n.onPush?64:16,r,e,null,t[ki].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ml(n,e),xt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Li(e,t,a,n);xt(c,e),null!==o&&Jj(0,a-i,c,u,0,o),xn(u)&&(Jt(n.index,e)[Pe]=Li(e,t,a,n))}}(t,e,n,Yt(n,e)),64==(64&n.flags)&&VS(t,e,n))}function kg(t,e,n=Yt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function RS(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Rg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Rg(t,e,n,r,i,s,o,a,u,c,l){const d=re+r,h=d+i,f=function Mj(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Q);return n}(d,h),p="function"==typeof c?c():c;return f[M]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let PS=t=>null;function OS(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?LS(n,e,i,s):r.hasOwnProperty(i)&&LS(n,e,r[i],s)}return n}function LS(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Pg(t,e,n,r){if(Sb()){const i=null===r?null:{"":-1},s=function zj(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(tb(e,o.selectors,!1))if(r||(r=[]),xn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Og(t,e,a.length)}else r.unshift(o),Og(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&FS(t,e,n,o,i,a),i&&function qj(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new R(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=_a(n.mergedAttrs,n.attrs)}function FS(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Np(ml(n,e),t,r[c].type);!function Kj(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=Ha(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=_a(n.mergedAttrs,l.hostAttrs),Qj(t,n,e,u,l),Wj(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function Fj(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=OS(d.inputs,l,u,h?h.inputs:null),c=OS(d.outputs,l,c,p);const g=null===u||null===o||eb(e)?null:Xj(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function VS(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function KB(){return U.lFrame.currentDirectiveIndex}();try{Oi(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];wp(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Gj(u,c)}}finally{Oi(-1),wp(o)}}function Gj(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Og(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Wj(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;xn(e)&&(n[""]=t)}}function Qj(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Pi(i.type)),o=new ba(s,xn(i),ee);t.blueprint[r]=o,n[r]=o,function $j(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function jj(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Ha(t,n,i.hostVars,Q),i)}function Jj(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)BS(r,n,o[a++],o[a++],o[a++])}function BS(t,e,n,r,i){const s=ut(null);try{null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{ut(s)}}function Xj(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function US(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function $S(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];Dp(n[r]),o.contentQueries(2,e[s],s)}}}function ql(t,e){return t[Ia]?t[ob][An]=e:t[Ia]=e,t[ob]=e,e}function Fg(t,e,n){Dp(0);const r=ut(null);try{e(t,n)}finally{ut(r)}}function Vg(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];BS(t.data[o],e[o],r,a,i)}}function wr(t,e,n){const r=function al(t,e){return we(e[t])}(e,t);!function wC(t,e,n){t.setValue(e,n)}(t[K],r,n)}function Zj(t,e){const n=Jt(e,t),r=n[M];!function eH(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[nt];null!==i&&null===n[gr]&&(n[gr]=aS(i,n[Ns])),Bg(r,n,n[Pe])}function Bg(t,e,n){Tp(e);try{const r=t.viewQuery;null!==r&&Fg(1,r,n);const i=t.template;null!==i&&kS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&$S(t,e),t.staticViewQueries&&Fg(2,t.viewQuery,n);const s=t.components;null!==s&&function tH(t,e){for(let n=0;n<e.length;n++)Zj(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,bp()}}let qS=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new DB(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=me({token:t,providedIn:"root",factory:()=>new t}),t})();function Wl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Zf(i,a):2==s&&(r=Zf(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Ga(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(we(s)),Qt(s)){for(let a=yt;a<s.length;a++){const u=s[a],c=u[M].firstChild;null!==c&&Ga(u[M],u,c,r)}s[Hn]!==s[nt]&&r.push(s[Hn])}const o=n.type;if(8&o)Ga(t,e,n.child,r);else if(32&o){const a=qp(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=NC(e,n);if(Array.isArray(a))r.push(...a);else{const u=ka(e[We]);Ga(u[M],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Kl(t,e,n,r=!0){const i=e[ki].rendererFactory;i.begin&&i.begin();try{Ql(t,e,t.template,n)}catch(o){throw r&&function zS(t,e){const n=t[Ns],r=n?n.get(Bi,null):null;r&&r.handleError(e)}(e,o),o}finally{i.end&&i.end(),e[ki].effectManager?.flush()}}function Ql(t,e,n,r){const i=e[Y];if(256!=(256&i)){e[ki].effectManager?.flush(),Tp(e);try{Eb(e),function Mb(t){return U.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&kS(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&dl(e,c,null)}else{const c=t.preOrderHooks;null!==c&&hl(e,c,0,null),Cp(e,0)}if(function aH(t){for(let e=Wp(t);null!==e;e=Kp(e)){if(!e[ub])continue;const n=e[Ps];for(let r=0;r<n.length;r++){RB(n[r])}}}(e),function oH(t){for(let e=Wp(t);null!==e;e=Kp(e))for(let n=yt;n<e.length;n++){const r=e[n],i=r[M];ul(r)&&Ql(i,r,i.template,r[Pe])}}(e),null!==t.contentQueries&&$S(t,e),o){const c=t.contentCheckHooks;null!==c&&dl(e,c)}else{const c=t.contentHooks;null!==c&&hl(e,c,1),Cp(e,1)}!function xj(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=TS(e,el);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Oi(~s);else{const o=s,a=n[++i],u=n[++i];WB(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[el]&&bS(e,el),Oi(-1)}}(t,e);const a=t.components;null!==a&&function cH(t,e){for(let n=0;n<e.length;n++)uH(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Fg(2,u,r),o){const c=t.viewCheckHooks;null!==c&&dl(e,c)}else{const c=t.viewHooks;null!==c&&hl(e,c,2),Cp(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Y]&=-73,Db(e)}finally{bp()}}}function uH(t,e){const n=Jt(e,t);if(ul(n)){const r=n[M];80&n[Y]?Ql(r,n,r.template,n[Pe]):n[Ni]>0&&Ug(n)}}function Ug(t){for(let r=Wp(t);null!==r;r=Kp(r))for(let i=yt;i<r.length;i++){const s=r[i];if(ul(s))if(1024&s[Y]){const o=s[M];Ql(o,s,o.template,s[Pe])}else s[Ni]>0&&Ug(s)}const n=t[M].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Jt(n[r],t);ul(i)&&i[Ni]>0&&Ug(i)}}class za{get rootNodes(){const e=this._lView,n=e[M];return Ga(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pe]}set context(e){this._lView[Pe]=e}get destroyed(){return 256==(256&this._lView[Y])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ae];if(Qt(e)){const n=e[tl],r=n?n.indexOf(this):-1;r>-1&&(Yp(e,r),_l(n,r))}this._attachedToViewContainer=!1}DC(this._lView[M],this._lView)}onDestroy(e){!function bb(t,e){if(256==(256&t[Y]))throw new R(911,!1);null===t[Qr]&&(t[Qr]=[]),t[Qr].push(e)}(this._lView,e)}markForCheck(){ja(this._cdRefInjectingView||this._lView)}detach(){this._lView[Y]&=-129}reattach(){this._lView[Y]|=128}detectChanges(){Kl(this._lView[M],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new R(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function s$(t,e){Pa(t,e,e[K],2,null,null)}(this._lView[M],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new R(902,!1);this._appRef=e}}class lH extends za{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Kl(e[M],e,e[Pe],!1)}checkNoChanges(){}get context(){return null}}class WS extends $l{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=le(e);return new qa(n,this.ngModule)}}function KS(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class hH{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Yc(r);const i=this.injector.get(e,Sg,r);return i!==Sg||n===Sg?i:this.parentInjector.get(e,n,r)}}class qa extends lS{get inputs(){return KS(this.componentDef.inputs)}get outputs(){return KS(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function sB(t){return t.map(iB).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Qs?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new hH(e,s):e,a=o.get(hS,null);if(null===a)throw new R(407,!1);const l={rendererFactory:a,sanitizer:o.get(pj,null),effectManager:o.get(qS,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function Nj(t,e,n,r){const s=r.get(yS,!1)||n===an.ShadowDom,o=t.selectRootElement(e,s);return function kj(t){PS(t)}(o),o}(d,r,this.componentDef.encapsulation,o):Cl(d,h,function dH(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,g=Rg(0,null,null,1,0,null,null,null,null,null,null),m=zl(null,g,null,p,null,null,l,d,o,null,null);let w,_;Tp(m);try{const D=this.componentDef;let k,O=null;D.findHostDirectiveDefs?(k=[],O=new Map,D.findHostDirectiveDefs(D,k,O),k.push(D)):k=[D];const Z=function pH(t,e){const n=t[M],r=re;return t[r]=e,eo(n,r,2,"#host",null)}(m,f),et=function gH(t,e,n,r,i,s,o){const a=i[M];!function mH(t,e,n,r){for(const i of t)e.mergedAttrs=_a(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Wl(e,e.mergedAttrs,!0),null!==n&&OC(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=aS(e,i[Ns]));const c=s.rendererFactory.createRenderer(e,n),l=zl(i,RS(n),null,n.onPush?64:16,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&Og(a,t,r.length-1),ql(i,l),i[t.index]=l}(Z,f,D,k,m,l,d);_=wb(g,re),f&&function _H(t,e,n,r){if(r)cp(t,n,["ng-version",pS.full]);else{const{attrs:i,classes:s}=function oB(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Sn(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&cp(t,n,i),s&&s.length>0&&PC(t,n,s.join(" "))}}(d,D,f,r),void 0!==n&&function vH(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,n),w=function yH(t,e,n,r,i,s){const o=_t(),a=i[M],u=Yt(o,i);FS(a,i,o,n,null,r);for(let l=0;l<n.length;l++)xt(Li(i,a,o.directiveStart+l,o),i);VS(a,i,o),u&&xt(u,i);const c=Li(i,a,o.directiveStart+o.componentOffset,o);if(t[Pe]=i[Pe]=c,null!==s)for(const l of s)l(c,e);return Mg(a,o,t),c}(et,D,k,O,m,[IH]),Bg(g,m,null)}finally{bp()}return new fH(this.componentType,w,Js(_,m),m,_)}}class fH extends uj{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new lH(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Vg(s[M],s,i,e,n),this.previousInputValues.set(e,n),ja(Jt(this._tNode.index,s))}}get injector(){return new Bs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function IH(){const t=_t();ll(E()[M],t)}function Yl(t){return!!function jg(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Mt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ro(t,e,n,r,i,s){const a=function Ui(t,e,n,r){const i=Mt(t,e,n);return Mt(t,e+1,r)||i}(t,function mr(){return U.lFrame.bindingIndex}(),n,i);return function yr(t){const e=U.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2),a?e+q(n)+r+q(i)+s:Q}function Kg(t,e,n,r,i,s,o,a){const u=E(),c=oe(),l=t+re,d=c.firstCreatePass?function QH(t,e,n,r,i,s,o,a,u){const c=e.consts,l=eo(e,t,4,o||null,Yr(c,a));Pg(e,n,l,Yr(c,u)),ll(e,l);const d=l.tView=Rg(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];qn(d,!1);const h=fA(c,u,d,t);cl()&&Al(c,u,h,d),xt(h,u),ql(u,u[l]=US(h,u,h,d)),nl(d)&&Ng(c,u,d),null!=o&&kg(u,d,a)}let fA=function pA(t,e,n,r){return Jr(!0),e[K].createComment("")};function Ja(t,e,n){const r=E();return Mt(r,Fs(),e)&&function hn(t,e,n,r,i,s,o,a){const u=Yt(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Vg(t,n,l,r,i),Ri(e)&&function Bj(t,e){const n=Jt(e,t);16&n[Y]||(n[Y]|=64)}(n,e.index)):3&e.type&&(r=function Vj(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(oe(),function xe(){const t=U.lFrame;return wb(t.tView,t.selectedIndex)}(),r,t,e,r[K],n,!1),Ja}function Qg(t,e,n,r,i){const o=i?"class":"style";Vg(t,n,e.inputs[o],o,r)}function vt(t,e,n,r){const i=E(),s=oe(),o=re+t,a=i[K],u=s.firstCreatePass?function eG(t,e,n,r,i,s){const o=e.consts,u=eo(e,t,2,r,Yr(o,i));return Pg(e,n,u,Yr(o,s)),null!==u.attrs&&Wl(u,u.attrs,!1),null!==u.mergedAttrs&&Wl(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=gA(s,i,u,a,e,t);i[o]=c;const l=nl(u);return qn(u,!0),OC(a,c,u),32!=(32&u.flags)&&cl()&&Al(s,i,c,u),0===function OB(){return U.lFrame.elementDepthCount}()&&xt(c,i),function LB(){U.lFrame.elementDepthCount++}(),l&&(Ng(s,i,u),Mg(s,u,i)),null!==r&&kg(i,u),vt}function Nt(){let t=_t();vp()?function Ip(){U.lFrame.isParent=!1}():(t=t.parent,qn(t,!1));const e=t;(function VB(t){return U.skipHydrationRootTNode===t})(e)&&function jB(){U.skipHydrationRootTNode=null}(),function FB(){U.lFrame.elementDepthCount--}();const n=oe();return n.firstCreatePass&&(ll(n,t),hp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function sU(t){return 0!=(8&t.flags)}(e)&&Qg(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function oU(t){return 0!=(16&t.flags)}(e)&&Qg(n,e,E(),e.stylesWithoutHost,!1),Nt}function td(t,e,n,r){return vt(t,e,n,r),Nt(),td}let gA=(t,e,n,r,i,s)=>(Jr(!0),Cl(r,i,function Vb(){return U.lFrame.currentNamespace}()));function Xg(t){return!!t&&"function"==typeof t.then}function _A(t){return!!t&&"function"==typeof t.subscribe}function fn(t,e=""){const n=E(),r=oe(),i=t+re,s=r.firstCreatePass?eo(r,i,1,e,null):r.data[i],o=KA(r,n,s,e,t);n[i]=o,cl()&&Al(r,n,o,s),qn(s,!1)}let KA=(t,e,n,r,i)=>(Jr(!0),function bl(t,e){return t.createText(e)}(e[K],r));function ho(t){return fo("",t,""),ho}function fo(t,e,n){const r=E(),i=function no(t,e,n,r){return Mt(t,Fs(),n)?e+q(n)+r:Q}(r,t,e,n);return i!==Q&&wr(r,Bt(),i),fo}function im(t,e,n,r,i){const s=E(),o=ro(s,t,e,n,r,i);return o!==Q&&wr(s,Bt(),o),im}const go="en-US";let gx=go;class mo{}class tz{}class dm extends mo{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new WS(this);const i=function un(t,e){const n=t[W0]||null;if(!n&&!0===e)throw new Error(`Type ${tt(t)} does not have '\u0275mod' property.`);return n}(e);this._bootstrapComponents=function vr(t){return t instanceof Function?t():t}(i.bootstrap),this._r3Injector=NS(e,n,[{provide:mo,useValue:this},{provide:$l,useValue:this.componentFactoryResolver},...r],tt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class hm extends tz{constructor(e){super(),this.moduleType=e}create(e){return new dm(this.moduleType,e,[])}}function Kx(t,e,n,r,i,s){const o=e+n;return Mt(t,o,i)?function Qn(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function iu(t,e){const n=t[e];return n===Q?void 0:n}(t,o+1)}function eM(t,e,n){const r=t+re,i=E(),s=function Os(t,e){return t[e]}(i,r);return function su(t,e){return t[M].data[e].pure}(i,r)?Kx(i,function Vt(){const t=U.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,s.transform,n,s):s.transform(n)}function pm(t){return e=>{setTimeout(t,void 0,e)}}const Er=class Mz extends Gf{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=pm(s),i&&(i=pm(i)),o&&(o=pm(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Cn&&e.add(a),a}};let Dr=(()=>{class t{}return t.__NG_ELEMENT_ID__=Pz,t})();const kz=Dr,Rz=class extends kz{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const i=this._declarationTContainer.tView,s=zl(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,n||null,r||null);s[wa]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[jn];return null!==a&&(s[jn]=a.createEmbeddedView(i)),Bg(i,s,e),new za(s)}};function Pz(){return function ud(t,e){return 4&t.type?new Rz(e,t,Js(t,e)):null}(_t(),E())}let Xn=(()=>{class t{}return t.__NG_ELEMENT_ID__=$z,t})();function $z(){return function oM(t,e){let n;const r=e[t.index];return Qt(r)?n=r:(n=US(r,e,null,t),e[t.index]=n,ql(e,n)),aM(n,e,t,r),new iM(n,t,e)}(_t(),E())}const jz=Xn,iM=class extends jz{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Js(this._hostTNode,this._hostLView)}get injector(){return new Bs(this._hostTNode,this._hostLView)}get parentInjector(){const e=Mp(this._hostTNode,this._hostLView);if(jb(e)){const n=pl(e,this._hostLView),r=fl(e);return new Bs(n[M].data[r+8],n)}return new Bs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=sM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-yt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function Sa(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new qa(le(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(Qs,null);m&&(s=m)}le(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[M];if(function kB(t){return Qt(t[Ae])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Ae],l=new iM(c,c[At],c[Ae]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function a$(t,e,n,r){const i=yt+r,s=n.length;r>0&&(n[i-1][An]=e),r<s-yt?(e[An]=n[i],eC(n,yt+r,e)):(n.push(e),e[An]=null),e[Ae]=n;const o=e[wa];null!==o&&n!==o&&function u$(t,e){const n=t[Ps];e[We]!==e[Ae][Ae][We]&&(t[ub]=!0),null===n?t[Ps]=[e]:n.push(e)}(o,e);const a=e[jn];null!==a&&a.insertView(t),e[Y]|=128}(s,i,a,o),!r){const u=eg(o,a),c=i[K],l=Sl(c,a[Hn]);null!==l&&function i$(t,e,n,r,i,s){r[nt]=i,r[At]=e,Pa(t,r,n,1,i,s)}(s,a[At],c,i,l,u)}return e.attachToViewContainerRef(),eC(ym(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=sM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Yp(this._lContainer,n);r&&(_l(ym(this._lContainer),n),DC(r[M],r))}detach(e){const n=this._adjustIndex(e,-1),r=Yp(this._lContainer,n);return r&&null!=_l(ym(this._lContainer),n)?new za(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function sM(t){return t[tl]}function ym(t){return t[tl]||(t[tl]=[])}let aM=function uM(t,e,n,r){if(t[Hn])return;let i;i=8&n.type?we(r):function Hz(t,e){const n=t[K],r=n.createComment(""),i=Yt(e,t);return Fi(n,Sl(n,i),r,function h$(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Hn]=i};const D3=new $("Application Initializer");let Sm=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Ie(D3,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Xg(s))n.push(s);else if(_A(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Tr=new $("LocaleId",{providedIn:"root",factory:()=>Ie(Tr,j.Optional|j.SkipSelf)||function b3(){return typeof $localize<"u"&&$localize.locale||go}()}),M3=(()=>Promise.resolve(0))();function Am(t){typeof Zone>"u"?M3.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function RM(...t){}class Me{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Er(!1),this.onMicrotaskEmpty=new Er(!1),this.onStable=new Er(!1),this.onError=new Er(!1),typeof Zone>"u")throw new R(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function N3(){let t=ye.requestAnimationFrame,e=ye.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function P3(t){const e=()=>{!function R3(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ye,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Mm(t),t.isCheckStableRunning=!0,xm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Mm(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return PM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),OM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return PM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),OM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Mm(t),xm(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Me.isInAngularZone())throw new R(909,!1)}static assertNotInAngularZone(){if(Me.isInAngularZone())throw new R(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,k3,RM,RM);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const k3={};function xm(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Mm(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function PM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function OM(t){t._nesting--,xm(t)}class O3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Er,this.onMicrotaskEmpty=new Er,this.onStable=new Er,this.onError=new Er}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const LM=new $("",{providedIn:"root",factory:FM});function FM(){const t=Ie(Me);let e=!0;return kV(new mt(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new mt(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Me.assertNotInAngularZone(),Am(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Me.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(function RV(t={}){const{connector:e=(()=>new Gf),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return As((g,m)=>{c++,!d&&!l&&h();const w=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=Jf(p,i))}),w.subscribe(m),!o&&c>0&&(o=new fa({next:_=>w.next(_),error:_=>{d=!0,h(),a=Jf(f,n,_),w.error(_)},complete:()=>{l=!0,h(),a=Jf(f,r),w.complete()}}),Gr(g).subscribe(o))})(s)}}()))}const VM=new $(""),ld=new $("");let Rm,Nm=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Rm||(function L3(t){Rm=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Me.assertNotInAngularZone(),Am(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Am(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(ne(Me),ne(km),ne(ld))},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})(),km=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Rm?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),ti=null;const BM=new $("AllowMultipleToken"),Pm=new $("PlatformDestroyListeners"),UM=new $("appBootstrapListener");function HM(t,e,n=[]){const r=`Platform: ${e}`,i=new $(r);return(s=[])=>{let o=Om();if(!o||o.injector.get(BM,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function B3(t){if(ti&&!ti.get(BM,!1))throw new R(400,!1);(function $M(){!function wB(t){pb=t}(()=>{throw new R(600,!1)})})(),ti=t;const e=t.get(zM);(function jM(t){t.get(rS,null)?.forEach(n=>n())})(t)}(function GM(t=[],e){return Ir.create({name:e,providers:[{provide:hg,useValue:"platform"},{provide:Pm,useValue:new Set([()=>ti=null])},...t]})}(a,r))}return function $3(t){const e=Om();if(!e)throw new R(401,!1);return e}()}}function Om(){return ti?.get(zM)??null}let zM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function j3(t="zone.js",e){return"noop"===t?new O3:"zone.js"===t?new Me(e):t}(r?.ngZone,function qM(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function rz(t,e,n){return new dm(t,e,n)}(n.moduleType,this.injector,function JM(t){return[{provide:Me,useFactory:t},{provide:Rl,multi:!0,useFactory:()=>{const e=Ie(G3,{optional:!0});return()=>e.initialize()}},{provide:YM,useFactory:H3},{provide:LM,useFactory:FM}]}(()=>i)),o=s.injector.get(Bi,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{dd(this._modules,s),a.unsubscribe()})}),function WM(t,e,n){try{const r=n();return Xg(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(Sm);return a.runInitializers(),a.donePromise.then(()=>(function mx(t){_n(t,"Expected localeId to be defined"),"string"==typeof t&&(gx=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Tr,go)||go),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=KM({},r);return function F3(t,e,n){const r=new hm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(au);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new R(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new R(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Pm,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(ne(Ir))},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function KM(t,e){return Array.isArray(e)?e.reduce(KM,t):{...t,...e}}let au=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ie(YM),this.componentTypes=[],this.components=[],this.isStable=Ie(LM),this._injector=Ie(Qs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof lS;if(!this._injector.get(Sm).done)throw!i&&function va(t){const e=le(t)||St(t)||Kt(t);return null!==e&&e.standalone}(n),new R(405,!1);let o;o=i?n:this._injector.get($l).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function V3(t){return t.isBoundToModule}(o)?void 0:this._injector.get(mo),c=o.create(Ir.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(VM,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),dd(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new R(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;dd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(UM,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>dd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new R(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function dd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const YM=new $("",{providedIn:"root",factory:()=>Ie(Bi).handleError.bind(void 0)});function H3(){const t=Ie(Me),e=Ie(Bi);return n=>t.runOutsideAngular(()=>e.handleError(n))}let G3=(()=>{class t{constructor(){this.zone=Ie(Me),this.applicationRef=Ie(au)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let q3=(()=>{class t{}return t.__NG_ELEMENT_ID__=W3,t})();function W3(t){return function K3(t,e,n){if(Ri(t)&&!n){const r=Jt(t.index,e);return new za(r,r)}return 47&t.type?new za(e[We],e):null}(_t(),E(),16==(16&t))}class tN{constructor(){}supports(e){return Yl(e)}create(e){return new eq(e)}}const Z3=(t,e)=>e;class eq{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Z3}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<rN(r,i,s)?n:r,a=rN(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Yl(e))throw new R(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function NH(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new tq(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new nN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class tq{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nq{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class nN{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new nq,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function rN(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function sN(){return new pd([new tN])}let pd=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||sN()),deps:[[t,new Fp,new dn]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new R(901,!1)}}return t.\u0275prov=me({token:t,providedIn:"root",factory:sN}),t})();const aq=HM(null,"core",[]);let uq=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(ne(au))},t.\u0275mod=Mi({type:t}),t.\u0275inj=Wr({}),t})(),jm=null;function Hm(){return jm}class Iq{}const Gi=new $("DocumentToken");class u6{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let DN=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new u6(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),TN(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{TN(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(ee(Xn),ee(Dr),ee(pd))},t.\u0275dir=vn({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function TN(t,e){t.context.$implicit=e.item}class f6{createSubscription(e,n){return e.subscribe({next:n,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class p6{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const g6=new p6,m6=new f6;let SN=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Xg(n))return g6;if(_A(n))return m6;throw function On(t,e){return new R(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(n){return new(n||t)(ee(q3,16))},t.\u0275pipe=Wt({name:"async",type:t,pure:!1,standalone:!0}),t})(),P6=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Mi({type:t}),t.\u0275inj=Wr({}),t})();function MN(t){return"server"===t}class h9 extends Iq{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class oy extends h9{static makeCurrent(){!function vq(t){jm||(jm=t)}(new oy)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function f9(){return hu=hu||document.querySelector("base"),hu?hu.getAttribute("href"):null}();return null==n?null:function p9(t){Ad=Ad||document.createElement("a"),Ad.setAttribute("href",t);const e=Ad.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){hu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function s6(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Ad,hu=null,m9=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})();const ay=new $("EventManagerPlugins");let LN=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new R(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)(ne(ay),ne(Me))},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})();class FN{constructor(e){this._doc=e}}const uy="ng-app-id";let VN=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=MN(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${uy}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(uy),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(uy,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(ne(Gi),ne(Ll),ne(iS,8),ne(Zr))},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})();const cy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ly=/%COMP%/g,I9=new $("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function UN(t,e){return e.map(n=>n.replace(ly,t))}let $N=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=MN(a),this.defaultRenderer=new dy(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===an.ShadowDom&&(r={...r,encapsulation:an.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof HN?i.applyToHost(n):i instanceof hy&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(r.encapsulation){case an.Emulated:s=new HN(u,c,r,this.appId,l,o,a,d);break;case an.ShadowDom:return new T9(u,c,n,r,o,a,this.nonce,d);default:s=new hy(u,c,r,l,o,a,d)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(ne(LN),ne(VN),ne(Ll),ne(I9),ne(Gi),ne(Zr),ne(Me),ne(iS))},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})();class dy{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(cy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(jN(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(jN(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new R(5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=cy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=cy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Xt.DashCase|Xt.Important)?e.style.setProperty(n,r,i&Xt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Xt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Hm().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function jN(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class T9 extends dy{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=UN(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class hy extends dy{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u?UN(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class HN extends hy{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function w9(t){return"_ngcontent-%COMP%".replace(ly,t)}(c),this.hostAttr=function E9(t){return"_nghost-%COMP%".replace(ly,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let b9=(()=>{class t extends FN{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(ne(Gi))},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})();const GN=["alt","control","meta","shift"],C9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},S9={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let A9=(()=>{class t extends FN{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hm().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),GN.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=C9[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),GN.forEach(o=>{o!==i&&(0,S9[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(ne(Gi))},t.\u0275prov=me({token:t,factory:t.\u0275fac}),t})();const qN=[{provide:Zr,useValue:"browser"},{provide:rS,useValue:function x9(){oy.makeCurrent()},multi:!0},{provide:Gi,useFactory:function N9(){return function I$(t){rg=t}(document),document},deps:[]}],k9=HM(aq,"browser",qN),R9=new $(""),WN=[{provide:ld,useClass:class g9{addToWindow(e){ye.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new R(5103,!1);return s},ye.getAllAngularTestabilities=()=>e.getAllTestabilities(),ye.getAllAngularRootElements=()=>e.getAllRootElements(),ye.frameworkStabilizers||(ye.frameworkStabilizers=[]),ye.frameworkStabilizers.push(r=>{const i=ye.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Hm().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:VM,useClass:Nm,deps:[Me,km,ld]},{provide:Nm,useClass:Nm,deps:[Me,km,ld]}],KN=[{provide:hg,useValue:"root"},{provide:Bi,useFactory:function M9(){return new Bi},deps:[]},{provide:ay,useClass:b9,multi:!0,deps:[Gi,Me,Zr]},{provide:ay,useClass:A9,multi:!0,deps:[Gi]},$N,VN,LN,{provide:hS,useExisting:$N},{provide:class B6{},useClass:m9,deps:[]},[]];let P9=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Ll,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(ne(R9,12))},t.\u0275mod=Mi({type:t}),t.\u0275inj=Wr({providers:[...KN,...WN],imports:[P6,uq]}),t})();function XN(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){XN(s,r,i,o,a,"next",u)}function a(u){XN(s,r,i,o,a,"throw",u)}o(void 0)})}}typeof window<"u"&&window;const ZN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},gy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ZN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new G9;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xd=function(t){return function(t){const e=ZN(t);return gy.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Md=function(t){try{return gy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Nd=()=>{try{return function W9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Md(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},tk=()=>{var t;return null===(t=Nd())||void 0===t?void 0:t.config};class kd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function pn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function my(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function zi(){try{return"object"==typeof indexedDB}catch{return!1}}function fu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function yy(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ln extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zn.prototype.create)}}class Zn{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function s5(t,e){return t.replace(o5,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ln(i,`${this.serviceName}: ${o} (${i}).`,r)}}const o5=/\{\$([^}]+)}/g;function _y(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(rk(s)&&rk(o)){if(!_y(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rk(t){return null!==t&&"object"==typeof t}function ik(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class u5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function c5(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=vy),void 0===i.error&&(i.error=vy),void 0===i.complete&&(i.complete=vy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vy(){}const l5=1e3,d5=2,h5=144e5,f5=.5;function wy(t,e=l5,n=d5){const r=e*Math.pow(n,t),i=Math.round(f5*r*(Math.random()-.5)*2);return Math.min(h5,r+i)}function ri(t){return t&&t._delegate?t._delegate:t}class kt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qi="[DEFAULT]";class g5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function y5(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=qi){return this.instances.has(e)}getOptions(e=qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===qi?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=qi){return this.component?this.component.multipleInstances?e:qi:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Ey=[];var H=(()=>((H=H||{})[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",H))();const sk={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},v5=H.INFO,I5={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},w5=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=I5[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class vo{constructor(e){this.name=e,this._logLevel=v5,this._logHandler=w5,this._userLogHandler=null,Ey.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in H))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?sk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...e),this._logHandler(this,H.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...e),this._logHandler(this,H.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,H.INFO,...e),this._logHandler(this,H.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,H.WARN,...e),this._logHandler(this,H.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...e),this._logHandler(this,H.ERROR,...e)}}const E5=(t,e)=>e.some(n=>t instanceof n);let ok,ak;const uk=new WeakMap,Dy=new WeakMap,ck=new WeakMap,Ty=new WeakMap,by=new WeakMap;let Cy={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Dy.get(t);if("objectStoreNames"===e)return t.objectStoreNames||ck.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function x5(t){return"function"==typeof t?function A5(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function T5(){return ak||(ak=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Sy(this),e),ii(uk.get(this))}:function(...e){return ii(t.apply(Sy(this),e))}:function(e,...n){const r=t.call(Sy(this),e,...n);return ck.set(r,e.sort?e.sort():[e]),ii(r)}}(t):(t instanceof IDBTransaction&&function C5(t){if(Dy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Dy.set(t,e)}(t),E5(t,function D5(){return ok||(ok=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Cy):t)}function ii(t){if(t instanceof IDBRequest)return function b5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ii(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uk.set(n,t)}).catch(()=>{}),by.set(e,t),e}(t);if(Ty.has(t))return Ty.get(t);const e=x5(t);return e!==t&&(Ty.set(t,e),by.set(e,t)),e}const Sy=t=>by.get(t),N5=["get","getKey","getAll","getAllKeys","count"],k5=["put","add","delete","clear"],Ay=new Map;function lk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Ay.get(e))return Ay.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=k5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!N5.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Ay.set(e,s),s}!function S5(t){Cy=t(Cy)}(t=>({...t,get:(e,n,r)=>lk(e,n)||t.get(e,n,r),has:(e,n)=>!!lk(e,n)||t.has(e,n)}));class R5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function P5(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const xy="@firebase/app",Wi=new vo("@firebase/app"),Pd="[DEFAULT]",oW={[xy]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ki=new Map,Od=new Map;function aW(t,e){try{t.container.addComponent(e)}catch(n){Wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jt(t){const e=t.name;if(Od.has(e))return Wi.debug(`There were multiple attempts to register component ${e}.`),!1;Od.set(e,t);for(const n of Ki.values())aW(n,t);return!0}function Ld(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Cr=new Zn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cW{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}const pu="9.22.1";function hk(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Pd,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Cr.create("bad-app-name",{appName:String(i)});if(n||(n=tk()),!n)throw Cr.create("no-options");const s=Ki.get(i);if(s){if(_y(n,s.options)&&_y(r,s.config))return s;throw Cr.create("duplicate-app",{appName:i})}const o=new _5(i);for(const u of Od.values())o.addComponent(u);const a=new cW(n,r,o);return Ki.set(i,a),a}function fk(t=Pd){const e=Ki.get(t);if(!e&&t===Pd&&tk())return hk();if(!e)throw Cr.create("no-app",{appName:t});return e}function pk(){return Array.from(Ki.values())}function je(t,e,n){var r;let i=null!==(r=oW[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Wi.warn(a.join(" "))}jt(new kt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const lW="firebase-heartbeat-database",dW=1,gu="firebase-heartbeat-store";let Ny=null;function gk(){return Ny||(Ny=function M5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ii(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ii(o.result),u.oldVersion,u.newVersion,ii(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(lW,dW,{upgrade:(t,e)=>{0===e&&t.createObjectStore(gu)}}).catch(t=>{throw Cr.create("idb-open",{originalErrorMessage:t.message})})),Ny}function ky(){return(ky=y(function*(t){try{return yield(yield gk()).transaction(gu).objectStore(gu).get(yk(t))}catch(e){if(e instanceof Ln)Wi.warn(e.message);else{const n=Cr.create("idb-get",{originalErrorMessage:e?.message});Wi.warn(n.message)}}})).apply(this,arguments)}function mk(t,e){return Ry.apply(this,arguments)}function Ry(){return(Ry=y(function*(t,e){try{const r=(yield gk()).transaction(gu,"readwrite");yield r.objectStore(gu).put(e,yk(t)),yield r.done}catch(n){if(n instanceof Ln)Wi.warn(n.message);else{const r=Cr.create("idb-set",{originalErrorMessage:n?.message});Wi.warn(r.message)}}})).apply(this,arguments)}function yk(t){return`${t.name}!${t.options.appId}`}class gW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_k();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=_k(),{heartbeatsToSend:r,unsentEntries:i}=function mW(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),vk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=xd(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function _k(){return(new Date).toISOString().substring(0,10)}class yW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!zi()&&fu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function hW(t){return ky.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return mk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return mk(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function vk(t){return xd(JSON.stringify({version:2,heartbeats:t})).length}!function _W(t){jt(new kt("platform-logger",e=>new R5(e),"PRIVATE")),jt(new kt("heartbeat",e=>new gW(e),"PRIVATE")),je(xy,"0.9.11",t),je(xy,"0.9.11","esm2017"),je("fire-js","")}(""),je("firebase","9.22.1","app");const wW=(t,e)=>e.some(n=>t instanceof n);let Ik,wk;const Ek=new WeakMap,Py=new WeakMap,Dk=new WeakMap,Oy=new WeakMap,Ly=new WeakMap;let Fy={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Py.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Dk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function AW(t){return"function"==typeof t?function SW(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function DW(){return wk||(wk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Vy(this),e),si(Ek.get(this))}:function(...e){return si(t.apply(Vy(this),e))}:function(e,...n){const r=t.call(Vy(this),e,...n);return Dk.set(r,e.sort?e.sort():[e]),si(r)}}(t):(t instanceof IDBTransaction&&function bW(t){if(Py.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Py.set(t,e)}(t),wW(t,function EW(){return Ik||(Ik=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Fy):t)}function si(t){if(t instanceof IDBRequest)return function TW(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(si(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ek.set(n,t)}).catch(()=>{}),Ly.set(e,t),e}(t);if(Oy.has(t))return Oy.get(t);const e=AW(t);return e!==t&&(Oy.set(t,e),Ly.set(e,t)),e}const Vy=t=>Ly.get(t),MW=["get","getKey","getAll","getAllKeys","count"],NW=["put","add","delete","clear"],By=new Map;function Tk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(By.get(e))return By.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=NW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!MW.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return By.set(e,s),s}!function CW(t){Fy=t(Fy)}(t=>({...t,get:(e,n,r)=>Tk(e,n)||t.get(e,n,r),has:(e,n)=>!!Tk(e,n)||t.has(e,n)}));const bk="@firebase/installations",Uy="0.6.4",Ck=1e4,Sk=`w:${Uy}`,Ak="FIS_v2",kW="https://firebaseinstallations.googleapis.com/v1",RW=36e5,Sr=new Zn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xk(t){return t instanceof Ln&&t.code.includes("request-failed")}function $y({projectId:t}){return`${kW}/projects/${t}/installations`}function Mk(t){return{token:t.token,requestStatus:2,expiresIn:FW(t.expiresIn),creationTime:Date.now()}}function jy(t,e){return Hy.apply(this,arguments)}function Hy(){return(Hy=y(function*(t,e){const r=(yield e.json()).error;return Sr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Nk({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Gy(t){return zy.apply(this,arguments)}function zy(){return(zy=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function FW(t){return Number(t.replace("s","000"))}function qy(){return(qy=y(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=$y(t),i=Nk(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:Ak,appId:t.appId,sdkVersion:Sk})},u=yield Gy(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Mk(c.authToken)}}throw yield jy("Create Installation",u)})).apply(this,arguments)}function Rk(t){return new Promise(e=>{setTimeout(e,t)})}const $W=/^[cdef][\w-]{21}$/,Wy="";function jW(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function HW(t){return function UW(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return $W.test(n)?n:Wy}catch{return Wy}}function Io(t){return`${t.appName}!${t.appId}`}const wo=new Map;function Pk(t,e){const n=Io(t);Ok(n,e),function qW(t,e){const n=function Lk(){return!Qi&&"BroadcastChannel"in self&&(Qi=new BroadcastChannel("[Firebase] FID Change"),Qi.onmessage=t=>{Ok(t.data.key,t.data.fid)}),Qi}();n&&n.postMessage({key:t,fid:e}),function Fk(){0===wo.size&&Qi&&(Qi.close(),Qi=null)}()}(n,e)}function Ok(t,e){const n=wo.get(t);if(n)for(const r of n)r(e)}let Qi=null;const WW="firebase-installations-database",KW=1,Yi="firebase-installations-store";let Ky=null;function Qy(){return Ky||(Ky=function xW(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=si(o);return r&&o.addEventListener("upgradeneeded",u=>{r(si(o.result),u.oldVersion,u.newVersion,si(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(WW,KW,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Yi)}})),Ky}function Fd(t,e){return Yy.apply(this,arguments)}function Yy(){return(Yy=y(function*(t,e){const n=Io(t),i=(yield Qy()).transaction(Yi,"readwrite"),s=i.objectStore(Yi),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&Pk(t,e.fid),e})).apply(this,arguments)}function Jy(t){return Xy.apply(this,arguments)}function Xy(){return(Xy=y(function*(t){const e=Io(t),r=(yield Qy()).transaction(Yi,"readwrite");yield r.objectStore(Yi).delete(e),yield r.done})).apply(this,arguments)}function mu(t,e){return Zy.apply(this,arguments)}function Zy(){return(Zy=y(function*(t,e){const n=Io(t),i=(yield Qy()).transaction(Yi,"readwrite"),s=i.objectStore(Yi),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&Pk(t,a.fid),a})).apply(this,arguments)}function e_(t){return t_.apply(this,arguments)}function t_(){return t_=y(function*(t){let e;const n=yield mu(t.appConfig,r=>{const i=function QW(t){return Bk(t||{fid:jW(),registrationStatus:0})}(r),s=function YW(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Sr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function JW(t,e){return n_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:XW(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Wy?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),t_.apply(this,arguments)}function n_(){return n_=y(function*(t,e){try{const n=yield function BW(t,e){return qy.apply(this,arguments)}(t,e);return Fd(t.appConfig,n)}catch(n){throw xk(n)&&409===n.customData.serverCode?yield Jy(t.appConfig):yield Fd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),n_.apply(this,arguments)}function XW(t){return r_.apply(this,arguments)}function r_(){return(r_=y(function*(t){let e=yield Vk(t.appConfig);for(;1===e.registrationStatus;)yield Rk(100),e=yield Vk(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield e_(t);return r||n}return e})).apply(this,arguments)}function Vk(t){return mu(t,e=>{if(!e)throw Sr.create("installation-not-found");return Bk(e)})}function Bk(t){return function ZW(t){return 1===t.registrationStatus&&t.registrationTime+Ck<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function i_(){return(i_=y(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function t7(t,{fid:e}){return`${$y(t)}/${e}/authTokens:generate`}(t,n),i=function kk(t,{refreshToken:e}){const n=Nk(t);return n.append("Authorization",function VW(t){return`${Ak} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Sk,appId:t.appId}})},u=yield Gy(()=>fetch(r,a));if(u.ok)return Mk(yield u.json());throw yield jy("Generate Auth Token",u)})).apply(this,arguments)}function s_(t){return o_.apply(this,arguments)}function o_(){return o_=y(function*(t,e=!1){let n;const r=yield mu(t.appConfig,s=>{if(!$k(s))throw Sr.create("not-registered");const o=s.authToken;if(!e&&function i7(t){return 2===t.requestStatus&&!function s7(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+RW}(t)}(o))return s;if(1===o.requestStatus)return n=function n7(t,e){return a_.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Sr.create("app-offline");const a=function o7(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function r7(t,e){return u_.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),o_.apply(this,arguments)}function a_(){return(a_=y(function*(t,e){let n=yield Uk(t.appConfig);for(;1===n.authToken.requestStatus;)yield Rk(100),n=yield Uk(t.appConfig);const r=n.authToken;return 0===r.requestStatus?s_(t,e):r})).apply(this,arguments)}function Uk(t){return mu(t,e=>{if(!$k(e))throw Sr.create("not-registered");return function a7(t){return 1===t.requestStatus&&t.requestTime+Ck<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function u_(){return u_=y(function*(t,e){try{const n=yield function e7(t,e){return i_.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Fd(t.appConfig,r),n}catch(n){if(!xk(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Fd(t.appConfig,r)}else yield Jy(t.appConfig);throw n}}),u_.apply(this,arguments)}function $k(t){return void 0!==t&&2===t.registrationStatus}function c_(){return(c_=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield e_(e);return r?r.catch(console.error):s_(e).catch(console.error),n.fid})).apply(this,arguments)}function l_(){return l_=y(function*(t,e=!1){const n=t;return yield function l7(t){return d_.apply(this,arguments)}(n),(yield s_(n,e)).token}),l_.apply(this,arguments)}function d_(){return(d_=y(function*(t){const{registrationPromise:e}=yield e_(t);e&&(yield e)})).apply(this,arguments)}function p_(t){return Sr.create("missing-app-config-values",{valueName:t})}const jk="installations",g7=t=>{const e=t.getProvider("app").getImmediate(),n=function f7(t){if(!t||!t.options)throw p_("App Configuration");if(!t.name)throw p_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw p_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Ld(e,"heartbeat"),_delete:()=>Promise.resolve()}},m7=t=>{const n=Ld(t.getProvider("app").getImmediate(),jk).getImmediate();return{getId:()=>function u7(t){return c_.apply(this,arguments)}(n),getToken:i=>function c7(t){return l_.apply(this,arguments)}(n,i)}};(function y7(){jt(new kt(jk,g7,"PUBLIC")),jt(new kt("installations-internal",m7,"PRIVATE"))})(),je(bk,Uy),je(bk,Uy,"esm2017");const g_="@firebase/remote-config",tn=new Zn("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class A7{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function x7(t=navigator){return t.languages&&t.languages[0]||t.language}class M7{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:x7()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((w,_)=>{e.signal.addEventListener(()=>{const D=new Error("The operation was aborted.");D.name="AbortError",_(D)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(w){let _="fetch-client-network";throw"AbortError"===w?.name&&(_="fetch-timeout"),tn.create(_,{originalErrorMessage:w?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let w;try{w=yield h.json()}catch(_){throw tn.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=w.entries,m=w.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw tn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class R7{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return y(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return y(function*(){yield function N7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function k7(t){if(!(t instanceof Ln&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+wy(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class L7{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Bd(t,e){const n=t.target.error||void 0;return tn.create(e,{originalErrorMessage:n&&n?.message})}const Ji="app_namespace_store";class U7{constructor(e,n,r,i=function B7(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Bd(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ji,{keyPath:"compositeKey"})}}catch(n){e(tn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ji],"readonly").objectStore(Ji),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Bd(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(tn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([Ji],"readwrite").objectStore(Ji),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Bd(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(tn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Ji],"readwrite").objectStore(Ji),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Bd(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(tn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class $7{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function H7(){return I_.apply(this,arguments)}function I_(){return(I_=y(function*(){if(!zi())return!1;try{return yield fu()}catch{return!1}})).apply(this,arguments)}!function j7(){jt(new kt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw tn.create("registration-window");if(!zi())throw tn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw tn.create("registration-project-id");if(!o)throw tn.create("registration-api-key");if(!a)throw tn.create("registration-app-id");const u=new U7(a,r.name,n=n||"firebase"),c=new $7(u),l=new vo(g_);l.logLevel=H.ERROR;const d=new M7(i,pu,n,s,o,a),h=new R7(d,u),f=new A7(h,u,c,l),p=new L7(r,f,c,u,l);return function b7(t){const e=ri(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),je(g_,"0.4.4"),je(g_,"0.4.4","esm2017")}();const G7=(t,e)=>e.some(n=>t instanceof n);let qk,Wk;const Kk=new WeakMap,w_=new WeakMap,Qk=new WeakMap,E_=new WeakMap,D_=new WeakMap;let T_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return w_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Qk.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ar(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function J7(t){return"function"==typeof t?function Y7(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function q7(){return Wk||(Wk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(b_(this),e),Ar(Kk.get(this))}:function(...e){return Ar(t.apply(b_(this),e))}:function(e,...n){const r=t.call(b_(this),e,...n);return Qk.set(r,e.sort?e.sort():[e]),Ar(r)}}(t):(t instanceof IDBTransaction&&function K7(t){if(w_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});w_.set(t,e)}(t),G7(t,function z7(){return qk||(qk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,T_):t)}function Ar(t){if(t instanceof IDBRequest)return function W7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ar(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Kk.set(n,t)}).catch(()=>{}),D_.set(e,t),e}(t);if(E_.has(t))return E_.get(t);const e=J7(t);return e!==t&&(E_.set(t,e),D_.set(e,t)),e}const b_=t=>D_.get(t);function Yk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ar(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ar(o.result),u.oldVersion,u.newVersion,Ar(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function C_(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ar(n).then(()=>{})}const X7=["get","getKey","getAll","getAllKeys","count"],Z7=["put","add","delete","clear"],S_=new Map;function Jk(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(S_.get(e))return S_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Z7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!X7.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return S_.set(e,s),s}!function Q7(t){T_=t(T_)}(t=>({...t,get:(e,n,r)=>Jk(e,n)||t.get(e,n,r),has:(e,n)=>!!Jk(e,n)||t.has(e,n)}));const e8="/firebase-messaging-sw.js",t8="/firebase-cloud-messaging-push-scope",Xk="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",n8="https://fcmregistrations.googleapis.com/v1",Zk="google.c.a.c_id",r8="google.c.a.c_l",i8="google.c.a.ts";var oi=(()=>((oi=oi||{}).PUSH_RECEIVED="push-received",oi.NOTIFICATION_CLICKED="notification-clicked",oi))();function xr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function o8(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const A_="fcm_token_details_db",a8=5,e1="fcm_token_object_Store";function x_(){return x_=y(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(A_))return null;let e=null;return(yield Yk(A_,a8,{upgrade:(r=y(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(e1))return;const c=a.objectStore(e1),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:xr(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:xr(d.auth),p256dh:xr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:xr(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:xr(d.auth),p256dh:xr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:xr(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield C_(A_),yield C_("fcm_vapid_details_db"),yield C_("undefined"),function c8(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),x_.apply(this,arguments)}const l8="firebase-messaging-database",d8=1,Xi="firebase-messaging-store";let M_=null;function N_(){return M_||(M_=Yk(l8,d8,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Xi)}})),M_}function t1(t){return k_.apply(this,arguments)}function k_(){return k_=y(function*(t){const e=L_(t),r=yield(yield N_()).transaction(Xi).objectStore(Xi).get(e);if(r)return r;{const i=yield function u8(t){return x_.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield R_(t,i),i}}),k_.apply(this,arguments)}function R_(t,e){return P_.apply(this,arguments)}function P_(){return(P_=y(function*(t,e){const n=L_(t),i=(yield N_()).transaction(Xi,"readwrite");return yield i.objectStore(Xi).put(e,n),yield i.done,e})).apply(this,arguments)}function O_(){return(O_=y(function*(t){const e=L_(t),r=(yield N_()).transaction(Xi,"readwrite");yield r.objectStore(Xi).delete(e),yield r.done})).apply(this,arguments)}function L_({appConfig:t}){return t.appId}const It=new Zn("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function p8(t,e){return F_.apply(this,arguments)}function F_(){return(F_=y(function*(t,e){const n=yield $_(t),r=r1(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(U_(t.appConfig),i)).json()}catch(o){throw It.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw It.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw It.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function V_(){return(V_=y(function*(t,e){const n=yield $_(t),r=r1(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${U_(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw It.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw It.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw It.create("token-update-no-token");return s.token})).apply(this,arguments)}function n1(t,e){return B_.apply(this,arguments)}function B_(){return(B_=y(function*(t,e){const r={method:"DELETE",headers:yield $_(t)};try{const s=yield(yield fetch(`${U_(t.appConfig)}/${e}`,r)).json();if(s.error)throw It.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw It.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function U_({projectId:t}){return`${n8}/projects/${t}/registrations`}function $_(t){return j_.apply(this,arguments)}function j_(){return(j_=y(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function r1({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Xk&&(i.web.applicationPubKey=r),i}const m8=6048e5;function H_(){return H_=y(function*(t){const e=yield function v8(t,e){return W_.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:xr(e.getKey("auth")),p256dh:xr(e.getKey("p256dh"))},r=yield t1(t.firebaseDependencies);if(r){if(function I8(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+m8?function _8(t,e){return z_.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield n1(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return s1(t.firebaseDependencies,n)}return s1(t.firebaseDependencies,n)}),H_.apply(this,arguments)}function G_(){return G_=y(function*(t){const e=yield t1(t.firebaseDependencies);e&&(yield n1(t.firebaseDependencies,e.token),yield function h8(t){return O_.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),G_.apply(this,arguments)}function z_(){return z_=y(function*(t,e){try{const n=yield function g8(t,e){return V_.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield R_(t.firebaseDependencies,r),n}catch(n){throw yield function i1(t){return G_.apply(this,arguments)}(t),n}}),z_.apply(this,arguments)}function s1(t,e){return q_.apply(this,arguments)}function q_(){return(q_=y(function*(t,e){const r={token:yield p8(t,e),createTime:Date.now(),subscriptionOptions:e};return yield R_(t,r),r.token})).apply(this,arguments)}function W_(){return(W_=y(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:o8(e)})})).apply(this,arguments)}function o1(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function w8(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function E8(t,e){e.data&&(t.data=e.data)}(e,t),function D8(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function a1(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function K_(t){return It.create("missing-app-config-values",{valueName:t})}a1("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),a1("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class C8{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function b8(t){if(!t||!t.options)throw K_("App Configuration Object");if(!t.name)throw K_("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw K_(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Q_(){return(Q_=y(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(e8,{scope:t8}),t.swRegistration.update().catch(()=>{})}catch(e){throw It.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Y_(){return(Y_=y(function*(t,e){if(!e&&!t.swRegistration&&(yield function u1(t){return Q_.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw It.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function J_(){return(J_=y(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Xk)})).apply(this,arguments)}function X_(){return X_=y(function*(t,e){if(!navigator)throw It.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw It.create("permission-blocked");return yield function A8(t,e){return J_.apply(this,arguments)}(t,e?.vapidKey),yield function S8(t,e){return Y_.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function y8(t){return H_.apply(this,arguments)}(t)}),X_.apply(this,arguments)}function Z_(){return(Z_=y(function*(t,e,n){const r=function M8(t){switch(t){case oi.NOTIFICATION_CLICKED:return"notification_open";case oi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Zk],message_name:n[r8],message_time:n[i8],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ev(){return ev=y(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===oi.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(o1(n)):t.onMessageHandler.next(o1(n)));const r=n.data;(function T8(t){return"object"==typeof t&&!!t&&Zk in t})(r)&&"1"===r["google.c.a.e"]&&(yield function x8(t,e,n){return Z_.apply(this,arguments)}(t,n.messageType,r))}),ev.apply(this,arguments)}const l1="@firebase/messaging",k8=t=>{const e=new C8(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function N8(t,e){return ev.apply(this,arguments)}(e,n)),e},R8=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function c1(t,e){return X_.apply(this,arguments)}(e,r)}};function h1(){return tv.apply(this,arguments)}function tv(){return(tv=y(function*(){try{yield fu()}catch{return!1}return typeof window<"u"&&zi()&&yy()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function P8(){jt(new kt("messaging",k8,"PUBLIC")),jt(new kt("messaging-internal",R8,"PRIVATE")),je(l1,"0.12.4"),je(l1,"0.12.4","esm2017")}();const Ud="analytics",F8="firebase_id",V8="origin",B8=6e4,U8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",iv="https://www.googletagmanager.com/gtag/js",ct=new vo("@firebase/analytics"),Ht=new Zn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function j8(t){if(!t.startsWith(iv)){const e=Ht.create("invalid-gtag-resource",{gtagURL:t});return ct.warn(e.message),""}return t}function f1(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function sv(){return(sv=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield f1(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){ct.error(a)}t("config",i,s)})).apply(this,arguments)}function ov(){return(ov=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield f1(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){ct.error(s)}})).apply(this,arguments)}const J8=30,p1=new class Z8{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function eK(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function av(){return(av=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:eK(r)},s=U8.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Ht.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function uv(){return(uv=y(function*(t,e=p1,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ht.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ht.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new sK;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:B8),g1({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function g1(t,e,n){return cv.apply(this,arguments)}function cv(){return cv=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=p1){var s;const{appId:o,measurementId:a}=t;try{yield function rK(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ht.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return ct.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function tK(t){return av.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function iK(t){if(!(t instanceof Ln&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return ct.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?wy(n,i.intervalMillis,J8):wy(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),ct.debug(`Calling attemptFetch again in ${l} millis`),g1(t,d,r,i)}}),cv.apply(this,arguments)}class sK{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let lv,yv;function dv(){return(dv=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function _v(){return(_v=y(function*(){if(!zi())return ct.warn(Ht.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield fu()}catch(t){return ct.warn(Ht.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function vv(){return vv=y(function*(t,e,n,r,i,s,o){var a;const u=function nK(t){return uv.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&ct.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>ct.error(f)),e.push(u);const c=function hK(){return _v.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function Y8(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(iv)&&n.src.includes(t))return n;return null})(s)||function G8(t,e){const n=function H8(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:j8}),r=document.createElement("script"),i=`${iv}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),yv&&(i("consent","default",yv),function m1(t){yv=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[V8]="firebase",h.update=!0,null!=d&&(h[F8]=d),i("config",l.measurementId,h),lv&&(i("set",lv),function y1(t){lv=t}(void 0)),l.measurementId}),vv.apply(this,arguments)}class pK{constructor(e){this.app=e}_delete(){return delete er[this.app.options.appId],Promise.resolve()}}let er={},_1=[];const v1={};let w1,tr,$d="dataLayer",Iv=!1;function mK(t,e,n){!function gK(){const t=[];if(my()&&t.push("This is a browser extension environment."),yy()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ht.create("invalid-analytics-context",{errorInfo:e});ct.warn(n.message)}}();const r=t.options.appId;if(!r)throw Ht.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Ht.create("no-api-key");ct.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=er[r])throw Ht.create("already-exists",{id:r});if(!Iv){!function z8(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}($d);const{wrappedGtag:s,gtagCore:o}=function Q8(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function K8(t,e,n,r){function s(){return s=y(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function W8(t,e,n,r,i){return ov.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function q8(t,e,n,r,i,s){return sv.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){ct.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(er,_1,v1,$d,"gtag");tr=s,w1=o,Iv=!0}return er[r]=function fK(t,e,n,r,i,s,o){return vv.apply(this,arguments)}(t,_1,v1,e,w1,$d,n),new pK(t)}function _K(){return wv.apply(this,arguments)}function wv(){return(wv=y(function*(){if(my()||!yy()||!zi())return!1;try{return yield fu()}catch{return!1}})).apply(this,arguments)}const E1="@firebase/analytics";!function IK(){jt(new kt(Ud,(e,{options:n})=>mK(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),jt(new kt("analytics-internal",function t(e){try{const n=e.getProvider(Ud).getImmediate();return{logEvent:(r,i,s)=>function vK(t,e,n,r){t=ri(t),function oK(t,e,n,r,i){return dv.apply(this,arguments)}(tr,er[t.app.options.appId],e,n,r).catch(i=>ct.error(i))}(n,r,i,s)}}catch(n){throw Ht.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),je(E1,"0.10.0"),je(E1,"0.10.0","esm2017")}();class wK extends Cn{constructor(e,n){super()}schedule(e,n=0){return this}}const jd={setInterval(t,e,...n){const{delegate:r}=jd;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=jd;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class T1 extends wK{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return jd.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&jd.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ss(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const b1={now:()=>(b1.delegate||Date).now(),delegate:void 0};class yu{constructor(e,n=yu.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}yu.now=b1.now;class C1 extends yu{constructor(e,n=yu.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const TK=new class DK extends C1{}(class EK extends T1{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),bK=new C1(T1),Dv=new jl("7.6.1"),Tv="__angularfire_symbol__analyticsIsSupportedValue",bv="__angularfire_symbol__analyticsIsSupported",Cv="__angularfire_symbol__remoteConfigIsSupportedValue",Sv="__angularfire_symbol__remoteConfigIsSupported",Av="__angularfire_symbol__messagingIsSupportedValue",xv="__angularfire_symbol__messagingIsSupported";globalThis[bv]||(globalThis[bv]=_K().then(t=>globalThis[Tv]=t).catch(()=>globalThis[Tv]=!1)),globalThis[xv]||(globalThis[xv]=h1().then(t=>globalThis[Av]=t).catch(()=>globalThis[Av]=!1)),globalThis[Sv]||(globalThis[Sv]=H7().then(t=>globalThis[Cv]=t).catch(()=>globalThis[Cv]=!1));const kv=(t,e)=>{const n=e?[e]:pk(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Eo(){}class S1{constructor(e,n=TK){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class SK{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eo,{},Eo,Eo)),n.pipe(function CK(t,e,n){const r=Se(t)||e||n?{next:t,error:e,complete:n}:t;return r?As((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(pa(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Hf}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let A1=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new S1(Zone.current)),this.insideAngular=n.run(()=>new S1(Zone.current,bK)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(ne(Me))},t.\u0275prov=me({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zi(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function es(t){return Zi().ngZone.run(()=>t())}function xK(t){return Zi(),function MK(t){return function(n){return(n=n.lift(new SK(t.ngZone))).pipe(Gc(t.outsideAngular),Hc(t.insideAngular))}}(Zi())(t)}const NK=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),es(()=>t.apply(void 0,r))},Rv=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=es(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eo,{},Eo,Eo)))),r[s]=NK(r[s],n));const i=function AK(t){return Zi().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof mt){const s=Zi();return i.pipe(Gc(s.outsideAngular),Hc(s.insideAngular))}return es(()=>i)}return i instanceof mt?i.pipe(xK):i instanceof Promise?es(()=>new Promise((s,o)=>i.then(a=>es(()=>s(a)),a=>es(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:es(()=>i)};class Do{constructor(e){return e}}class x1{constructor(){return pk()}}const Pv=new $("angularfire2._apps"),RK={provide:Do,useFactory:function kK(t){return t&&1===t.length?t[0]:new Do(fk())},deps:[[new dn,Pv]]},PK={provide:x1,deps:[[new dn,Pv]]};function OK(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Do(r)}}let LK=(()=>{class t{constructor(n){je("angularfire",Dv.full,"core"),je("angularfire",Dv.full,"app"),je("angular",pS.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(ne(Zr))},t.\u0275mod=Mi({type:t}),t.\u0275inj=Wr({providers:[RK,PK]}),t})();function FK(t,...e){return{ngModule:LK,providers:[{provide:Pv,useFactory:OK(t),multi:!0,deps:[Me,Ir,A1,...e]}]}}const VK=Rv(hk,!0);const BK=function M1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},N1=new Zn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Hd=new vo("@firebase/auth");function Gd(t,...e){Hd.logLevel<=H.ERROR&&Hd.error(`Auth (${pu}): ${t}`,...e)}function nn(t,...e){throw Ov(t,...e)}function nr(t,...e){return Ov(t,...e)}function Ov(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return N1.create(t,...e)}function C(t,e,...n){if(!t)throw Ov(e,...n)}function rr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gd(e),new Error(e)}function ai(t,e){t||rr(e)}function R1(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ai(n>e,"Short delay should be less than long delay!"),this.isMobile=function t5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}()||function r5(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function $K(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Lv(){return"http:"===R1()||"https:"===R1()}()||my()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class P1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},GK=new vu(3e4,6e4);function Le(t,e,n,r){return Vv.apply(this,arguments)}function Vv(){return(Vv=y(function*(t,e,n,r,i={}){return O1(t,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=ik(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),P1.fetch()(L1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function O1(t,e,n){return Bv.apply(this,arguments)}function Bv(){return(Bv=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},HK),e);try{const i=new zK(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Iu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Iu(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw Iu(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw Iu(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function k1(t,e,n){const r=Object.assign(Object.assign({},BK()),{[e]:n});return new Zn("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);nn(t,l)}}catch(i){if(i instanceof Ln)throw i;nn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function L1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function Fv(t,e){ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class zK{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(nr(this.auth,"network-request-failed")),GK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Iu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=nr(t,e,r);return i.customData._tokenResponse=n,i}function $v(){return($v=y(function*(t,e){return Le(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Hv(){return(Hv=y(function*(t,e){return Le(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function wu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Gv(){return(Gv=y(function*(t,e=!1){const n=ri(t),r=yield n.getIdToken(e),i=zd(r);C(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:wu(zv(i.auth_time)),issuedAtTime:wu(zv(i.iat)),expirationTime:wu(zv(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function zv(t){return 1e3*Number(t)}function zd(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return Gd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Md(n);return i?JSON.parse(i):(Gd("Failed to decode base64 JWT payload"),null)}catch(i){return Gd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Nr(t,e){return qv.apply(this,arguments)}function qv(){return(qv=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Ln&&function JK({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class XK{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class F1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wu(this.lastLoginAt),this.creationTime=wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Eu(t){return Wv.apply(this,arguments)}function Wv(){return Wv=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Nr(t,function KK(t,e){return Hv.apply(this,arguments)}(n,{idToken:r}));C(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function tQ(t){return t.map(e=>{var{providerId:n}=e,r=Wf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function eQ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new F1(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),Wv.apply(this,arguments)}function Kv(){return(Kv=y(function*(t){const e=ri(t);yield Eu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Qv(){return(Qv=y(function*(t,e){const n=yield O1(t,{},y(function*(){const r=ik({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=L1(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",P1.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){C(e.idToken,"internal-error"),C(typeof e.idToken<"u","internal-error"),C(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function YK(t){const e=zd(t);return C(e,"internal-error"),C(typeof e.exp<"u","internal-error"),C(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return C(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function nQ(t,e){return Qv.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Du;return r&&(C("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(C("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(C("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Du,this.toJSON())}_performRefresh(){return rr("not implemented")}}function ui(t,e){C("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ts{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Wf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new XK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new F1(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield Nr(n,n.stsTokenManager.getToken(n.auth,e));return C(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function QK(t){return Gv.apply(this,arguments)}(this,e)}reload(){return function ZK(t){return Kv.apply(this,arguments)}(this)}_assign(e){this!==e&&(C(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){C(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Eu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield Nr(e,function qK(t,e){return $v.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,w=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:D,emailVerified:k,isAnonymous:O,providerData:Z,stsTokenManager:et}=n;C(D&&et,e,"internal-error");const jr=Du.fromJSON(this.name,et);C("string"==typeof D,e,"internal-error"),ui(d,e.name),ui(h,e.name),C("boolean"==typeof k,e,"internal-error"),C("boolean"==typeof O,e,"internal-error"),ui(f,e.name),ui(p,e.name),ui(g,e.name),ui(m,e.name),ui(w,e.name),ui(_,e.name);const ha=new ts({uid:D,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:O,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:jr,createdAt:w,lastLoginAt:_});return Z&&Array.isArray(Z)&&(ha.providerData=Z.map(dre=>Object.assign({},dre))),m&&(ha._redirectEventId=m),ha}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new Du;i.updateFromServerResponse(n);const s=new ts({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Eu(s),s})()}}const V1=new Map;function kr(t){ai(t instanceof Function,"Expected a class definition");let e=V1.get(t);return e?(ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,V1.set(t,e),e)}const B1=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function qd(t,e,n){return`firebase:${t}:${e}:${n}`}class bo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=qd(this.userKey,i.apiKey,s),this.fullPersistenceKey=qd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ts._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new bo(kr(B1),e,r);const i=(yield Promise.all(n.map(function(){var c=y(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||kr(B1);const o=qd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=ts._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=y(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new bo(s,e,r)):new bo(s,e,r)})()}}function U1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function H1(t=pn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function $1(t=pn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function z1(t=pn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function q1(t=pn()){return/webos/i.test(t)}(e))return"Webos";if(function Yv(t=pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function j1(t=pn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function G1(t=pn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function W1(t,e=[]){let n;switch(t){case"Browser":n=U1(pn());break;case"Worker":n=`${U1(pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pu}/${r}`}function K1(t,e){return Xv.apply(this,arguments)}function Xv(){return(Xv=y(function*(t,e){return Le(t,"GET","/v2/recaptchaConfig",function ke(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function Y1(t){return void 0!==t&&void 0!==t.enterprise}class J1{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class Z1{constructor(e){this.type="recaptcha-enterprise",this.auth=lt(e)}verify(e="verify",n=!1){var r=this;return y(function*(){function s(){return s=y(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=y(function*(c,l){K1(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new J1(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;Y1(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&Y1(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function Zv(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=nr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function oQ(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class lQ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class dQ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eR(this),this.idTokenSubscription=new eR(this),this.beforeStateQueue=new lQ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=kr(n)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield bo.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return C(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield Eu(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function jK(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?ri(e):null;return r&&C(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&C(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(kr(e))}))}initializeRecaptchaConfig(){var e=this;return y(function*(){const n=yield K1(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new J1(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new Z1(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&kr(e)||n._popupRedirectResolver;C(r,n,"argument-error"),n.redirectPersistenceManager=yield bo.create(n,[kr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return C(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return C(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=W1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return y(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function UK(t,...e){Hd.logLevel<=H.WARN&&Hd.warn(`Auth (${pu}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function lt(t){return ri(t)}class eR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function a5(t,e){const n=new u5(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return C(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function X1(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new vu(3e4,6e4),new vu(2e3,1e4),new vu(3e4,6e4),new vu(5e3,15e3),encodeURIComponent("fac");var xR="@firebase/auth";class rJ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){C(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Nd(),function sJ(t){jt(new kt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;C(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:W1(t)},c=new dQ(r,i,s,u);return function fQ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(kr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jt(new kt("auth-internal",e=>{const n=lt(e.getProvider("auth").getImmediate());return new rJ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),je(xR,"0.23.2",function iJ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),je(xR,"0.23.2","esm2017")}("Browser");class RR{constructor(){return kv("auth")}}const $w=new Map,PR={activated:!1,tokenObservers:[]},hJ={initialized:!1,enabled:!1};function Fe(t){return $w.get(t)||Object.assign({},PR)}function sh(){return hJ}const jw="https://content-firebaseappcheck.googleapis.com/v1",mJ="exchangeDebugToken",OR={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class _J{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new kd,yield function vJ(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new kd,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const wt=new Zn("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Hw(t){if(!Fe(t).activated)throw wt.create("use-before-activation",{appName:t.name})}function uh(t,e){return zw.apply(this,arguments)}function zw(){return zw=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw wt.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw wt.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw wt.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw wt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),zw.apply(this,arguments)}function LR(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${jw}/projects/${n}/apps/${r}:${mJ}?key=${i}`,body:{debug_token:e}}}const DJ="firebase-app-check-database",TJ=1,Au="firebase-app-check-store";let ch=null;function qw(){return qw=y(function*(t,e){const r=(yield function VR(){return ch||(ch=new Promise((t,e)=>{try{const n=indexedDB.open(DJ,TJ);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(wt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Au,{keyPath:"compositeKey"})}}catch(n){e(wt.create("storage-open",{originalErrorMessage:n?.message}))}}),ch)}()).transaction(Au,"readwrite"),s=r.objectStore(Au).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(wt.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),qw.apply(this,arguments)}const xu=new vo("@firebase/app-check");function Qw(t,e){return zi()?function CJ(t,e){return function BR(t,e){return qw.apply(this,arguments)}(function $R(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{xu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Jw(){return sh().enabled}function Xw(){return Zw.apply(this,arguments)}function Zw(){return Zw=y(function*(){const t=sh();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Zw.apply(this,arguments)}const kJ={error:"UNKNOWN_ERROR"};function RJ(t){return gy.encodeString(JSON.stringify(t),!1)}function lh(t){return eE.apply(this,arguments)}function eE(){return eE=y(function*(t,e=!1){const n=t.app;Hw(n);const r=Fe(n);let s,i=r.token;if(i&&!So(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(So(u)?i=u:yield Qw(n,void 0))}if(!e&&i&&So(i))return{token:i.token};let a,o=!1;if(Jw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=uh(LR(n,yield Xw()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield Qw(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Fe(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?xu.warn(u.message):xu.error(u),s=u}return i?s?a=So(i)?{token:i.token,internalError:s}:zR(s):(a={token:i.token},r.token=i,yield Qw(n,i)):a=zR(s),o&&function GR(t,e){const n=Fe(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),eE.apply(this,arguments)}function tE(){return tE=y(function*(t){const e=t.app;Hw(e);const{provider:n}=Fe(e);if(Jw()){const r=yield Xw(),{token:i}=yield uh(LR(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),tE.apply(this,arguments)}function rE(t,e){const n=Fe(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function HR(t){const{app:e}=t,n=Fe(e);let r=n.tokenRefresher;r||(r=function PJ(t){const{app:e}=t;return new _J(y(function*(){let r;if(r=Fe(e).token?yield lh(t,!0):yield lh(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Fe(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},OR.RETRIAL_MIN_WAIT,OR.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function So(t){return t.expireTimeMillis-Date.now()>0}function zR(t){return{token:RJ(kJ),error:t}}class OJ{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Fe(this.app);for(const n of e)rE(this.app,n.next);return Promise.resolve()}}const ZR="app-check-internal";!function QJ(){jt(new kt("app-check",t=>function LJ(t,e){return new OJ(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(ZR).initialize()})),jt(new kt(ZR,t=>function FJ(t){return{getToken:e=>lh(t,e),getLimitedUseToken:()=>function jR(t){return tE.apply(this,arguments)}(t),addTokenListener:e=>function nE(t,e,n,r){const{app:i}=t,s=Fe(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&So(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),HR(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>HR(t))}(t,"INTERNAL",e),removeTokenListener:e=>rE(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),je("@firebase/app-check","0.8.0")}();class tP{constructor(){return kv("app-check")}}typeof window<"u"&&window;var x,eX=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fn={},uE=uE||{},W=eX||self;function hh(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Mu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var cE="closure_uid_"+(1e9*Math.random()>>>0),nX=0;function rX(t,e,n){return t.call.apply(t.bind,arguments)}function iX(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Rt(t,e,n){return(Rt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rX:iX).apply(null,arguments)}function fh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function dt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function li(){this.s=this.s,this.o=this.o}li.prototype.s=!1,li.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function tX(t){Object.prototype.hasOwnProperty.call(t,cE)&&t[cE]||(t[cE]=++nX)}(this)},li.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function lE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function rP(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(hh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Pt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var oX=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{W.addEventListener("test",()=>{},e),W.removeEventListener("test",()=>{},e)}catch{}return t}();function Nu(t){return/^[\s\xa0]*$/.test(t)}function ph(){var t=W.navigator;return t&&(t=t.userAgent)?t:""}function ir(t){return-1!=ph().indexOf(t)}function dE(t){return dE[" "](t),t}dE[" "]=function(){};var fE,uX=ir("Opera"),Ao=ir("Trident")||ir("MSIE"),iP=ir("Edge"),hE=iP||Ao,sP=ir("Gecko")&&!(-1!=ph().toLowerCase().indexOf("webkit")&&!ir("Edge"))&&!(ir("Trident")||ir("MSIE"))&&!ir("Edge"),cX=-1!=ph().toLowerCase().indexOf("webkit")&&!ir("Edge");function oP(){var t=W.document;return t?t.documentMode:void 0}e:{var pE="",gE=function(){var t=ph();return sP?/rv:([^\);]+)(\)|;)/.exec(t):iP?/Edge\/([\d\.]+)/.exec(t):Ao?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):cX?/WebKit\/(\S+)/.exec(t):uX?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(gE&&(pE=gE?gE[1]:""),Ao){var mE=oP();if(null!=mE&&mE>parseFloat(pE)){fE=String(mE);break e}}fE=pE}var lX=W.document&&Ao&&(oP()||parseInt(fE,10))||void 0;function ku(t,e){if(Pt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(sP){e:{try{dE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:dX[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ku.$.h.call(this)}}dt(ku,Pt);var dX={2:"touch",3:"pen",4:"mouse"};ku.prototype.h=function(){ku.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ru="closure_listenable_"+(1e6*Math.random()|0),hX=0;function fX(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++hX,this.fa=this.ia=!1}function gh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function _E(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function uP(t){const e={};for(const n in t)e[n]=t[n];return e}const cP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lP(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<cP.length;s++)n=cP[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mh(t){this.src=t,this.g={},this.h=0}function vE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=nP(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(gh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function IE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}mh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=IE(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new fX(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var wE="closure_lm_"+(1e6*Math.random()|0),EE={};function dP(t,e,n,r,i){if(r&&r.once)return fP(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)dP(t,e[s],n,r,i);return null}return n=CE(n),t&&t[Ru]?t.O(e,n,Mu(r)?!!r.capture:!!r,i):hP(t,e,n,!1,r,i)}function hP(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Mu(i)?!!i.capture:!!i,a=TE(t);if(a||(t[wE]=a=new mh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function gX(){const e=mX;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)oX||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gP(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function fP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)fP(t,e[s],n,r,i);return null}return n=CE(n),t&&t[Ru]?t.P(e,n,Mu(r)?!!r.capture:!!r,i):hP(t,e,n,!0,r,i)}function pP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)pP(t,e[s],n,r,i);else r=Mu(r)?!!r.capture:!!r,n=CE(n),t&&t[Ru]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=IE(s=t.g[e],n,r,i))&&(gh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=TE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=IE(e,n,r,i)),(n=-1<t?e[t]:null)&&DE(n))}function DE(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[Ru])vE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=TE(e))?(vE(n,t),0==n.h&&(n.src=null,e[wE]=null)):gh(t)}}}function gP(t){return t in EE?EE[t]:EE[t]="on"+t}function mX(t,e){if(t.fa)t=!0;else{e=new ku(e,this);var n=t.listener,r=t.la||t.src;t.ia&&DE(t),t=n.call(r,e)}return t}function TE(t){return(t=t[wE])instanceof mh?t:null}var bE="__closure_events_fn_"+(1e9*Math.random()>>>0);function CE(t){return"function"==typeof t?t:(t[bE]||(t[bE]=function(e){return t.handleEvent(e)}),t[bE])}function ht(){li.call(this),this.i=new mh(this),this.S=this,this.J=null}function Et(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Pt(e,t);else if(e instanceof Pt)e.target=e.target||t;else{var i=e;lP(e=new Pt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=yh(o,r,!0,e)&&i}if(i=yh(o=e.g=t,r,!0,e)&&i,i=yh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=yh(o=e.g=n[s],r,!1,e)&&i}function yh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&vE(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}dt(ht,li),ht.prototype[Ru]=!0,ht.prototype.removeEventListener=function(t,e,n,r){pP(this,t,e,n,r)},ht.prototype.N=function(){if(ht.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)gh(n[r]);delete t.g[e],t.h--}}this.J=null},ht.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},ht.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var SE=W.JSON.stringify;function _X(){var t=AE;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var mP=new class yX{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new IX,t=>t.reset());class IX{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function wX(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function EX(t){W.setTimeout(()=>{throw t},0)}let Pu,Ou=!1,AE=new class vX{constructor(){this.h=this.g=null}add(e,n){const r=mP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},yP=()=>{const t=W.Promise.resolve(void 0);Pu=()=>{t.then(DX)}};var DX=()=>{for(var t;t=_X();){try{t.h.call(t.g)}catch(n){EX(n)}var e=mP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ou=!1};function _h(t,e){ht.call(this),this.h=t||1,this.g=e||W,this.j=Rt(this.qb,this),this.l=Date.now()}function xE(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function ME(t,e,n){if("function"==typeof t)n&&(t=Rt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Rt(t.handleEvent,t)}return 2147483647<Number(e)?-1:W.setTimeout(t,e||0)}function _P(t){t.g=ME(()=>{t.g=null,t.i&&(t.i=!1,_P(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}dt(_h,ht),(x=_h.prototype).ga=!1,x.T=null,x.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Et(this,"tick"),this.ga&&(xE(this),this.start()))}},x.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},x.N=function(){_h.$.N.call(this),xE(this),delete this.g};class TX extends li{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_P(this)}N(){super.N(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lu(t){li.call(this),this.h=t,this.g={}}dt(Lu,li);var vP=[];function IP(t,e,n,r){Array.isArray(n)||(n&&(vP[0]=n.toString()),n=vP);for(var i=0;i<n.length;i++){var s=dP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function wP(t){_E(t.g,function(e,n){this.g.hasOwnProperty(n)&&DE(e)},t),t.g={}}function vh(){this.g=!0}function xo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function AX(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return SE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Lu.prototype.N=function(){Lu.$.N.call(this),wP(this)},Lu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vh.prototype.Ea=function(){this.g=!1},vh.prototype.info=function(){};var ss={},EP=null;function Ih(){return EP=EP||new ht}function DP(t){Pt.call(this,ss.Ta,t)}function Fu(t){const e=Ih();Et(e,new DP(e))}function TP(t,e){Pt.call(this,ss.STAT_EVENT,t),this.stat=e}function Gt(t){const e=Ih();Et(e,new TP(e,t))}function bP(t,e){Pt.call(this,ss.Ua,t),this.size=e}function Vu(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){t()},e)}ss.Ta="serverreachability",dt(DP,Pt),ss.STAT_EVENT="statevent",dt(TP,Pt),ss.Ua="timingevent",dt(bP,Pt);var wh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},CP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function NE(){}function AP(){}NE.prototype.h=null;var PE,Bu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kE(){Pt.call(this,"d")}function RE(){Pt.call(this,"c")}function Eh(){}function Uu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Lu(this),this.P=xX,this.V=new _h(t=hE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xP}function xP(){this.i=null,this.g="",this.h=!1}dt(kE,Pt),dt(RE,Pt),dt(Eh,NE),Eh.prototype.g=function(){return new XMLHttpRequest},Eh.prototype.i=function(){return{}},PE=new Eh;var xX=45e3,OE={},Dh={};function LE(t,e,n){t.L=1,t.v=Sh(Pr(e)),t.s=n,t.S=!0,MP(t,null)}function MP(t,e){t.G=Date.now(),$u(t),t.A=Pr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),UP(n.i,"t",r),t.C=0,n=t.l.J,t.h=new xP,t.g=lO(t.l,n?e:null,!t.s),0<t.O&&(t.M=new TX(Rt(t.Pa,t,t.g),t.O)),IP(t.U,t.g,"readystatechange",t.nb),e=t.I?uP(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Fu(),function bX(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function NP(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function kP(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=MX(t,n),i==Dh){4==e&&(t.o=4,Gt(14),r=!1),xo(t.j,t.m,null,"[Incomplete Response]");break}if(i==OE){t.o=4,Gt(15),xo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}xo(t.j,t.m,i,null),FE(t,i)}NP(t)&&i!=Dh&&i!=OE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Gt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),GE(e),e.M=!0,Gt(11))):(xo(t.j,t.m,n,"[Invalid Chunked Response]"),os(t),ju(t))}function MX(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Dh:(n=Number(e.substring(n,r)),isNaN(n)?OE:(r+=1)+n>e.length?Dh:(e=e.slice(r,r+n),t.C=r+n,e))}function $u(t){t.Y=Date.now()+t.P,RP(t,t.P)}function RP(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Vu(Rt(t.lb,t),e)}function Th(t){t.B&&(W.clearTimeout(t.B),t.B=null)}function ju(t){0==t.l.H||t.J||oO(t.l,t)}function os(t){Th(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,xE(t.V),wP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function FE(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||VE(n.i,t)))if(!t.K&&VE(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Rh(n),Nh(n)}HE(n),Gt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Vu(Rt(n.ib,n),6e3));if(1>=HP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else us(n,11)}else if((t.K||n.g==t)&&Rh(n),!Nu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(BE(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Ee(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=cO(r,r.J?r.pa:null,r.Y),o.K){GP(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Th(a),$u(a)),r.g=o}else iO(r);0<n.j.length&&kh(n)}else"stop"!=c[0]&&"close"!=c[0]||us(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?us(n,7):jE(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Fu()}catch{}}function PP(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(hh(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function kX(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(hh(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function NX(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(hh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(x=Uu.prototype).setTimeout=function(t){this.P=t},x.nb=function(t){t=t.target;const e=this.M;e&&3==sr(t)?e.l():this.Pa(t)},x.Pa=function(t){try{if(t==this.g)e:{const l=sr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||hE||this.g&&(this.h.h||this.g.ja()||XP(this.g)))){this.J||4!=l||7==e||Fu(),Th(this);var n=this.g.da();this.ca=n;t:if(NP(this)){var r=XP(this.g);t="";var i=r.length,s=4==sr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){os(this),ju(this);var o="";break t}this.h.i=new W.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function CX(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Nu(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Gt(12),os(this),ju(this);break e}xo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,FE(this,n)}this.S?(kP(this,l,o),hE&&this.i&&3==l&&(IP(this.U,this.V,"tick",this.mb),this.V.start())):(xo(this.j,this.m,o,null),FE(this,o)),4==l&&os(this),this.i&&!this.J&&(4==l?oO(this.l,this):(this.i=!1,$u(this)))}else(function YX(t){const e={};t=(t.g&&2<=sr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Nu(t[r]))continue;var n=wX(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function pX(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Gt(12)):(this.o=0,Gt(13)),os(this),ju(this)}}}catch{}},x.mb=function(){if(this.g){var t=sr(this.g),e=this.g.ja();this.C<e.length&&(Th(this),kP(this,t,e),this.i&&4!=t&&$u(this))}},x.cancel=function(){this.J=!0,os(this)},x.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function SX(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Fu(),Gt(17)),os(this),this.o=2,ju(this)):RP(this,this.Y-t)};var OP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function as(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof as){this.h=t.h,bh(this,t.j),this.s=t.s,this.g=t.g,Ch(this,t.m),this.l=t.l;var e=t.i,n=new zu;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),LP(this,n),this.o=t.o}else t&&(e=String(t).match(OP))?(this.h=!1,bh(this,e[1]||"",!0),this.s=Hu(e[2]||""),this.g=Hu(e[3]||"",!0),Ch(this,e[4]),this.l=Hu(e[5]||"",!0),LP(this,e[6]||"",!0),this.o=Hu(e[7]||"")):(this.h=!1,this.i=new zu(null,this.h))}function Pr(t){return new as(t)}function bh(t,e,n){t.j=n?Hu(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ch(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function LP(t,e,n){e instanceof zu?(t.i=e,function BX(t,e){e&&!t.j&&(di(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(VP(this,r),UP(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Gu(e,FX)),t.i=new zu(e,t.h))}function Ee(t,e,n){t.i.set(e,n)}function Sh(t){return Ee(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Hu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Gu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,PX),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function PX(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}as.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Gu(e,FP,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Gu(e,FP,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Gu(n,"/"==n.charAt(0)?LX:OX,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Gu(n,VX)),t.join("")};var FP=/[#\/\?@]/g,OX=/[#\?:]/g,LX=/[#\?]/g,FX=/[#\?@]/g,VX=/#/g;function zu(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function di(t){t.g||(t.g=new Map,t.h=0,t.i&&function RX(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function VP(t,e){di(t),e=Mo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function BP(t,e){return di(t),e=Mo(t,e),t.g.has(e)}function UP(t,e,n){VP(t,e),0<n.length&&(t.i=null,t.g.set(Mo(t,e),lE(n)),t.h+=n.length)}function Mo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function $P(t){this.l=t||$X,t=W.PerformanceNavigationTiming?0<(t=W.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(W.g&&W.g.Ka&&W.g.Ka()&&W.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(x=zu.prototype).add=function(t,e){di(this),this.i=null,t=Mo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},x.forEach=function(t,e){di(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},x.ta=function(){di(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},x.Z=function(t){di(this);let e=[];if("string"==typeof t)BP(this,t)&&(e=e.concat(this.g.get(Mo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},x.set=function(t,e){return di(this),this.i=null,BP(this,t=Mo(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},x.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},x.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var $X=10;function jP(t){return!!t.h||!!t.g&&t.g.size>=t.j}function HP(t){return t.h?1:t.g?t.g.size:0}function VE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function BE(t,e){t.g?t.g.add(e):t.h=e}function GP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function zP(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return lE(t.i)}$P.prototype.cancel=function(){if(this.i=zP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var jX=class{stringify(t){return W.JSON.stringify(t,void 0)}parse(t){return W.JSON.parse(t,void 0)}};function HX(){this.g=new jX}function GX(t,e,n){const r=n||"";try{PP(t,function(i,s){let o=i;Mu(i)&&(o=SE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ah(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function qu(t){this.l=t.fc||null,this.j=t.ob||!1}function xh(t,e){ht.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=UE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dt(qu,NE),qu.prototype.g=function(){return new xh(this.l,this.j)},qu.prototype.i=function(t){return function(){return t}}({}),dt(xh,ht);var UE=0;function qP(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Wu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ku(t)}function Ku(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(x=xh.prototype).open=function(t,e){if(this.readyState!=UE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ku(this)},x.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||W).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},x.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wu(this)),this.readyState=UE},x.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ku(this)),this.g&&(this.readyState=3,Ku(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof W.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qP(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},x.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Wu(this):Ku(this),3==this.readyState&&qP(this)}},x.Za=function(t){this.g&&(this.response=this.responseText=t,Wu(this))},x.Ya=function(t){this.g&&(this.response=t,Wu(this))},x.ka=function(){this.g&&Wu(this)},x.setRequestHeader=function(t,e){this.v.append(t,e)},x.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},x.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(xh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var qX=W.JSON.parse;function Ve(t){ht.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=WP,this.L=this.M=!1}dt(Ve,ht);var WP="",WX=/^https?$/i,KX=["POST","PUT"];function KP(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,QP(t),Mh(t)}function QP(t){t.F||(t.F=!0,Et(t,"complete"),Et(t,"error"))}function YP(t){if(t.h&&typeof uE<"u"&&(!t.C[1]||4!=sr(t)||2!=t.da()))if(t.v&&4==sr(t))ME(t.La,0,t);else if(Et(t,"readystatechange"),4==sr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(OP)[1]||null;!i&&W.self&&W.self.location&&(i=W.self.location.protocol.slice(0,-1)),r=!WX.test(i?i.toLowerCase():"")}n=r}if(n)Et(t,"complete"),Et(t,"success");else{t.m=6;try{var s=2<sr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",QP(t)}}finally{Mh(t)}}}function Mh(t,e){if(t.g){JP(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Et(t,"ready");try{n.onreadystatechange=r}catch{}}}function JP(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(W.clearTimeout(t.A),t.A=null)}function sr(t){return t.g?t.g.readyState:0}function XP(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case WP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function ZP(t){let e="";return _E(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function $E(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ZP(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ee(t,e,n))}function Qu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function eO(t){this.Ga=0,this.j=[],this.l=new vh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qu("baseRetryDelayMs",5e3,t),this.hb=Qu("retryDelaySeedMs",1e4,t),this.eb=Qu("forwardChannelMaxRetries",2,t),this.xa=Qu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new $P(t&&t.concurrentRequestLimit),this.Ja=new HX,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function jE(t){if(tO(t),3==t.H){var e=t.W++,n=Pr(t.I);if(Ee(n,"SID",t.K),Ee(n,"RID",e),Ee(n,"TYPE","terminate"),Yu(t,n),(e=new Uu(t,t.l,e)).L=2,e.v=Sh(Pr(n)),n=!1,W.navigator&&W.navigator.sendBeacon)try{n=W.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&W.Image&&((new Image).src=e.v,n=!0),n||(e.g=lO(e.l,null),e.g.ha(e.v)),e.G=Date.now(),$u(e)}uO(t)}function Nh(t){t.g&&(GE(t),t.g.cancel(),t.g=null)}function tO(t){Nh(t),t.u&&(W.clearTimeout(t.u),t.u=null),Rh(t),t.i.cancel(),t.m&&("number"==typeof t.m&&W.clearTimeout(t.m),t.m=null)}function kh(t){if(!jP(t.i)&&!t.m){t.m=!0;var e=t.Na;Pu||yP(),Ou||(Pu(),Ou=!0),AE.add(e,t),t.C=0}}function nO(t,e){var n;n=e?e.m:t.W++;const r=Pr(t.I);Ee(r,"SID",t.K),Ee(r,"RID",n),Ee(r,"AID",t.V),Yu(t,r),t.o&&t.s&&$E(r,t.o,t.s),n=new Uu(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=rO(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),BE(t.i,n),LE(n,r,e)}function Yu(t,e){t.na&&_E(t.na,function(n,r){Ee(e,r,n)}),t.h&&PP({},function(n,r){Ee(e,r,n)})}function rO(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Rt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{GX(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function iO(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Pu||yP(),Ou||(Pu(),Ou=!0),AE.add(e,t),t.A=0}}function HE(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Vu(Rt(t.Ma,t),aO(t,t.A)),t.A++,0))}function GE(t){null!=t.B&&(W.clearTimeout(t.B),t.B=null)}function sO(t){t.g=new Uu(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Pr(t.wa);Ee(e,"RID","rpc"),Ee(e,"SID",t.K),Ee(e,"AID",t.V),Ee(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ee(e,"TO",t.qa),Ee(e,"TYPE","xmlhttp"),Yu(t,e),t.o&&t.s&&$E(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Sh(Pr(e)),n.s=null,n.S=!0,MP(n,t)}function Rh(t){null!=t.v&&(W.clearTimeout(t.v),t.v=null)}function oO(t,e){var n=null;if(t.g==e){Rh(t),GE(t),t.g=null;var r=2}else{if(!VE(t.i,e))return;n=e.F,GP(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Et(r=Ih(),new bP(r,n)),kh(t)}else iO(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function JX(t,e){return!(HP(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Vu(Rt(t.Na,t,e),aO(t,t.C)),t.C++,0)))}(t,e)||2==r&&HE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:us(t,5);break;case 4:us(t,10);break;case 3:us(t,6);break;default:us(t,2)}}function aO(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function us(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Rt(t.pb,t);n||(n=new as("//www.google.com/images/cleardot.gif"),W.location&&"http"==W.location.protocol||bh(n,"https"),Sh(n)),function zX(t,e){const n=new vh;if(W.Image){const r=new Image;r.onload=fh(Ah,n,r,"TestLoadImage: loaded",!0,e),r.onerror=fh(Ah,n,r,"TestLoadImage: error",!1,e),r.onabort=fh(Ah,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=fh(Ah,n,r,"TestLoadImage: timeout",!1,e),W.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Gt(2);t.H=0,t.h&&t.h.za(e),uO(t),tO(t)}function uO(t){if(t.H=0,t.ma=[],t.h){const e=zP(t.i);(0!=e.length||0!=t.j.length)&&(rP(t.ma,e),rP(t.ma,t.j),t.i.i.length=0,lE(t.j),t.j.length=0),t.h.ya()}}function cO(t,e,n){var r=n instanceof as?Pr(n):new as(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Ch(r,r.m);else{var i=W.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new as(null);r&&bh(s,r),e&&(s.g=e),i&&Ch(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&Ee(r,n,e),Ee(r,"VER",t.ra),Yu(t,r),r}function lO(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ve(n&&t.Ha&&!t.va?new qu({ob:!0}):t.va)).Oa(t.J),e}function dO(){}function Ph(){if(Ao&&!(10<=Number(lX)))throw Error("Environmental error: no available transport.")}function gn(t,e){ht.call(this),this.g=new eO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Nu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Nu(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new No(this)}function hO(t){kE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function fO(){RE.call(this),this.status=1}function No(t){this.g=t}function Vn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function zE(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function pe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(x=Ve.prototype).Oa=function(t){this.M=t},x.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():PE.g(),this.C=function SP(t){return t.h||(t.h=t.i())}(this.u?this.u:PE),this.g.onreadystatechange=Rt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void KP(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=W.FormData&&t instanceof W.FormData,!(0<=nP(KX,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{JP(this),0<this.B&&((this.L=function QX(t){return Ao&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rt(this.ua,this)):this.A=ME(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){KP(this,s)}},x.ua=function(){typeof uE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))},x.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Et(this,"complete"),Et(this,"abort"),Mh(this))},x.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mh(this,!0)),Ve.$.N.call(this)},x.La=function(){this.s||(this.G||this.v||this.l?YP(this):this.kb())},x.kb=function(){YP(this)},x.isActive=function(){return!!this.g},x.da=function(){try{return 2<sr(this)?this.g.status:-1}catch{return-1}},x.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},x.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),qX(e)}},x.Ia=function(){return this.m},x.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(x=eO.prototype).ra=8,x.H=1,x.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new Uu(this,this.l,t);let s=this.s;if(this.U&&(s?(s=uP(s),lP(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=rO(this,i,e),Ee(n=Pr(this.I),"RID",t),Ee(n,"CVER",22),this.F&&Ee(n,"X-HTTP-Session-Id",this.F),Yu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(ZP(s)))+"&"+e:this.o&&$E(n,this.o,s)),BE(this.i,i),this.bb&&Ee(n,"TYPE","init"),this.P?(Ee(n,"$req",e),Ee(n,"SID","null"),i.aa=!0,LE(i,n,null)):LE(i,n,e),this.H=2}}else 3==this.H&&(t?nO(this,t):0==this.j.length||jP(this.i)||nO(this))},x.Ma=function(){if(this.u=null,sO(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Vu(Rt(this.jb,this),t)}},x.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gt(10),Nh(this),sO(this))},x.ib=function(){null!=this.v&&(this.v=null,Nh(this),HE(this),Gt(19))},x.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Gt(2)):(this.l.info("Failed to ping google.com"),Gt(1))},x.isActive=function(){return!!this.h&&this.h.isActive(this)},(x=dO.prototype).Ba=function(){},x.Aa=function(){},x.za=function(){},x.ya=function(){},x.isActive=function(){return!0},x.Va=function(){},Ph.prototype.g=function(t,e){return new gn(t,e)},dt(gn,ht),gn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Gt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=cO(t,null,t.Y),kh(t)},gn.prototype.close=function(){jE(this.g)},gn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=SE(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&kh(e)},gn.prototype.N=function(){this.g.h=null,delete this.j,jE(this.g),delete this.g,gn.$.N.call(this)},dt(hO,kE),dt(fO,RE),dt(No,dO),No.prototype.Ba=function(){Et(this.g,"a")},No.prototype.Aa=function(t){Et(this.g,new hO(t))},No.prototype.za=function(t){Et(this.g,new fO)},No.prototype.ya=function(){Et(this.g,"b")},dt(Vn,function XX(){this.blockSize=-1}),Vn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Vn.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)zE(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){zE(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){zE(this,r),i=0;break}}this.h=i,this.i+=e},Vn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var ZX={};function qE(t){return-128<=t&&128>t?function aX(t,e){var n=ZX;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new pe([0|e],0>e?-1:0)}):new pe([0|t],0>t?-1:0)}function or(t){if(isNaN(t)||!isFinite(t))return ko;if(0>t)return Dt(or(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=WE;return new pe(e,0)}var WE=4294967296,ko=qE(0),KE=qE(1),gO=qE(16777216);function Or(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function bn(t){return-1==t.h}function Dt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new pe(n,~t.h).add(KE)}function Oh(t,e){return t.add(Dt(e))}function Lh(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ju(t,e){this.g=t,this.h=e}function Fh(t,e){if(Or(e))throw Error("division by zero");if(Or(t))return new Ju(ko,ko);if(bn(t))return e=Fh(Dt(t),e),new Ju(Dt(e.g),Dt(e.h));if(bn(e))return e=Fh(t,Dt(e)),new Ju(Dt(e.g),e.h);if(30<t.g.length){if(bn(t)||bn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=KE,r=e;0>=r.X(t);)n=mO(n),r=mO(r);var i=Ro(n,1),s=Ro(r,1);for(r=Ro(r,2),n=Ro(n,2);!Or(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ro(r,1),n=Ro(n,1)}return e=Oh(t,i.R(e)),new Ju(i,e)}for(i=ko;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=or(n)).R(e);bn(o)||0<o.X(t);)o=(s=or(n-=r)).R(e);Or(s)&&(s=KE),i=i.add(s),t=Oh(t,o)}return new Ju(i,t)}function mO(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new pe(n,t.h)}function Ro(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new pe(i,t.h)}(x=pe.prototype).ea=function(){if(bn(this))return-Dt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:WE+r)*e,e*=WE}return t},x.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Or(this))return"0";if(bn(this))return"-"+Dt(this).toString(t);for(var e=or(Math.pow(t,6)),n=this,r="";;){var i=Fh(n,e).g,s=((0<(n=Oh(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Or(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},x.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},x.X=function(t){return bn(t=Oh(this,t))?-1:Or(t)?0:1},x.abs=function(){return bn(this)?Dt(this):this},x.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new pe(n,-2147483648&n[n.length-1]?-1:0)},x.R=function(t){if(Or(this)||Or(t))return ko;if(bn(this))return bn(t)?Dt(this).R(Dt(t)):Dt(Dt(this).R(t));if(bn(t))return Dt(this.R(Dt(t)));if(0>this.X(gO)&&0>t.X(gO))return or(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,Lh(n,2*r+2*i),n[2*r+2*i+1]+=s*u,Lh(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Lh(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Lh(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new pe(n,0)},x.gb=function(t){return Fh(this,t).h},x.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new pe(n,this.h&t.h)},x.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new pe(n,this.h|t.h)},x.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new pe(n,this.h^t.h)},Ph.prototype.createWebChannel=Ph.prototype.g,gn.prototype.send=gn.prototype.u,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,wh.NO_ERROR=0,wh.TIMEOUT=8,wh.HTTP_ERROR=6,CP.COMPLETE="complete",AP.EventType=Bu,Bu.OPEN="a",Bu.CLOSE="b",Bu.ERROR="c",Bu.MESSAGE="d",ht.prototype.listen=ht.prototype.O,Ve.prototype.listenOnce=Ve.prototype.P,Ve.prototype.getLastError=Ve.prototype.Sa,Ve.prototype.getLastErrorCode=Ve.prototype.Ia,Ve.prototype.getStatus=Ve.prototype.da,Ve.prototype.getResponseJson=Ve.prototype.Wa,Ve.prototype.getResponseText=Ve.prototype.ja,Ve.prototype.send=Ve.prototype.ha,Ve.prototype.setWithCredentials=Ve.prototype.Oa,Vn.prototype.digest=Vn.prototype.l,Vn.prototype.reset=Vn.prototype.reset,Vn.prototype.update=Vn.prototype.j,pe.prototype.add=pe.prototype.add,pe.prototype.multiply=pe.prototype.R,pe.prototype.modulo=pe.prototype.gb,pe.prototype.compare=pe.prototype.X,pe.prototype.toNumber=pe.prototype.ea,pe.prototype.toString=pe.prototype.toString,pe.prototype.getBits=pe.prototype.D,pe.fromNumber=or,pe.fromString=function pO(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Dt(pO(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=or(Math.pow(e,8)),r=ko,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=or(Math.pow(e,s)),r=r.R(s).add(or(o))):r=(r=r.R(n)).add(or(o))}return r};var eZ=Fn.createWebChannelTransport=function(){return new Ph},tZ=Fn.getStatEventTarget=function(){return Ih()},QE=Fn.ErrorCode=wh,nZ=Fn.EventType=CP,rZ=Fn.Event=ss,yO=Fn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},iZ=Fn.FetchXmlHttpFactory=qu,Vh=Fn.WebChannel=AP,sZ=Fn.XhrIo=Ve,oZ=Fn.Md5=Vn,Po=Fn.Integer=pe;const _O="@firebase/firestore";class ft{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");let Oo="9.22.1";const hi=new vo("@firebase/firestore");function YE(){return hi.logLevel}function b(t,...e){if(hi.logLevel<=H.DEBUG){const n=e.map(JE);hi.debug(`Firestore (${Oo}): ${t}`,...n)}}function He(t,...e){if(hi.logLevel<=H.ERROR){const n=e.map(JE);hi.error(`Firestore (${Oo}): ${t}`,...n)}}function Bn(t,...e){if(hi.logLevel<=H.WARN){const n=e.map(JE);hi.warn(`Firestore (${Oo}): ${t}`,...n)}}function JE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function P(t="Unexpected state"){const e=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: `+t;throw He(e),new Error(e)}function L(t,e){t||P()}function A(t,e){return t}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends Ln{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ot{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class vO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}}class uZ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class cZ{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new ot;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ot,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(y(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ot)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(L("string"==typeof r.accessToken),new vO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return L(null===e||"string"==typeof e),new ft(e)}}class lZ{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class dZ{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new lZ(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hZ{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(L("string"==typeof n.token),this.T=n.token,new IO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fZ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class wO{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=fZ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function z(t,e){return t<e?-1:t>e?1:0}function Lo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Re{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Re(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?z(this.nanoseconds,e.nanoseconds):z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class F{constructor(e){this.timestamp=e}static fromTimestamp(e){return new F(e)}static min(){return new F(new Re(0,0))}static max(){return new F(new Re(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Xu{constructor(e,n,r){void 0===n?n=0:n>e.length&&P(),void 0===r?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Xu.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ae extends Xu{construct(e,n,r){return new ae(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(I.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ae(n)}static emptyPath(){return new ae([])}}const pZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Xu{construct(e,n,r){return new Ge(e,n,r)}static isValidIdentifier(e){return pZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ge(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(n)}static emptyPath(){return new Ge([])}}class S{constructor(e){this.path=e}static fromPath(e){return new S(ae.fromString(e))}static fromName(e){return new S(ae.fromString(e).popFirst(5))}static empty(){return new S(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ae.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new ae(e.slice()))}}function TO(t){return new mn(t.readTime,t.key,-1)}class mn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mn(F.min(),S.empty(),-1)}static max(){return new mn(F.max(),S.empty(),-1)}}function ZE(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=S.comparator(t.documentKey,e.documentKey),0!==n?n:z(t.largestBatchId,e.largestBatchId))}const bO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function fi(t){return eD.apply(this,arguments)}function eD(){return eD=y(function*(t){if(t.code!==I.FAILED_PRECONDITION||t.message!==bO)throw t;b("LocalStore","Unexpectedly lost primary lease")}),eD.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function pi(t){return"IndexedDbTransactionError"===t.name}let yn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function tc(t){return null==t}function nc(t){return 0===t&&1/t==-1/0}function PO(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function gi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}class ve{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new ve(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new ve(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hh(this.root,e,this.comparator,!0)}}class Hh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=i??Tt.EMPTY,this.right=s??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Tt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Tt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();const e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1,Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Tt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class De{constructor(e){this.comparator=e,this.data=new ve(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new LO(this.data.getIterator())}getIteratorFrom(e){return new LO(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof De)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new De(this.comparator);return n.data=e,n}}class LO{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class rn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new rn([])}unionWith(e){let n=new De(Ge.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class FO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class at{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new FO("Invalid base64 string: "+i):i}}(e);return new at(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new at(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}at.EMPTY_BYTE_STRING=new at("");const UZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(t){if(L(!!t),"string"==typeof t){let e=0;const n=UZ.exec(t);if(L(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Lr(t){return"string"==typeof t?at.fromBase64String(t):at.fromUint8Array(t)}function Gh(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zh(t){const e=t.mapValue.fields.__previous_value__;return Gh(e)?zh(e):e}function rc(t){const e=mi(t.mapValue.fields.__local_write_time__.timestampValue);return new Re(e.seconds,e.nanos)}class $Z{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ds{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ds("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ds&&e.projectId===this.projectId&&e.database===this.database}}const yi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function _i(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gh(t)?4:$O(t)?9007199254740991:10:P()}function ur(t,e){if(t===e)return!0;const n=_i(t);if(n!==_i(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return rc(t).isEqual(rc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=mi(r.timestampValue),o=mi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Lr(t.bytesValue).isEqual(Lr(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Be(r.geoPointValue.latitude)===Be(i.geoPointValue.latitude)&&Be(r.geoPointValue.longitude)===Be(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Be(r.integerValue)===Be(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Be(r.doubleValue),o=Be(i.doubleValue);return s===o?nc(s)===nc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Lo(t.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(PO(s)!==PO(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!ur(s[a],o[a])))return!1;return!0}(t,e);default:return P()}var i}function ic(t,e){return void 0!==(t.values||[]).find(n=>ur(n,e))}function vi(t,e){if(t===e)return 0;const n=_i(t),r=_i(e);if(n!==r)return z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return z(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Be(i.integerValue||i.doubleValue),a=Be(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return VO(t.timestampValue,e.timestampValue);case 4:return VO(rc(t),rc(e));case 5:return z(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Lr(i),a=Lr(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=z(o[u],a[u]);if(0!==c)return c}return z(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=z(Be(i.latitude),Be(s.latitude));return 0!==o?o:z(Be(i.longitude),Be(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=vi(o[u],a[u]);if(c)return c}return z(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===yi.mapValue&&s===yi.mapValue)return 0;if(i===yi.mapValue)return 1;if(s===yi.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=z(a[l],c[l]);if(0!==d)return d;const h=vi(o[a[l]],u[c[l]]);if(0!==h)return h}return z(a.length,c.length)}(t.mapValue,e.mapValue);default:throw P()}}function VO(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return z(t,e);const n=mi(t),r=mi(e),i=z(n.seconds,r.seconds);return 0!==i?i:z(n.nanos,r.nanos)}function Vo(t){return rD(t)}function rD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=mi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Lr(t.bytesValue).toBase64():"referenceValue"in t?S.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=rD(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${rD(r.fields[a])}`;return s+"}"}(t.mapValue):P();var e}function iD(t){return!!t&&"integerValue"in t}function sc(t){return!!t&&"arrayValue"in t}function BO(t){return!!t&&"nullValue"in t}function UO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kh(t){return!!t&&"mapValue"in t}function oc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return gi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=oc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=oc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $O(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class bt{constructor(e){this.value=e}static empty(){return new bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Kh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(n)}setAll(e){let n=Ge.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=oc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Kh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Kh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){gi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bt(oc(this.value))}}class Te{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Te(e,0,F.min(),F.min(),F.min(),bt.empty(),0)}static newFoundDocument(e,n,r,i){return new Te(e,1,n,F.min(),r,i,0)}static newNoDocument(e,n){return new Te(e,2,n,F.min(),F.min(),bt.empty(),0)}static newUnknownDocument(e,n){return new Te(e,3,n,F.min(),F.min(),bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(F.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=F.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Te&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Te(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ii{constructor(e,n){this.position=e,this.inclusive=n}}function zO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?S.comparator(S.fromName(o.referenceValue),n.key):vi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function qO(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ur(t.position[n],e.position[n]))return!1;return!0}class Bo{constructor(e,n="asc"){this.field=e,this.dir=n}}function GZ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class WO{}class ie extends WO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new zZ(e,n,r):"array-contains"===n?new KZ(e,r):"in"===n?new ZO(e,r):"not-in"===n?new QZ(e,r):"array-contains-any"===n?new YZ(e,r):new ie(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new qZ(e,r):new WZ(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(vi(n,this.value)):null!==n&&_i(this.value)===_i(n)&&this.matchesComparison(vi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ge extends WO{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ge(e,n)}matches(e){return Uo(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Uo(t){return"and"===t.op}function oD(t){return function KO(t){for(const e of t.filters)if(e instanceof ge)return!1;return!0}(t)&&Uo(t)}function aD(t){if(t instanceof ie)return t.field.canonicalString()+t.op.toString()+Vo(t.value);if(oD(t))return t.filters.map(e=>aD(e)).join(",");{const e=t.filters.map(n=>aD(n)).join(",");return`${t.op}(${e})`}}function QO(t,e){return t instanceof ie?(n=t,(r=e)instanceof ie&&n.op===r.op&&n.field.isEqual(r.field)&&ur(n.value,r.value)):t instanceof ge?function(n,r){return r instanceof ge&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&QO(s,r.filters[o]),!0)}(t,e):void P();var n,r}function JO(t){return t instanceof ie?function(e){return`${e.field.canonicalString()} ${e.op} ${Vo(e.value)}`}(t):t instanceof ge?function(e){return e.op.toString()+" {"+e.getFilters().map(JO).join(" ,")+"}"}(t):"Filter"}class zZ extends ie{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){const n=S.comparator(e.key,this.key);return this.matchesComparison(n)}}class qZ extends ie{constructor(e,n){super(e,"in",n),this.keys=XO(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class WZ extends ie{constructor(e,n){super(e,"not-in",n),this.keys=XO(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XO(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}class KZ extends ie{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sc(n)&&ic(n.arrayValue,this.value)}}class ZO extends ie{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ic(this.value.arrayValue,n)}}class QZ extends ie{constructor(e,n){super(e,"not-in",n)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ic(this.value.arrayValue,n)}}class YZ extends ie{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ic(this.value.arrayValue,r))}}class JZ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function uD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new JZ(t,e,n,r,i,s,o)}function fs(t){const e=A(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>aD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),tc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vo(r)).join(",")),e.dt=n}return e.dt}function ac(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GZ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qO(t.startAt,e.startAt)&&qO(t.endAt,e.endAt)}function Qh(t){return S.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Fr{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function $o(t){return new Fr(t)}function rL(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ps(t){const e=A(t);if(null===e.wt){e.wt=[];const n=function Jh(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function cD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Bo(n)),e.wt.push(new Bo(Ge.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Bo(Ge.keyField(),s))}}}return e.wt}function zt(t){const e=A(t);if(!e._t)if("F"===e.limitType)e._t=uD(e.path,e.collectionGroup,ps(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of ps(e))n.push(new Bo(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ii(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ii(e.startAt.position,e.startAt.inclusive):null;e._t=uD(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Xh(t,e,n){return new Fr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function uc(t,e){return ac(zt(t),zt(e))&&t.limitType===e.limitType}function iL(t){return`${fs(zt(t))}|lt:${t.limitType}`}function hD(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>JO(r)).join(", ")}]`),tc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vo(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vo(r)).join(",")),`Target(${n})`}(zt(t))}; limitType=${t.limitType})`}function cc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):S.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of ps(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=zO(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,ps(n),r)||n.endAt&&!function(i,s,o){const a=zO(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,ps(n),r)));var n,r}function oL(t){return(e,n)=>{let r=!1;for(const i of ps(t)){const s=XZ(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function XZ(t,e,n){const r=t.field.isKeyField()?S.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?vi(a,u):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}class Vr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function OO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const ZZ=new ve(S.comparator);function sn(){return ZZ}const aL=new ve(S.comparator);function lc(...t){let e=aL;for(const n of t)e=e.insert(n.key,n);return e}function uL(t){let e=aL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function cr(){return dc()}function cL(){return dc()}function dc(){return new Vr(t=>t.toString(),(t,e)=>t.isEqual(e))}new ve(S.comparator);const tee=new De(S.comparator);function J(...t){let e=tee;for(const n of t)e=e.add(n);return e}const nee=new De(z);class Zh{constructor(){this._=void 0}}function ree(t,e,n){return t instanceof jo?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Gh(i)&&(i=zh(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof gs?pL(t,e):t instanceof ms?gL(t,e):function(r,i){const s=function fL(t,e){return t instanceof Ho?iD(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=mL(s)+mL(r.gt);return iD(s)&&iD(r.gt)?function dL(t){return{integerValue:""+t}}(o):function lL(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nc(e)?"-0":e}}(r.serializer,o)}(t,e)}function iee(t,e,n){return t instanceof gs?pL(t,e):t instanceof ms?gL(t,e):n}class jo extends Zh{}class gs extends Zh{constructor(e){super(),this.elements=e}}function pL(t,e){const n=yL(e);for(const r of t.elements)n.some(i=>ur(i,r))||n.push(r);return{arrayValue:{values:n}}}class ms extends Zh{constructor(e){super(),this.elements=e}}function gL(t,e){let n=yL(e);for(const r of t.elements)n=n.filter(i=>!ur(i,r));return{arrayValue:{values:n}}}class Ho extends Zh{constructor(e,n){super(),this.serializer=e,this.gt=n}}function mL(t){return Be(t.integerValue||t.doubleValue)}function yL(t){return sc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ce{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ce}static exists(e){return new Ce(void 0,e)}static updateTime(e){return new Ce(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ef(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class pD{}function _L(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new zo(t.key,Ce.none()):new Go(t.key,t.data,Ce.none());{const n=t.data,r=bt.empty();let i=new De(Ge.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Br(t.key,r,new rn(i.toArray()),Ce.none())}}function aee(t,e,n){t instanceof Go?function(r,i,s){const o=r.value.clone(),a=wL(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Br?function(r,i,s){if(!ef(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=wL(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(IL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function fc(t,e,n,r){return t instanceof Go?function(i,s,o,a){if(!ef(i.precondition,s))return o;const u=i.value.clone(),c=EL(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Br?function(i,s,o,a){if(!ef(i.precondition,s))return o;const u=EL(i.fieldTransforms,a,s),c=s.data;return c.setAll(IL(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,ef(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function vL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Lo(n,r,(i,s)=>function see(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof gs&&r instanceof gs||n instanceof ms&&r instanceof ms?Lo(n.elements,r.elements,ur):n instanceof Ho&&r instanceof Ho?ur(n.gt,r.gt):n instanceof jo&&r instanceof jo);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class Go extends pD{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Br extends pD{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function IL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function wL(t,e,n){const r=new Map;L(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,iee(o,a,n[i]))}return r}function EL(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ree(s,o,e))}return r}class zo extends pD{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&aee(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=cL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=_L(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(F.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),J())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,(n,r)=>vL(n,r))&&Lo(this.baseMutations,e.baseMutations,(n,r)=>vL(n,r))}}class _D{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lee{constructor(e,n){this.count=e,this.unchangedNames=n}}var Xe,ue;function TL(t){if(void 0===t)return He("GRPC error has no .code"),I.UNKNOWN;switch(t){case Xe.OK:return I.OK;case Xe.CANCELLED:return I.CANCELLED;case Xe.UNKNOWN:return I.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return I.INTERNAL;case Xe.UNAVAILABLE:return I.UNAVAILABLE;case Xe.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Xe.NOT_FOUND:return I.NOT_FOUND;case Xe.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Xe.ABORTED:return I.ABORTED;case Xe.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Xe.DATA_LOSS:return I.DATA_LOSS;default:return P()}}(ue=Xe||(Xe={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";class vD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return tf}static getOrCreateInstance(){return null===tf&&(tf=new vD),tf}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let tf=null;const dee=new Po([4294967295,4294967295],0);function CL(t){const e=function bL(){return new TextEncoder}().encode(t),n=new oZ;return n.update(e),new Uint8Array(n.digest())}function SL(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Po([n,r],0),new Po([i,s],0)]}class ID{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new pc(`Invalid padding: ${n}`);if(r<0)throw new pc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new pc(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new pc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Po.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Po.fromNumber(r)));return 1===i.compare(dee)&&(i=new Po([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=CL(e),[r,i]=SL(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ID(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=CL(e),[r,i]=SL(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new gc(F.min(),i,new ve(z),sn(),J())}}class mc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mc(r,n,J(),J(),J())}}class nf{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class AL{constructor(e,n){this.targetId=e,this.Vt=n}}class xL{constructor(e,n,r=at.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class ML{constructor(){this.St=0,this.Dt=kL(),this.Ct=at.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=J(),n=J(),r=J();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new mc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=kL()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class hee{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=sn(),this.zt=NL(),this.Wt=new ve(z)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(Qh(o))if(0===i){const a=new S(o.path);this.Yt(r,a,Te.newNoDocument(a,F.min()))}else L(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=vD.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,w;const _={localCacheCount:l,existenceFilterCount:d.count},D=d.unchangedNames;return D&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=D?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=D?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(w=null===(m=D?.bits)||void 0===m?void 0:m.padding)&&void 0!==w?w:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Lr(s).toUint8Array()}catch(l){if(l instanceof FO)return Bn("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new ID(u,o,a)}catch(l){return Bn(l instanceof pc?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&Qh(a.target)){const u=new S(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Te.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=J();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new gc(e,n,this.Wt,this.jt,r);return this.jt=sn(),this.zt=NL(),this.Wt=new ve(z),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new ML,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new De(z),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||b("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new ML),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function NL(){return new ve(S.comparator)}function kL(){return new ve(S.comparator)}const fee={asc:"ASCENDING",desc:"DESCENDING"},pee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gee={and:"AND",or:"OR"};class mee{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wD(t,e){return t.useProto3Json||tc(e)?e:{value:e}}function ze(t){return L(!!t),F.fromTimestamp(function(e){const n=mi(e);return new Re(n.seconds,n.nanos)}(t))}function PL(t){const e=ae.fromString(t);return L(HL(e)),e}function lr(t,e){const n=PL(e);if(n.get(1)!==t.databaseId.projectId)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S(LL(n))}function DD(t,e){return function ED(t,e){return(n=t,new ae(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}(t.databaseId,e)}function _c(t){return new ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function LL(t){return L(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function BL(t,e){return{documents:[DD(t,e.path)]}}function bD(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=DD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=DD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return jL(ge.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:wi((l=c).field),direction:Eee(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=wD(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function UL(t){let e=function OL(t){const e=PL(t);return 4===e.length?ae.emptyPath():LL(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){L(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=$L(l);return d instanceof ge&&oD(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Bo(Wo((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,tc(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Ii((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Ii(l.values||[],!l.before)}(n.endAt)),function nL(t,e,n,r,i,s,o,a){return new Fr(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function $L(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Wo(e.unaryFilter.field);return ie.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Wo(e.unaryFilter.field);return ie.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wo(e.unaryFilter.field);return ie.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Wo(e.unaryFilter.field);return ie.create(s,"!=",{nullValue:"NULL_VALUE"});default:return P()}}(t):void 0!==t.fieldFilter?function(e){return ie.create(Wo(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return ge.create(e.compositeFilter.filters.map(n=>$L(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return P()}}(e.compositeFilter.op))}(t):P()}function Eee(t){return fee[t]}function Dee(t){return pee[t]}function Tee(t){return gee[t]}function wi(t){return{fieldPath:t.canonicalString()}}function Wo(t){return Ge.fromServerFormat(t.fieldPath)}function jL(t){return t instanceof ie?function(e){if("=="===e.op){if(UO(e.value))return{unaryFilter:{field:wi(e.field),op:"IS_NAN"}};if(BO(e.value))return{unaryFilter:{field:wi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(UO(e.value))return{unaryFilter:{field:wi(e.field),op:"IS_NOT_NAN"}};if(BO(e.value))return{unaryFilter:{field:wi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wi(e.field),op:Dee(e.op),value:e.value}}}(t):t instanceof ge?function(e){const n=e.getFilters().map(r=>jL(r));return 1===n.length?n[0]:{compositeFilter:{op:Tee(e.op),filters:n}}}(t):P()}function HL(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ur{constructor(e,n,r,i,s=F.min(),o=F.min(),a=at.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class GL{constructor(e){this.fe=e}}function CD(t){const e=UL({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Xh(e,e.limit,"L"):e}class Is{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Be(e.integerValue));else if("doubleValue"in e){const r=Be(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),nc(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Lr(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?$O(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):P()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),S.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Is.Ve=new Is;class Pee{constructor(){this.rn=new kD}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(mn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(mn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class kD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new De(ae.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new De(ae.comparator)).toArray()}}new Uint8Array(0);class Lt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Lt(e,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Lt.DEFAULT_COLLECTION_PERCENTILE=10,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lt.DEFAULT=new Lt(41943040,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lt.DISABLED=new Lt(-1,0,0);class Es{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Es(0)}static Mn(){return new Es(-1)}}class Uee{constructor(){this.changes=new Vr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Te.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Hee{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class mF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&fc(r.mutation,i,rn.empty(),Re.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,J()).next(()=>r))}getLocalViewOfDocuments(e,n,r=J()){const i=cr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=lc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=cr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,J()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=sn();const o=dc(),a=dc();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Br)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),fc(l.mutation,c,l.mutation.getFieldMask(),Re.now())):o.set(c.key,rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new Hee(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=dc();let i=new ve((o,a)=>o-a),s=J();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||rn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||J()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=cL();l.forEach(h=>{if(!s.has(h)){const f=_L(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return S.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function lD(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(cr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,J())).next(l=>({batchId:a,changes:uL(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new S(n)).next(r=>{let i=lc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=lc();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new Fr(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Te.newInvalidDocument(c)))});let o=lc();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&fc(c.mutation,u,rn.empty(),Re.now()),cc(n,u)&&(o=o.insert(a,u))}),o})}}class Gee{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:ze(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:CD(r.bundledQuery),readTime:ze(r.readTime)}),v.resolve();var r}}class zee{constructor(){this.overlays=new ve(S.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=cr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=cr(),s=n.length+1,o=new S(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ve((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=cr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=cr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _D(n,r));let s=this.ls.get(n);void 0===s&&(s=J(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class RD{constructor(){this.fs=new De(gt.ds),this.ws=new De(gt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new gt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new gt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new S(new ae([])),r=new gt(n,e),i=new gt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new S(new ae([])),r=new gt(n,e),i=new gt(n,e+1);let s=J();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new gt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class gt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return S.comparator(e.key,n.key)||z(e.As,n.As)}static _s(e,n){return z(e.As,n.As)||S.comparator(e.key,n.key)}}class qee{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new De(gt.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new mD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new gt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gt(n,0),i=new gt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new De(z);return n.forEach(i=>{const s=new gt(i,0),o=new gt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;S.isDocumentKey(s)||(s=s.child(""));const o=new gt(new S(s),0);let a=new De(z);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){L(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const s=new gt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new gt(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Wee{constructor(e){this.Ds=e,this.docs=new ve(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Te.newInvalidDocument(n))}getEntries(e,n){let r=sn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Te.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=sn();const o=n.path,a=new S(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||ZE(TO(l),r)<=0||(i.has(l.key)||cc(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){P()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Kee(this)}getSize(e){return v.resolve(this.size)}}class Kee extends Uee{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Qee{constructor(e){this.persistence=e,this.xs=new Vr(n=>fs(n),ac),this.lastRemoteSnapshotVersion=F.min(),this.highestTargetId=0,this.Ns=0,this.ks=new RD,this.targetCount=0,this.Ms=Es.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Es(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class PD{constructor(e,n){this.$s={},this.overlays={},this.Os=new yn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Qee(this),this.indexManager=new Pee,this.remoteDocumentCache=new Wee(r=>this.referenceDelegate.Ls(r)),this.serializer=new GL(n),this.qs=new Gee(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zee,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new qee(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const i=new Yee(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Yee extends yZ{constructor(e){super(),this.currentSequenceNumber=e}}class hf{constructor(e){this.persistence=e,this.Qs=new RD,this.js=null}static zs(e){return new hf(e)}get Ws(){if(this.js)return this.js;throw P()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=S.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,F.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class VD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=J(),i=J();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new VD(e,n.fromCache,r,i)}}class _F{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(rL(n))return v.resolve(null);let r=zt(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Xh(n,null,"F"),r=zt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=J(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Xh(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return rL(n)||i.isEqual(F.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(YE()<=H.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hD(n)),this.Wi(e,o,n,function DO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=F.fromTimestamp(1e9===r?new Re(n+1,0):new Re(n,r));return new mn(i,S.empty(),e)}(i,-1)))})}ji(e,n){let r=new De(oL(e));return n.forEach((i,s)=>{cc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return YE()<=H.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",hD(n)),this.Ui.getDocumentsMatchingQuery(e,n,mn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Xee{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ve(z),this.Yi=new Vr(s=>fs(s),ac),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mF(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function IF(t,e){return BD.apply(this,arguments)}function BD(){return BD=y(function*(t,e){const n=A(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=J();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),BD.apply(this,arguments)}function wF(t){const e=A(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function Jo(t,e,n){return UD.apply(this,arguments)}function UD(){return UD=y(function*(t,e,n){const r=A(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!pi(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),UD.apply(this,arguments)}function gf(t,e,n){const r=A(t);let i=F.min(),s=J();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=A(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,zt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:F.min(),n?s:J())).next(a=>(function bF(t,e,n){let r=t.Xi.get(e)||F.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function sL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class zD{constructor(){this.activeTargetIds=function fD(){return nee}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AF{constructor(){this.Hr=new zD,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new zD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ite{Yr(e){}shutdown(){}}class xF{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _f=null;function WD(){return null===_f?_f=268435456+Math.round(2147483648*Math.random()):_f++,"0x"+_f.toString(16)}const ste={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ote{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ft="WebChannelConnection";class ate extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=WD(),a=this.To(e,n);b("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(b("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Bn("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${ste[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=WD();return new Promise((o,a)=>{const u=new sZ;u.setWithCredentials(!0),u.listenOnce(nZ.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case QE.NO_ERROR:const l=u.getResponseJson();b(Ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case QE.TIMEOUT:b(Ft,`RPC '${e}' ${s} timed out`),a(new T(I.DEADLINE_EXCEEDED,"Request time out"));break;case QE.HTTP_ERROR:const d=u.getStatus();if(b(Ft,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(m)>=0?m:I.UNKNOWN}(f.status);a(new T(p,f.message))}else a(new T(I.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new T(I.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{b(Ft,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);b(Ft,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=WD(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eZ(),a=tZ(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new iZ({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");b(Ft,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new ote({ro:m=>{f?b(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(b(Ft,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),b(Ft,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,w,_)=>{m.listen(w,D=>{try{_(D)}catch(k){setTimeout(()=>{throw k},0)}})};return g(d,Vh.EventType.OPEN,()=>{f||b(Ft,`RPC '${e}' stream ${i} transport opened.`)}),g(d,Vh.EventType.CLOSE,()=>{f||(f=!0,b(Ft,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,Vh.EventType.ERROR,m=>{f||(f=!0,Bn(Ft,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new T(I.UNAVAILABLE,"The operation could not be completed")))}),g(d,Vh.EventType.MESSAGE,m=>{var w;if(!f){const _=m.data[0];L(!!_);const k=_.error||(null===(w=_[0])||void 0===w?void 0:w.error);if(k){b(Ft,`RPC '${e}' stream ${i} received error:`,k);const O=k.status;let Z=function(jr){const ha=Xe[jr];if(void 0!==ha)return TL(ha)}(O),et=k.message;void 0===Z&&(Z=I.INTERNAL,et="Unknown error status: "+O+" with message "+k.message),f=!0,p.wo(new T(Z,et)),d.close()}else b(Ft,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),g(a,rZ.STAT_EVENT,m=>{m.stat===yO.PROXY?b(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===yO.NOPROXY&&b(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function vf(){return typeof document<"u"?document:null}function Ac(t){return new mee(t,!0)}class KD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ute{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new KD(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return y(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return y(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return y(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===I.RESOURCE_EXHAUSTED?(He(n.toString()),He("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===I.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new T(I.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(y(function*(){e.state=0,e.start()}))}tu(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cte extends ute{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function vee(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:P(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(L(void 0===c||"string"==typeof c),at.fromBase64String(c||"")):(L(void 0===c||c instanceof Uint8Array),at.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?I.UNKNOWN:TL(u.code);return new T(c,u.message||"")}(o);n=new xL(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=lr(t,r.document.name),s=ze(r.document.updateTime),o=r.document.createTime?ze(r.document.createTime):F.min(),a=new bt({mapValue:{fields:r.document.fields}}),u=Te.newFoundDocument(i,s,o,a);n=new nf(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=lr(t,r.document),s=r.readTime?ze(r.readTime):F.min(),o=Te.newNoDocument(i,s);n=new nf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=lr(t,r.document);n=new nf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return P();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new lee(i,s);n=new AL(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return F.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?F.min():s.readTime?ze(s.readTime):F.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=_c(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=Qh(a)?{documents:BL(i,a)}:{query:bD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=function RL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}(i,s.resumeToken);const u=wD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(F.min())>0){o.readTime=function qo(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp());const u=wD(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function wee(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return P()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=_c(this.serializer),n.removeTarget=e,this.Wo(n)}}class dte extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(I.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(I.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class fte{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(He(n),this.mu=!1):b("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class pte{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(y(function*(){var u;bi(o)&&(b("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(c){const l=A(c);l.vu.add(4),yield Xo(l),l.bu.set("Unknown"),l.vu.delete(4),yield xc(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new fte(r,i)}}function xc(t){return YD.apply(this,arguments)}function YD(){return YD=y(function*(t){if(bi(t))for(const e of t.Ru)yield e(!0)}),YD.apply(this,arguments)}function Xo(t){return JD.apply(this,arguments)}function JD(){return JD=y(function*(t){for(const e of t.Ru)yield e(!1)}),JD.apply(this,arguments)}function If(t,e){const n=A(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),eT(n)?ZD(n):ea(n).Ko()&&XD(n,e))}function Mc(t,e){const n=A(t),r=ea(n);n.Au.delete(e),r.Ko()&&NF(n,e),0===n.Au.size&&(r.Ko()?r.jo():bi(n)&&n.bu.set("Unknown"))}function XD(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(F.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ea(t).su(e)}function NF(t,e){t.Vu.qt(e),ea(t).iu(e)}function ZD(t){t.Vu=new hee({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ea(t).start(),t.bu.gu()}function eT(t){return bi(t)&&!ea(t).Uo()&&t.Au.size>0}function bi(t){return 0===A(t).vu.size}function kF(t){t.Vu=void 0}function gte(t){return tT.apply(this,arguments)}function tT(){return tT=y(function*(t){t.Au.forEach((e,n)=>{XD(t,e)})}),tT.apply(this,arguments)}function mte(t,e){return nT.apply(this,arguments)}function nT(){return nT=y(function*(t,e){kF(t),eT(t)?(t.bu.Iu(e),ZD(t)):t.bu.set("Unknown")}),nT.apply(this,arguments)}function yte(t,e,n){return rT.apply(this,arguments)}function rT(){return rT=y(function*(t,e,n){if(t.bu.set("Online"),e instanceof xL&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wf(t,r)}else if(e instanceof nf?t.Vu.Ht(e):e instanceof AL?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(F.min()))try{const r=yield wF(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(at.EMPTY_BYTE_STRING,c.snapshotVersion)),NF(i,a);const l=new Ur(c.target,a,u,c.sequenceNumber);XD(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield wf(t,r)}var r}),rT.apply(this,arguments)}function wf(t,e,n){return iT.apply(this,arguments)}function iT(){return iT=y(function*(t,e,n){if(!pi(e))throw e;t.vu.add(1),yield Xo(t),t.bu.set("Offline"),n||(n=()=>wF(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield xc(t)}))}),iT.apply(this,arguments)}function LF(t,e){return lT.apply(this,arguments)}function lT(){return lT=y(function*(t,e){const n=A(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const r=bi(n);n.vu.add(3),yield Xo(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield xc(n)}),lT.apply(this,arguments)}function hT(){return hT=y(function*(t,e){const n=A(t);e?(n.vu.delete(2),yield xc(n)):e||(n.vu.add(2),yield Xo(n),n.bu.set("Unknown"))}),hT.apply(this,arguments)}function ea(t){return t.Su||(t.Su=function(e,n,r){const i=A(e);return i.fu(),new cte(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:gte.bind(null,t),ao:mte.bind(null,t),nu:yte.bind(null,t)}),t.Ru.push(function(){var e=y(function*(n){n?(t.Su.Qo(),eT(t)?ZD(t):t.bu.set("Unknown")):(yield t.Su.stop(),kF(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}class fT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ot,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new fT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ta(t,e){if(He("AsyncQueue",`${e}: ${t}`),pi(t))return new T(I.UNAVAILABLE,`${e}: ${t}`);throw t}class na{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=lc(),this.sortedSet=new ve(this.comparator)}static emptySet(e){return new na(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class FF{constructor(){this.Cu=new ve(S.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):P():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class ra{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ra(e,n,na.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Tte{constructor(){this.Nu=void 0,this.listeners=[]}}class bte{constructor(){this.queries=new Vr(e=>iL(e),uc),this.onlineState="Unknown",this.ku=new Set}}function gT(){return gT=y(function*(t,e){const n=A(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Tte),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=ta(o,`Initialization of query '${hD(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&_T(n)}),gT.apply(this,arguments)}function yT(){return yT=y(function*(t,e){const n=A(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),yT.apply(this,arguments)}function Cte(t,e){const n=A(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&_T(n)}function Ste(t,e,n){const r=A(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function _T(t){t.ku.forEach(e=>{e.next()})}class vT{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class UF{constructor(e){this.key=e}}class $F{constructor(e){this.key=e}}class jF{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=J(),this.mutatedKeys=J(),this.tc=oL(e),this.ec=new na(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new FF,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=cc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new ra(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new FF,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=J(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new $F(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new UF(r))}),n}hc(e){this.Yu=e.ir,this.Zu=J();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return ra.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Mte{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Nte{constructor(e){this.key=e,this.fc=!1}}class kte{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Vr(a=>iL(a),uc),this._c=new Map,this.mc=new Set,this.gc=new ve(S.comparator),this.yc=new Map,this.Ic=new RD,this.Tc={},this.Ec=new Map,this.Ac=Es.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Rte(t,e){return IT.apply(this,arguments)}function IT(){return IT=y(function*(t,e){const n=function HT(t){const e=A(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jte.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lte.bind(null,e),e.dc.nu=Cte.bind(null,e.eventManager),e.dc.Pc=Ste.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function Yo(t,e){const n=A(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new Ur(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,zt(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function wT(t,e,n,r,i){return ET.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&If(n.remoteStore,o)}return i}),IT.apply(this,arguments)}function ET(){return ET=y(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=y(function*(g,m,w,_){let D=m.view.sc(w);D.zi&&(D=yield gf(g.localStore,m.query,!1).then(({documents:Z})=>m.view.sc(Z,D)));const k=_&&_.targetChanges.get(m.targetId),O=m.view.applyChanges(D,g.isPrimaryClient,k);return kT(g,m.targetId,O.cc),O.snapshot}),function(g,m,w,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield gf(t.localStore,e,!0),o=new jF(e,s.ir),a=o.sc(s.documents),u=mc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);kT(t,n,c.cc);const l=new Mte(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),ET.apply(this,arguments)}function Pte(t,e){return DT.apply(this,arguments)}function DT(){return DT=y(function*(t,e){const n=A(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!uc(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Jo(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Mc(n.remoteStore,r.targetId),ia(n,r.targetId)}).catch(fi))):(ia(n,r.targetId),yield Jo(n.localStore,r.targetId,!0))}),DT.apply(this,arguments)}function HF(t,e){return bT.apply(this,arguments)}function bT(){return bT=y(function*(t,e){const n=A(t);try{const r=yield function ete(t,e){const n=A(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(at.EMPTY_BYTE_STRING,F.min()).withLastLimboFreeSnapshotVersion(F.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=sn(),c=J();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function EF(t,e,n){let r=J(),i=J();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=sn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(F.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(F.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(L(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?L(o.fc):i.removedDocuments.size>0&&(L(o.fc),o.fc=!1))}),yield $r(n,r,e)}catch(r){yield fi(r)}}),bT.apply(this,arguments)}function GF(t,e,n){const r=A(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=A(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&_T(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Lte(t,e,n){return CT.apply(this,arguments)}function CT(){return CT=y(function*(t,e,n){const r=A(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new ve(S.comparator);o=o.insert(s,Te.newNoDocument(s,F.min()));const a=J().add(s),u=new gc(F.min(),new Map,new ve(z),o,a);yield HF(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),RT(r)}else yield Jo(r.localStore,e,!1).then(()=>ia(r,e,n)).catch(fi)}),CT.apply(this,arguments)}function ia(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||zF(t,r)})}function zF(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Mc(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),RT(t))}function kT(t,e,n){for(const r of n)r instanceof UF?(t.Ic.addReference(r.key,e),Ute(t,r)):r instanceof $F?(b("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||zF(t,r.key)):P()}function Ute(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(b("SyncEngine","New document in limbo: "+n),t.mc.add(r),RT(t))}function RT(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new S(ae.fromString(e)),r=t.Ac.next();t.yc.set(r,new Nte(n)),t.gc=t.gc.insert(n,r),If(t.remoteStore,new Ur(zt($o(n.path)),r,"TargetPurposeLimboResolution",yn.ct))}}function $r(t,e,n){return PT.apply(this,arguments)}function PT(){return PT=y(function*(t,e,n){const r=A(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=VD.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=y(function*(u,c){const l=A(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!pi(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),PT.apply(this,arguments)}function $te(t,e){return OT.apply(this,arguments)}function OT(){return OT=y(function*(t,e){const n=A(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());const r=yield IF(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new T(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $r(n,r.er)}var i}),OT.apply(this,arguments)}function jte(t,e){const n=A(t),r=n.yc.get(e);if(r&&r.fc)return J().add(r.key);{let i=J();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class Ef{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.serializer=Ac(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function vF(t,e,n,r){return new Xee(t,e,n,r)}(this.persistence,new _F,e.initialUser,this.serializer)}createPersistence(e){return new PD(hf.zs,this.serializer)}createSharedClientState(e){return new AF}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class sa{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>GF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=$te.bind(null,r.syncEngine),yield function dT(t,e){return hT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new bte}createDatastore(e){const n=Ac(e.databaseInfo.databaseId),r=new ate(e.databaseInfo);return new dte(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>GF(this.syncEngine,a,0),o=xF.D()?new xF:new ite,new pte(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new kte(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=y(function*(n){const r=A(n);b("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Xo(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class Df{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):He("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class tne{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=wO.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){b("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(b("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ot;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=ta(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Tf(t,e){return zT.apply(this,arguments)}function zT(){return zT=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield IF(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),zT.apply(this,arguments)}function qT(t,e){return WT.apply(this,arguments)}function WT(){return WT=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function KT(t){return QT.apply(this,arguments)}(t);b("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>LF(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>LF(e.remoteStore,s)),t._onlineComponents=e}),WT.apply(this,arguments)}function QT(){return QT=y(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Tf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function JF(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Bn("Error using user provided cache. Falling back to memory cache: "+n),yield Tf(t,new Ef)}}else b("FirestoreClient","Using default OfflineComponentProvider"),yield Tf(t,new Ef);return t._offlineComponents}),QT.apply(this,arguments)}function YT(){return YT=y(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),yield qT(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),yield qT(t,new sa))),t._onlineComponents}),YT.apply(this,arguments)}function oa(t){return XT.apply(this,arguments)}function XT(){return XT=y(function*(t){const e=yield function bf(t){return YT.apply(this,arguments)}(t),n=e.eventManager;return n.onListen=Rte.bind(null,e.syncEngine),n.onUnlisten=Pte.bind(null,e.syncEngine),n}),XT.apply(this,arguments)}function r2(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const i2=new Map;function o2(t){if(S.isDocumentKey(t))throw new T(I.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function se(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function Sf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":P()}(t);throw new T(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class u2{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new T(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function lne(t,e,n,r){if(!0===e&&!0===r)throw new T(I.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=r2(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new T(I.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u2(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new aZ;switch(n.type){case"firstParty":return new dZ(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new T(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=i2.get(e);n&&(b("ComponentProvider","Removing Datastore"),i2.delete(e),n.terminate())}(this),Promise.resolve()}}class qe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qe(this.firestore,e,this._key)}}class Ct{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ct(this.firestore,e,this._query)}}class dr extends Ct{constructor(e,n,r){super(e,n,$o(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qe(this.firestore,null,new S(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}class pne{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new KD(this,"async_queue_retry"),this.Xc=()=>{const n=vf();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=vf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=vf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ot;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return y(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!pi(n))throw n;b("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,He("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=fT.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&P()}verifyOperationInProgress(){}sa(){var e=this;return y(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function e0(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class be extends Nc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pne,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||l2(this),this._firestoreClient.terminate()}}function mne(t,e){const r="string"==typeof t?t:e||"(default)",i=Ld("object"==typeof t?t:fk(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=Nd())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function dne(t,e,n,r={}){var i;const s=(t=se(t,Nc))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Bn("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=ft.MOCK_USER;else{o=function e5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xd(JSON.stringify({alg:"none",type:"JWT"})),xd(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new T(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new ft(u)}t._authCredentials=new uZ(new vO(o,a))}}(i,...s)}return i}function l2(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new $Z(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,r2(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new tne(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts(at.fromBase64String(e))}catch(n){throw new T(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ts(at.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class aa{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class t0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return z(this._lat,e._lat)||z(this._long,e._long)}}const Tne=new RegExp("[~\\*/\\[\\]]");function Mf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(I.INVALID_ARGUMENT,a+t+u)}class o0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bne(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Nf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class bne extends o0{data(){return super.data()}}function Nf(t,e){return"string"==typeof e?function xf(t,e,n){if(e.search(Tne)>=0)throw Mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new aa(...e.split("."))._internalPath}catch{throw Mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof aa?e._internalPath:e._delegate._internalPath}class Sne{convertValue(e,n="none"){switch(_i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new t0(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zh(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(rc(e));default:return null}}convertTimestamp(e){const n=mi(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ae.fromString(e);L(HL(r));const i=new ds(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(n)||He(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Cs{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class la extends o0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Nf("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Of extends la{data(e={}){return super.data(e)}}class da{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Of(this._firestore,this._userDataWriter,r.key,r,new Cs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Of(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Cs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Of(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Cs(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:xne(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xne(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}class Si extends Sne{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qe(this.firestore,null,n)}}!function(t,e=!0){Oo=pu,jt(new kt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new be(new cZ(n.getProvider("auth-internal")),new hZ(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ds(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),je(_O,"3.12.1",t),je(_O,"3.12.1","esm2017")}();var jne={includeMetadataChanges:!1};function l0(t,e){return void 0===e&&(e=jne),new mt(function(n){var r=function Mne(t,...e){var n,r,i;t=ri(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||e0(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(e0(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof qe)c=se(t.firestore,be),l=$o(t._key.path),u={next:d=>{e[o]&&e[o](function c0(t,e,n){const r=n.docs.get(e._key),i=new Si(t);return new la(t,i,e._key,r,new Cs(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=se(t,Ct);c=se(d.firestore,be),l=d._query;const h=new Si(c);u={next:f=>{e[o]&&e[o](new da(c,h,d,f))},error:e[o+1],complete:e[o+2]},function D2(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new T(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new Df(p),m=new vT(h,g,f);return d.asyncQueue.enqueueAndForget(y(function*(){return function pT(t,e){return gT.apply(this,arguments)}(yield oa(d),m)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(y(function*(){return function mT(t,e){return yT.apply(this,arguments)}(yield oa(d),m)}))}}(function Ze(t){return t._firestoreClient||l2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Qne(t,e){return void 0===e&&(e={}),function Kne(t){return l0(t,{includeMetadataChanges:!0}).pipe(jc(function(e){return e.docs}))}(t).pipe(jc(function(n){return n.map(function(r){return function N2(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Ff{constructor(e){return e}}const O2="firestore",f0=new $("angularfire2.firestore-instances");function Xne(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ff(r)}}const Zne={provide:class Yne{constructor(){return kv(O2)}},deps:[[new dn,f0]]},ere={provide:Ff,useFactory:function Jne(t,e){const n=function Nv(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(O2,t,e);return n&&new Ff(n)},deps:[[new dn,f0],Do]};let tre=(()=>{class t{constructor(){je("angularfire",Dv.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Mi({type:t}),t.\u0275inj=Wr({providers:[ere,Zne]}),t})();function nre(t,...e){return{ngModule:tre,providers:[{provide:f0,useFactory:Xne(t),multi:!0,deps:[Me,Ir,A1,x1,[new dn,RR],[new dn,tP],...e]}]}}const rre=Rv(Qne,!0),ire=Rv(mne,!0);function sre(t,e){if(1&t&&(vt(0,"tr")(1,"td"),fn(2),Nt(),vt(3,"td"),fn(4),Nt(),vt(5,"td"),fn(6),Nt(),vt(7,"td"),fn(8),Nt()()),2&t){const n=e.$implicit;Mn(2),ho(n.minute),Mn(2),ho(n.predictedColor),Mn(2),ho(n.resultColors),Mn(2),ho(n.result)}}function ore(t,e){if(1&t&&(vt(0,"div",3)(1,"div",4),fn(2),vt(3,"div"),fn(4),Nt(),vt(5,"div"),fn(6),Nt(),vt(7,"div"),fn(8),Nt(),vt(9,"table")(10,"thead")(11,"tr")(12,"th"),fn(13,"Min"),Nt(),vt(14,"th"),fn(15,"Previs\xe3o"),Nt(),vt(16,"th"),fn(17,"Real"),Nt(),vt(18,"th"),fn(19,"Rst"),Nt()()(),vt(20,"tbody"),Kg(21,sre,9,4,"tr",5),Nt()()()()),2&t){const n=e.$implicit;Mn(2),im(" Lista ",n.listSize," (",n.inverse?"inversa":"normal",") "),Mn(2),fo("Saldo: ",n.listBalance>-1?"\u{1f7e9} +"+n.listBalance:"\u{1f7e5}"+n.listBalance,""),Mn(2),fo("Gradiente: ",n.listGradient>0?"\u{1f7e9} +"+n.listGradient:"\u{1f7e5}"+n.listGradient,""),Mn(2),fo("Total de Sinais ",n.listElements.length,""),Mn(13),Ja("ngForOf",n.listElements)}}let are=(()=>{class t{get hour(){return this.selectedHour}constructor(n){this.firestore=n,this.selectedHour=(new Date).getHours();const r=function hne(t,e,...n){if(t=ri(t),function ZT(t,e,n){if(!n)throw new T(I.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof Nc){const r=ae.fromString(e,...n);return o2(r),new dr(t,null,r)}{if(!(t instanceof qe||t instanceof dr))throw new T(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ae.fromString(e,...n));return o2(r),new dr(t.firestore,null,r)}}(this.firestore,`lists/${this.getDateStringFormated(new Date)}_${this.selectedHour}/inside-lists`);this.lists$=rre(r),this.lists$=this.lists$.pipe(jc(i=>i.sort((s,o)=>o.listGradient-s.listGradient)))}getDateStringFormated(n){return`${n.getFullYear()}-${(n.getMonth()+1).toString().padStart(2,"0")}-${n.getDate().toString().padStart(2,"0")}`}}return t.\u0275fac=function(n){return new(n||t)(ee(Ff))},t.\u0275cmp=lp({type:t,selectors:[["app-list"]],inputs:{hour:"hour"},decls:4,vars:4,consts:[["type","number",3,"value"],[1,"container"],["class","list-table",4,"ngFor","ngForOf"],[1,"list-table"],[1,"list-header"],[4,"ngFor","ngForOf"]],template:function(n,r){1&n&&(td(0,"input",0),vt(1,"div",1),Kg(2,ore,22,6,"div",2),function Zx(t,e){const n=oe();let r;const i=t+re;n.firstCreatePass?(r=function bz(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Pi(r.type)),o=qt(ee);try{const a=gl(!1),u=s();return gl(a),function XH(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,E(),i,u),u}finally{qt(o)}}(3,"async"),Nt()),2&n&&(Ja("value",r.selectedHour),Mn(2),Ja("ngForOf",eM(3,2,r.lists$)))},dependencies:[DN,SN],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}table[_ngcontent-%COMP%]{border-collapse:collapse;border-radius:5px;border:1px solid black}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;border-bottom:.5px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f2f2f2}"]}),t})(),ure=(()=>{class t{constructor(){this.title="view-blaze-lists"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=lp({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&td(0,"app-list")},dependencies:[are]}),t})();const cre_firebase={projectId:"blaze-lists",appId:"1:962023947890:web:3ac82fa8094bb9bbad0ceb",storageBucket:"blaze-lists.appspot.com",apiKey:"AIzaSyBq53ijjHtGzSvLh8s_TyT4WSxSQvz8DeE",authDomain:"blaze-lists.firebaseapp.com",messagingSenderId:"962023947890"};let lre=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Mi({type:t,bootstrap:[ure]}),t.\u0275inj=Wr({imports:[P9,FK(()=>VK(cre_firebase)),nre(()=>ire())]}),t})();k9().bootstrapModule(lre).catch(t=>console.error(t))}},Se=>{Se(Se.s=385)}]);