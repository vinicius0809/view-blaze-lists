"use strict";(self.webpackChunkview_blaze_lists=self.webpackChunkview_blaze_lists||[]).push([[179],{891:()=>{function Me(t){return"function"==typeof t}function ul(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const cl=ul(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function zs(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class On{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Me(r))try{r()}catch(s){e=s instanceof cl?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{mC(s)}catch(o){e=e??[],o instanceof cl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new cl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)mC(e);else{if(e instanceof On){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&zs(n,e)}remove(e){const{_finalizers:n}=this;n&&zs(n,e),e instanceof On&&e._removeParent(this)}}On.EMPTY=(()=>{const t=new On;return t.closed=!0,t})();const pC=On.EMPTY;function gC(t){return t instanceof On||t&&"closed"in t&&Me(t.remove)&&Me(t.add)&&Me(t.unsubscribe)}function mC(t){Me(t)?t():t.unsubscribe()}const Hi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ll={setTimeout(t,e,...n){const{delegate:r}=ll;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=ll;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function yC(t){ll.setTimeout(()=>{const{onUnhandledError:e}=Hi;if(!e)throw t;e(t)})}function _C(){}const LB=_p("C",void 0,void 0);function _p(t,e,n){return{kind:t,value:e,error:n}}let zi=null;function dl(t){if(Hi.useDeprecatedSynchronousErrorHandling){const e=!zi;if(e&&(zi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=zi;if(zi=null,n)throw r}}else t()}class vp extends On{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gC(e)&&e.add(this)):this.destination=HB}static create(e,n,r){return new Ra(e,n,r)}next(e){this.isStopped?Ip(function BB(t){return _p("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ip(function VB(t){return _p("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ip(LB,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $B=Function.prototype.bind;function wp(t,e){return $B.call(t,e)}class jB{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){hl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){hl(r)}else hl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){hl(n)}}}class Ra extends vp{constructor(e,n,r){let i;if(super(),Me(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Hi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wp(e.next,s),error:e.error&&wp(e.error,s),complete:e.complete&&wp(e.complete,s)}):i=e}this.destination=new jB(i)}}function hl(t){Hi.useDeprecatedSynchronousErrorHandling?function UB(t){Hi.useDeprecatedSynchronousErrorHandling&&zi&&(zi.errorThrown=!0,zi.error=t)}(t):yC(t)}function Ip(t,e){const{onStoppedNotification:n}=Hi;n&&ll.setTimeout(()=>n(t,e))}const HB={closed:!0,next:_C,error:function GB(t){throw t},complete:_C},Ep="function"==typeof Symbol&&Symbol.observable||"@@observable";function Dp(t){return t}let at=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function qB(t){return t&&t instanceof vp||function zB(t){return t&&Me(t.next)&&Me(t.error)&&Me(t.complete)}(t)&&gC(t)}(n)?n:new Ra(n,r,i);return dl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=wC(r))((i,s)=>{const o=new Ra({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Ep](){return this}pipe(...n){return function vC(t){return 0===t.length?Dp:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=wC(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function wC(t){var e;return null!==(e=t??Hi.Promise)&&void 0!==e?e:Promise}const WB=ul(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Tp=(()=>{class t extends at{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new IC(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new WB}next(n){dl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){dl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){dl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?pC:(this.currentObservers=null,s.push(n),new On(()=>{this.currentObservers=null,zs(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new at;return n.source=this,n}}return t.create=(e,n)=>new IC(e,n),t})();class IC extends Tp{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:pC}}function qs(t){return e=>{if(function KB(t){return Me(t?.lift)}(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ws(t,e,n,r,i){return new QB(t,e,n,r,i)}class QB extends vp{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Ks(t,e){return qs((n,r)=>{let i=0;n.subscribe(Ws(r,s=>{r.next(t.call(e,s,i++))}))})}function Sp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ii(t){return this instanceof ii?(this.v=t,this):new ii(t)}function bC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function Mp(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const CC=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function SC(t){return Me(t?.then)}function AC(t){return Me(t[Ep])}function MC(t){return Symbol.asyncIterator&&Me(t?.[Symbol.asyncIterator])}function xC(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const NC=function fU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function kC(t){return Me(t?.[NC])}function RC(t){return function TC(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof ii?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ii(n.read());if(i)return yield ii(void 0);yield yield ii(r)}}finally{n.releaseLock()}})}function PC(t){return Me(t?.getReader)}function br(t){if(t instanceof at)return t;if(null!=t){if(AC(t))return function pU(t){return new at(e=>{const n=t[Ep]();if(Me(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(CC(t))return function gU(t){return new at(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(SC(t))return function mU(t){return new at(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,yC)})}(t);if(MC(t))return OC(t);if(kC(t))return function yU(t){return new at(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(PC(t))return function _U(t){return OC(RC(t))}(t)}throw xC(t)}function OC(t){return new at(e=>{(function vU(t,e){var n,r,i,s;return function EC(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=bC(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function si(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function FC(t,e,n=1/0){return Me(e)?FC((r,i)=>Ks((s,o)=>e(r,s,i,o))(br(t(r,i))),n):("number"==typeof e&&(n=e),qs((r,i)=>function wU(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;br(n(g,l++)).subscribe(Ws(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const I=u.shift();o?si(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(Ws(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}const LC=new at(t=>t.complete());function xp(t){return t[t.length-1]}function fl(t,e=0){return qs((n,r)=>{n.subscribe(Ws(r,i=>si(r,t,()=>r.next(i),e),()=>si(r,t,()=>r.complete(),e),i=>si(r,t,()=>r.error(i),e)))})}function pl(t,e=0){return qs((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function VC(t,e){if(!t)throw new Error("Iterable cannot be null");return new at(n=>{si(n,e,()=>{const r=t[Symbol.asyncIterator]();si(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function BC(t,e){return e?function kU(t,e){if(null!=t){if(AC(t))return function SU(t,e){return br(t).pipe(pl(e),fl(e))}(t,e);if(CC(t))return function MU(t,e){return new at(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(SC(t))return function AU(t,e){return br(t).pipe(pl(e),fl(e))}(t,e);if(MC(t))return VC(t,e);if(kC(t))return function xU(t,e){return new at(n=>{let r;return si(n,e,()=>{r=t[NC](),si(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Me(r?.return)&&r.return()})}(t,e);if(PC(t))return function NU(t,e){return VC(RC(t),e)}(t,e)}throw xC(t)}(t,e):br(t)}function RU(...t){const e=function bU(t){return function DU(t){return t&&Me(t.schedule)}(xp(t))?t.pop():void 0}(t),n=function CU(t,e){return"number"==typeof xp(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?br(r[0]):function IU(t=1/0){return FC(Dp,t)}(n)(BC(r,e)):LC}function Np(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Ra({next:()=>{r.unsubscribe(),t()}});return br(e(...n)).subscribe(r)}function pe(t){for(let e in t)if(t[e]===pe)return e;throw Error("Could not find renamed property on target object.")}function kp(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ut(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ut).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Rp(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const OU=pe({__forward_ref__:pe});function ve(t){return t.__forward_ref__=ve,t.toString=function(){return ut(this())},t}function z(t){return Pp(t)?t():t}function Pp(t){return"function"==typeof t&&t.hasOwnProperty(OU)&&t.__forward_ref__===ve}function Op(t){return t&&!!t.\u0275providers}class S extends Error{constructor(e,n){super(function gl(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function W(t){return"string"==typeof t?t:null==t?"":String(t)}function ml(t,e){throw new S(-201,!1)}function Sn(t,e){null==t&&function fe(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function _e(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Fn(t){return{providers:t.providers||[],imports:t.imports||[]}}function yl(t){return $C(t,_l)||$C(t,GC)}function $C(t,e){return t.hasOwnProperty(e)?t[e]:null}function jC(t){return t&&(t.hasOwnProperty(Fp)||t.hasOwnProperty(jU))?t[Fp]:null}const _l=pe({\u0275prov:pe}),Fp=pe({\u0275inj:pe}),GC=pe({ngInjectableDef:pe}),jU=pe({ngInjectorDef:pe});var G=(()=>((G=G||{})[G.Default=0]="Default",G[G.Host=1]="Host",G[G.Self=2]="Self",G[G.SkipSelf=4]="SkipSelf",G[G.Optional=8]="Optional",G))();let Lp;function nn(t){const e=Lp;return Lp=t,e}function zC(t,e,n){const r=yl(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&G.Optional?null:void 0!==e?e:void ml(ut(t))}const we=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Pa={},Vp="__NG_DI_FLAG__",vl="ngTempTokenPath",HU=/\n/gm,qC="__source";let Qs;function ai(t){const e=Qs;return Qs=t,e}function WU(t,e=G.Default){if(void 0===Qs)throw new S(-203,!1);return null===Qs?zC(t,void 0,e):Qs.get(t,e&G.Optional?null:void 0,e)}function re(t,e=G.Default){return(function HC(){return Lp}()||WU)(z(t),e)}function Ie(t,e=G.Default){return re(t,wl(e))}function wl(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Bp(t){const e=[];for(let n=0;n<t.length;n++){const r=z(t[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,s=G.Default;for(let o=0;o<r.length;o++){const a=r[o],u=KU(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(re(i,s))}else e.push(re(r))}return e}function Oa(t,e){return t[Vp]=e,t.prototype[Vp]=e,t}function KU(t){return t[Vp]}function Cr(t){return{toString:t}.toString()}var Jn=(()=>((Jn=Jn||{})[Jn.OnPush=0]="OnPush",Jn[Jn.Default=1]="Default",Jn))(),yn=(()=>{return(t=yn||(yn={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",yn;var t})();const Sr={},le=[],Il=pe({\u0275cmp:pe}),Up=pe({\u0275dir:pe}),$p=pe({\u0275pipe:pe}),KC=pe({\u0275mod:pe}),Ar=pe({\u0275fac:pe}),Fa=pe({__NG_ELEMENT_ID__:pe}),QC=pe({__NG_ENV_ID__:pe});function YC(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function jp(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];XC(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function JC(t){return 3===t||4===t||6===t}function XC(t){return 64===t.charCodeAt(0)}function La(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ZC(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ZC(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const e0="ng-template";function JU(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==YC(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function t0(t){return 4===t.type&&t.value!==e0}function XU(t,e,n){return e===(4!==t.type||n?t.value:e0)}function ZU(t,e,n){let r=4;const i=t.attrs||[],s=function n$(t){for(let e=0;e<t.length;e++)if(JC(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!XU(t,u,n)||""===u&&1===e.length){if(Ln(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!JU(t.attrs,c,n)){if(Ln(r))return!1;o=!0}continue}const d=e$(8&r?"class":u,i,t0(t),n);if(-1===d){if(Ln(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==YC(f,c,0)||2&r&&c!==h){if(Ln(r))return!1;o=!0}}}}else{if(!o&&!Ln(r)&&!Ln(u))return!1;if(o&&Ln(u))continue;o=!1,r=u|1&r}}return Ln(r)||o}function Ln(t){return 0==(1&t)}function e$(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function r$(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function n0(t,e,n=!1){for(let r=0;r<e.length;r++)if(ZU(t,e[r],n))return!0;return!1}function r0(t,e){return t?":not("+e.trim()+")":e}function s$(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Ln(o)&&(e+=r0(s,i),i=""),r=o,s=s||!Ln(r);n++}return""!==i&&(e+=r0(s,i)),e}function Gp(t){return Cr(()=>{const e=o0(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Jn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||yn.Emulated,styles:t.styles||le,_:null,schemas:t.schemas||null,tView:null,id:""};a0(n);const r=t.dependencies;return n.directiveDefs=El(r,!1),n.pipeDefs=El(r,!0),n.id=function f$(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function c$(t){return de(t)||Rt(t)}function l$(t){return null!==t}function Xn(t){return Cr(()=>({type:t.type,bootstrap:t.bootstrap||le,declarations:t.declarations||le,imports:t.imports||le,exports:t.exports||le,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function s0(t,e){if(null==t)return Sr;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Q(t){return Cr(()=>{const e=o0(t);return a0(e),e})}function rn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function de(t){return t[Il]||null}function Rt(t){return t[Up]||null}function sn(t){return t[$p]||null}function o0(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||le,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:s0(t.inputs,e),outputs:s0(t.outputs)}}function a0(t){t.features?.forEach(e=>e(t))}function El(t,e){if(!t)return null;const n=e?sn:c$;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(l$)}const ct=0,k=1,X=2,ke=3,Vn=4,qi=5,Pt=6,Ys=7,Be=8,Js=9,Wi=10,Y=11,Ba=12,u0=13,Xs=14,Ze=15,Ua=16,Zs=17,Zn=18,$a=19,c0=20,ui=21,Mr=22,Dl=23,Tl=24,ie=25,Hp=1,l0=2,er=7,bl=8,eo=9,Tt=11;function vn(t){return Array.isArray(t)&&"object"==typeof t[Hp]}function on(t){return Array.isArray(t)&&!0===t[Hp]}function zp(t){return 0!=(4&t.flags)}function Ki(t){return t.componentOffset>-1}function Cl(t){return 1==(1&t.flags)}function Bn(t){return!!t.template}function qp(t){return 0!=(512&t[X])}function Qi(t,e){return t.hasOwnProperty(Ar)?t[Ar]:null}let _$=we.WeakRef??class y${constructor(e){this.ref=e}deref(){return this.ref}},w$=0,tr=null,Sl=!1;function gt(t){const e=tr;return tr=t,e}class g0{constructor(){this.id=w$++,this.ref=function v$(t){return new _$(t)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,n]of this.producers){const r=n.producerNode.deref();if(void 0!==r&&n.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=Sl;Sl=!0;try{for(const[n,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),i?.producers.delete(this.id))}}finally{Sl=e}}producerAccessed(){if(Sl)throw new Error("");if(null===tr)return;let e=tr.producers.get(this.id);void 0===e?(e={consumerNode:tr.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:tr.trackingVersion},tr.producers.set(this.id,e),this.consumers.set(tr.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=tr.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==tr?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let m0=null;const y0=()=>{};class T$ extends g0{constructor(e,n,r){super(),this.watch=e,this.schedule=n,this.dirty=!1,this.cleanupFn=y0,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=gt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=y0,this.watch(this.registerOnCleanup)}finally{gt(e)}}cleanup(){this.cleanupFn()}}class b${constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function xr(){return _0}function _0(t){return t.type.prototype.ngOnChanges&&(t.setInput=S$),C$}function C$(){const t=w0(this),e=t?.current;if(e){const n=t.previous;if(n===Sr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function S$(t,e,n,r){const i=this.declaredInputs[n],s=w0(t)||function A$(t,e){return t[v0]=e}(t,{previous:Sr,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new b$(u&&u.currentValue,e,a===Sr),t[r]=e}xr.ngInherit=!0;const v0="__ngSimpleChanges__";function w0(t){return t[v0]||null}const nr=function(t,e,n){};function Te(t){for(;Array.isArray(t);)t=t[ct];return t}function xl(t,e){return Te(e[t])}function an(t,e){return Te(e[t.index])}function D0(t,e){return t.data[e]}function un(t,e){const n=e[t];return vn(n)?n:n[ct]}function Nl(t){return 128==(128&t[X])}function ci(t,e){return null==e?null:t[e]}function T0(t){t[Zs]=0}function P$(t){1024&t[X]||(t[X]|=1024,C0(t,1))}function b0(t){1024&t[X]&&(t[X]&=-1025,C0(t,-1))}function C0(t,e){let n=t[ke];if(null===n)return;n[qi]+=e;let r=n;for(n=n[ke];null!==n&&(1===e&&1===r[qi]||-1===e&&0===r[qi]);)n[qi]+=e,r=n,n=n[ke]}const j={lFrame:L0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function M0(){return j.bindingsEnabled}function E(){return j.lFrame.lView}function ae(){return j.lFrame.tView}function bt(){let t=x0();for(;null!==t&&64===t.type;)t=t.parent;return t}function x0(){return j.lFrame.currentTNode}function rr(t,e){const n=j.lFrame;n.currentTNode=t,n.isParent=e}function Xp(){return j.lFrame.isParent}function Nr(){return j.lFrame.bindingIndex}function ro(){return j.lFrame.bindingIndex++}function kr(t){const e=j.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function K$(t,e){const n=j.lFrame;n.bindingIndex=n.bindingRootIndex=t,eg(e)}function eg(t){j.lFrame.currentDirectiveIndex=t}function ng(t){j.lFrame.currentQueryIndex=t}function Y$(t){const e=t[k];return 2===e.type?e.declTNode:1===e.type?t[Pt]:null}function O0(t,e,n){if(n&G.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&G.Host||(i=Y$(s),null===i||(s=s[Xs],10&i.type))););if(null===i)return!1;e=i,t=s}const r=j.lFrame=F0();return r.currentTNode=e,r.lView=t,!0}function rg(t){const e=F0(),n=t[k];j.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function F0(){const t=j.lFrame,e=null===t?null:t.child;return null===e?L0(t):e}function L0(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function V0(){const t=j.lFrame;return j.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const B0=V0;function ig(){const t=V0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Kt(){return j.lFrame.selectedIndex}function Yi(t){j.lFrame.selectedIndex=t}let $0=!0;function kl(){return $0}function li(t){$0=t}function Rl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Pl(t,e,n){j0(t,e,3,n)}function Ol(t,e,n,r){(3&t[X])===n&&j0(t,e,n,r)}function sg(t,e){let n=t[X];(3&n)===e&&(n&=4095,n+=1,t[X]=n)}function j0(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[Zs]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[Zs]+=65536),(a<s||-1==s)&&(ij(t,n,e,u),t[Zs]=(4294901760&t[Zs])+u+2),u++}function G0(t,e){nr(4,t,e);const n=gt(null);try{e.call(t)}finally{gt(n),nr(5,t,e)}}function ij(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[X]>>12<t[Zs]>>16&&(3&t[X])===e&&(t[X]+=4096,G0(a,s)):G0(a,s)}const io=-1;class Ha{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function H0(t){return t!==io}function Fl(t){return 32767&t}function Ll(t,e){let n=function uj(t){return t>>16}(t),r=e;for(;n>0;)r=r[Xs],n--;return r}let ag=!0;function Vl(t){const e=ag;return ag=t,e}const z0=255,q0=5;let cj=0;const ir={};function Bl(t,e){const n=W0(t,e);if(-1!==n)return n;const r=e[k];r.firstCreatePass&&(t.injectorIndex=e.length,ug(r.data,t),ug(e,null),ug(r.blueprint,null));const i=cg(t,e),s=t.injectorIndex;if(H0(i)){const o=Fl(i),a=Ll(i,e),u=a[k].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function ug(t,e){t.push(0,0,0,0,0,0,0,0,e)}function W0(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function cg(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=eS(i),null===r)return io;if(n++,i=i[Xs],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return io}function lg(t,e,n){!function lj(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fa)&&(r=n[Fa]),null==r&&(r=n[Fa]=cj++);const i=r&z0;e.data[t+(i>>q0)]|=1<<i}(t,e,n)}function K0(t,e,n){if(n&G.Optional||void 0!==t)return t;ml()}function Q0(t,e,n,r){if(n&G.Optional&&void 0===r&&(r=null),!(n&(G.Self|G.Host))){const i=t[Js],s=nn(void 0);try{return i?i.get(e,r,n&G.Optional):zC(e,r,n&G.Optional)}finally{nn(s)}}return K0(r,0,n)}function Y0(t,e,n,r=G.Default,i){if(null!==t){if(2048&e[X]&&!(r&G.Self)){const o=function gj(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[X]&&!(512&o[X]);){const a=J0(s,o,n,r|G.Self,ir);if(a!==ir)return a;let u=s.parent;if(!u){const c=o[c0];if(c){const l=c.get(n,ir,r);if(l!==ir)return l}u=eS(o),o=o[Xs]}s=u}return i}(t,e,n,r,ir);if(o!==ir)return o}const s=J0(t,e,n,r,ir);if(s!==ir)return s}return Q0(e,n,r,i)}function J0(t,e,n,r,i){const s=function fj(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Fa)?t[Fa]:void 0;return"number"==typeof e?e>=0?e&z0:pj:e}(n);if("function"==typeof s){if(!O0(e,t,r))return r&G.Host?K0(i,0,r):Q0(e,n,r,i);try{const o=s(r);if(null!=o||r&G.Optional)return o;ml()}finally{B0()}}else if("number"==typeof s){let o=null,a=W0(t,e),u=io,c=r&G.Host?e[Ze][Pt]:null;for((-1===a||r&G.SkipSelf)&&(u=-1===a?cg(t,e):e[a+8],u!==io&&Z0(r,!1)?(o=e[k],a=Fl(u),e=Ll(u,e)):a=-1);-1!==a;){const l=e[k];if(X0(s,a,l.data)){const d=hj(a,e,n,o,r,c);if(d!==ir)return d}u=e[a+8],u!==io&&Z0(r,e[k].data[a+8]===c)&&X0(s,a,e)?(o=l,a=Fl(u),e=Ll(u,e)):a=-1}}return i}function hj(t,e,n,r,i,s){const o=e[k],a=o.data[t+8],l=function Ul(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&Bn(f)&&f.type===n)return u}return null}(a,o,n,null==r?Ki(a)&&ag:r!=o&&0!=(3&a.type),i&G.Host&&s===a);return null!==l?Ji(e,o,l,a):ir}function Ji(t,e,n,r){let i=t[n];const s=e.data;if(function sj(t){return t instanceof Ha}(i)){const o=i;o.resolving&&function FU(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new S(-200,`Circular dependency in DI detected for ${t}${n}`)}(function he(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():W(t)}(s[n]));const a=Vl(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?nn(o.injectImpl):null;O0(t,r,G.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function rj(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=_0(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==u&&nn(u),Vl(a),o.resolving=!1,B0()}}return i}function X0(t,e,n){return!!(n[e+(t>>q0)]&1<<t)}function Z0(t,e){return!(t&G.Self||t&G.Host&&e)}class so{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Y0(this._tNode,this._lView,e,wl(r),n)}}function pj(){return new so(bt(),E())}function Ot(t){return Cr(()=>{const e=t.prototype.constructor,n=e[Ar]||dg(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[Ar]||dg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function dg(t){return Pp(t)?()=>{const e=dg(z(t));return e&&e()}:Qi(t)}function eS(t){const e=t[k],n=e.type;return 2===n?e.declTNode:1===n?t[Pt]:null}const ao="__parameters__";function co(t,e,n){return Cr(()=>{const r=function fg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ao)?u[ao]:Object.defineProperty(u,ao,{value:[]})[ao];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Wa(t,e){t.forEach(n=>Array.isArray(n)?Wa(n,e):e(n))}function nS(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function $l(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function wn(t,e,n){let r=lo(t,e);return r>=0?t[1|r]=n:(r=~r,function wj(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function pg(t,e){const n=lo(t,e);if(n>=0)return t[1|n]}function lo(t,e){return function rS(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const In=Oa(co("Optional"),8),mg=Oa(co("SkipSelf"),4);function ql(t){return 128==(128&t.flags)}var cn=(()=>((cn=cn||{})[cn.Important=1]="Important",cn[cn.DashCase=2]="DashCase",cn))();const Ig=new Map;let Hj=0;const Dg="__ngContext__";function Ft(t,e){vn(e)?(t[Dg]=e[$a],function qj(t){Ig.set(t[$a],t)}(e)):t[Dg]=e}let Tg;function bg(t,e){return Tg(t,e)}function Ja(t){const e=t[ke];return on(e)?e[ke]:e}function Cg(t){return ES(t[Ba])}function Sg(t){return ES(t[Vn])}function ES(t){for(;null!==t&&!on(t);)t=t[Vn];return t}function po(t,e,n,r,i){if(null!=r){let s,o=!1;on(r)?s=r:vn(r)&&(o=!0,r=r[ct]);const a=Te(r);0===t&&null!==n?null==i?SS(e,n,a):Xi(e,n,a,i||null,!0):1===t&&null!==n?Xi(e,n,a,i||null,!0):2===t?function Xl(t,e,n){const r=Yl(t,e);r&&function dG(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function pG(t,e,n,r,i){const s=n[er];s!==Te(n)&&po(e,t,r,s,i);for(let a=Tt;a<n.length;a++){const u=n[a];Za(u[k],u,t,e,r,s)}}(e,t,s,n,i)}}function Ql(t,e,n){return t.createElement(e,n)}function TS(t,e){const n=t[eo],r=n.indexOf(e);b0(e),n.splice(r,1)}function Mg(t,e){if(t.length<=Tt)return;const n=Tt+e,r=t[n];if(r){const i=r[Ua];null!==i&&i!==t&&TS(i,r),e>0&&(t[n-1][Vn]=r[Vn]);const s=$l(t,Tt+e);!function rG(t,e){Za(t,e,e[Y],2,null,null),e[ct]=null,e[Pt]=null}(r[k],r);const o=s[Zn];null!==o&&o.detachView(s[k]),r[ke]=null,r[Vn]=null,r[X]&=-129}return r}function bS(t,e){if(!(256&e[X])){const n=e[Y];e[Dl]?.destroy(),e[Tl]?.destroy(),n.destroyNode&&Za(t,e,n,3,null,null),function oG(t){let e=t[Ba];if(!e)return xg(t[k],t);for(;e;){let n=null;if(vn(e))n=e[Ba];else{const r=e[Tt];r&&(n=r)}if(!n){for(;e&&!e[Vn]&&e!==t;)vn(e)&&xg(e[k],e),e=e[ke];null===e&&(e=t),vn(e)&&xg(e[k],e),n=e&&e[Vn]}e=n}}(e)}}function xg(t,e){if(!(256&e[X])){e[X]&=-129,e[X]|=256,function lG(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ha)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];nr(4,a,u);try{u.call(a)}finally{nr(5,a,u)}}else{nr(4,i,s);try{s.call(i)}finally{nr(5,i,s)}}}}}(t,e),function cG(t,e){const n=t.cleanup,r=e[Ys];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Ys]=null);const i=e[ui];if(null!==i){e[ui]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[k].type&&e[Y].destroy();const n=e[Ua];if(null!==n&&on(e[ke])){n!==e[ke]&&TS(n,e);const r=e[Zn];null!==r&&r.detachView(t)}!function Wj(t){Ig.delete(t[$a])}(e)}}function Ng(t,e,n){return function CS(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[ct];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===yn.None||s===yn.Emulated)return null}return an(r,n)}}(t,e.parent,n)}function Xi(t,e,n,r,i){t.insertBefore(e,n,r,i)}function SS(t,e,n){t.appendChild(e,n)}function AS(t,e,n,r,i){null!==r?Xi(t,e,n,r,i):SS(t,e,n)}function Yl(t,e){return t.parentNode(e)}let kg,Fg,NS=function xS(t,e,n){return 40&t.type?an(t,n):null};function Jl(t,e,n,r){const i=Ng(t,r,e),s=e[Y],a=function MS(t,e,n){return NS(t,e,n)}(r.parent||e[Pt],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)AS(s,i,n[u],a,!1);else AS(s,i,n,a,!1);void 0!==kg&&kg(s,r,e,n,i)}function Xa(t,e){if(null!==e){const n=e.type;if(3&n)return an(e,t);if(4&n)return Rg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Xa(t,r);{const i=t[e.index];return on(i)?Rg(-1,i):Te(i)}}if(32&n)return bg(e,t)()||Te(t[e.index]);{const r=RS(t,e);return null!==r?Array.isArray(r)?r[0]:Xa(Ja(t[Ze]),r):Xa(t,e.next)}}return null}function RS(t,e){return null!==e?t[Ze][Pt].projection[e.projection]:null}function Rg(t,e){const n=Tt+t+1;if(n<e.length){const r=e[n],i=r[k].firstChild;if(null!==i)return Xa(r,i)}return e[er]}function Pg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ft(Te(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Pg(t,e,n.child,r,i,s,!1),po(e,t,i,a,s);else if(32&u){const c=bg(n,r);let l;for(;l=c();)po(e,t,i,l,s);po(e,t,i,a,s)}else 16&u?OS(t,e,r,n,i,s):po(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Za(t,e,n,r,i,s){Pg(n,r,t.firstChild,e,i,s,!1)}function OS(t,e,n,r,i,s){const o=n[Ze],u=o[Pt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)po(e,t,i,u[c],s);else{let c=u;const l=o[ke];ql(r)&&(c.flags|=128),Pg(t,e,c,l,i,s,!0)}}function FS(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function LS(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&jp(t,e,r),null!==i&&FS(t,e,i),null!==s&&function mG(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class $S{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class B{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=_e({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const nd=new B("ENVIRONMENT_INITIALIZER"),YS=new B("INJECTOR",-1),JS=new B("INJECTOR_DEF_TYPES");class XS{get(e,n=Pa){if(n===Pa){const r=new Error(`NullInjectorError: No provider for ${ut(e)}!`);throw r.name="NullInjectorError",r}return n}}function HG(...t){return{\u0275providers:eA(0,t),\u0275fromNgModule:!0}}function eA(t,...e){const n=[],r=new Set;let i;return Wa(e,s=>{const o=s;jg(o,n,[],r)&&(i||=[],i.push(o))}),void 0!==i&&tA(i,n),n}function tA(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];Gg(i,s=>{e.push(s)})}}function jg(t,e,n,r){if(!(t=z(t)))return!1;let i=null,s=jC(t);const o=!s&&de(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=jC(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)jg(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Wa(s.imports,l=>{jg(l,e,n,r)&&(c||=[],c.push(l))})}finally{}void 0!==c&&tA(c,e)}if(!a){const c=Qi(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:le},{provide:JS,useValue:i,multi:!0},{provide:nd,useValue:()=>re(i),multi:!0})}const u=s.providers;null==u||a||Gg(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function Gg(t,e){for(let n of t)Op(n)&&(n=n.\u0275providers),Array.isArray(n)?Gg(n,e):e(n)}const zG=pe({provide:String,useValue:pe});function Hg(t){return null!==t&&"object"==typeof t&&zG in t}function Zi(t){return"function"==typeof t}const zg=new B("Set Injector scope."),rd={},WG={};let qg;function id(){return void 0===qg&&(qg=new XS),qg}class mo{}class Wg extends mo{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qg(e,o=>this.processProvider(o)),this.records.set(YS,yo(void 0,this)),i.has("environment")&&this.records.set(mo,yo(void 0,this));const s=this.records.get(zg);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(JS.multi,le,G.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=ai(this),r=nn(void 0);try{return e()}finally{ai(n),nn(r)}}get(e,n=Pa,r=G.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(QC))return e[QC](this);r=wl(r);const i=ai(this),s=nn(void 0);try{if(!(r&G.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function XG(t){return"function"==typeof t||"object"==typeof t&&t instanceof B}(e)&&yl(e);a=u&&this.injectableDefInScope(u)?yo(Kg(e),rd):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&G.Self?id():this.parent).get(e,n=r&G.Optional&&n===Pa?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[vl]=o[vl]||[]).unshift(ut(e)),i)throw o;return function QU(t,e,n,r){const i=t[vl];throw e[qC]&&i.unshift(e[qC]),t.message=function YU(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=ut(e);if(Array.isArray(e))i=e.map(ut).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ut(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(HU,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[vl]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{nn(s),ai(i)}}resolveInjectorInitializers(){const e=ai(this),n=nn(void 0);try{const r=this.get(nd.multi,le,G.Self);for(const i of r)i()}finally{ai(e),nn(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(ut(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(e){let n=Zi(e=z(e))?e:z(e&&e.provide);const r=function QG(t){return Hg(t)?yo(void 0,t.useValue):yo(iA(t),rd)}(e);if(Zi(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=yo(void 0,rd,!0),i.factory=()=>Bp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===rd&&(n.value=WG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function JG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=z(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Kg(t){const e=yl(t),n=null!==e?e.factory:Qi(t);if(null!==n)return n;if(t instanceof B)throw new S(204,!1);if(t instanceof Function)return function KG(t){const e=t.length;if(e>0)throw function Ka(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new S(204,!1);const n=function $U(t){return t&&(t[_l]||t[GC])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new S(204,!1)}function iA(t,e,n){let r;if(Zi(t)){const i=z(t);return Qi(i)||Kg(i)}if(Hg(t))r=()=>z(t.useValue);else if(function rA(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Bp(t.deps||[]));else if(function nA(t){return!(!t||!t.useExisting)}(t))r=()=>re(z(t.useExisting));else{const i=z(t&&(t.useClass||t.provide));if(!function YG(t){return!!t.deps}(t))return Qi(i)||Kg(i);r=()=>new i(...Bp(t.deps))}return r}function yo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Qg(t,e){for(const n of t)Array.isArray(n)?Qg(n,e):n&&Op(n)?Qg(n.\u0275providers,e):e(n)}const sd=new B("AppId",{providedIn:"root",factory:()=>ZG}),ZG="ng",sA=new B("Platform Initializer"),hi=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),oA=new B("CSP nonce",{providedIn:"root",factory:()=>function eu(){if(void 0!==Fg)return Fg;if(typeof document<"u")return document;throw new S(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let uA=(t,e)=>null;function cA(t,e){return uA(t,e)}class uH{}class hA{}class lH{resolveComponentFactory(e){throw function cH(t){const e=Error(`No component factory found for ${ut(t)}.`);return e.ngComponent=t,e}(e)}}let ld=(()=>{class t{}return t.NULL=new lH,t})();function dH(){return _o(bt(),E())}function _o(t,e){return new Un(an(t,e))}let Un=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=dH,t})();class pA{}let es=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function fH(){const t=E(),n=un(bt().index,t);return(vn(n)?n:t)[Y]}(),t})(),pH=(()=>{class t{}return t.\u0275prov=_e({token:t,providedIn:"root",factory:()=>null}),t})();class au{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const gA=new au("16.0.3"),om={};function uu(t){for(;t;){t[X]|=64;const e=Ja(t);if(qp(t)&&!e)return t;t=e}return null}function am(t){return t.ngOriginalError}class ts{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&am(e);for(;n&&am(n);)n=am(n);return n||null}}const _A=new B("",{providedIn:"root",factory:()=>!1});class DA extends g0{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){uu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,n,r){const i=gt(this);this.trackingVersion++;try{e(n,r)}finally{gt(i)}}destroy(){this.trackingVersion++}}let hd=null;function TA(){return hd??=new DA,hd}function bA(t,e){return t[e]??TA()}function CA(t,e){const n=TA();n.hasReadASignal&&(t[e]=hd,n.lView=t,hd=new DA)}const J={};function Lt(t){SA(ae(),E(),Kt()+t,!1)}function SA(t,e,n,r){if(!r)if(3==(3&e[X])){const s=t.preOrderCheckHooks;null!==s&&Pl(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Ol(e,s,0,n)}Yi(n)}function NA(t,e=null,n=null,r){const i=kA(t,e,n,r);return i.resolveInjectorInitializers(),i}function kA(t,e=null,n=null,r,i=new Set){const s=[n||le,HG(t)];return r=r||("object"==typeof t?void 0:ut(t)),new Wg(s,e||id(),r||null,i)}let sr=(()=>{class t{static create(n,r){if(Array.isArray(n))return NA({name:""},r,n,"");{const i=n.name??"";return NA({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Pa,t.NULL=new XS,t.\u0275prov=_e({token:t,providedIn:"any",factory:()=>re(YS)}),t.__NG_ELEMENT_ID__=-1,t})();function C(t,e=G.Default){const n=E();return null===n?re(t,e):Y0(bt(),n,z(t),e)}function fd(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[ct]=i,d[X]=140|r,(null!==c||t&&2048&t[X])&&(d[X]|=2048),T0(d),d[ke]=d[Xs]=t,d[Be]=n,d[Wi]=o||t&&t[Wi],d[Y]=a||t&&t[Y],d[Js]=u||t&&t[Js]||null,d[Pt]=s,d[$a]=function zj(){return Hj++}(),d[Mr]=l,d[c0]=c,d[Ze]=2==e.type?t[Ze]:d,d}function wo(t,e,n,r,i){let s=t.data[e];if(null===s)s=function um(t,e,n,r,i){const s=x0(),o=Xp(),u=t.data[e]=function FH(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function no(){return null!==j.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(t,e,n,r,i),function W$(){return j.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ga(){const t=j.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return rr(s,!0),s}function cu(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function RA(t,e,n,r,i){const s=bA(e,Dl),o=Kt(),a=2&r;try{if(Yi(-1),a&&e.length>ie&&SA(t,e,ie,!1),nr(a?2:0,i),a)s.runInContext(n,r,i);else{const c=gt(null);try{n(r,i)}finally{gt(c)}}}finally{a&&null===e[Dl]&&CA(e,Dl),Yi(o),nr(a?3:1,i)}}function cm(t,e,n){if(zp(e)){const r=gt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{gt(r)}}}function lm(t,e,n){M0()&&(function GH(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ki(n)&&function YH(t,e,n){const r=an(e,t),o=pd(t,fd(t,PA(n),null,n.onPush?64:16,r,e,null,t[Wi].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Bl(n,e),Ft(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ji(e,t,a,n);Ft(c,e),null!==o&&JH(0,a-i,c,u,0,o),Bn(u)&&(un(n.index,e)[Be]=Ji(e,t,a,n))}}(t,e,n,an(n,e)),64==(64&n.flags)&&BA(t,e,n))}function dm(t,e,n=an){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function PA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=hm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function hm(t,e,n,r,i,s,o,a,u,c,l){const d=ie+r,h=d+i,f=function xH(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:J);return n}(d,h),p="function"==typeof c?c():c;return f[k]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:l}}let OA=t=>null;function FA(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?LA(n,e,i,s):r.hasOwnProperty(i)&&LA(n,e,r[i],s)}return n}function LA(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function fm(t,e,n,r){if(M0()){const i=null===r?null:{"":-1},s=function zH(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(n0(e,o.selectors,!1))if(r||(r=[]),Bn(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),pm(t,e,a.length)}else r.unshift(o),pm(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&VA(t,e,n,o,i,a),i&&function qH(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new S(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=La(n.mergedAttrs,n.attrs)}function VA(t,e,n,r,i,s){for(let c=0;c<r.length;c++)lg(Bl(n,e),t,r[c].type);!function KH(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=cu(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=La(n.mergedAttrs,l.hostAttrs),QH(t,n,e,u,l),WH(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}!function LH(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=FA(d.inputs,l,u,h?h.inputs:null),c=FA(d.outputs,l,c,p);const g=null===u||null===o||t0(e)?null:XH(u,l,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function BA(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function Q$(){return j.lFrame.currentDirectiveIndex}();try{Yi(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];eg(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&HH(u,c)}}finally{Yi(-1),eg(o)}}function HH(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function pm(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function WH(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Bn(e)&&(n[""]=t)}}function QH(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Qi(i.type)),o=new Ha(s,Bn(i),C);t.blueprint[r]=o,n[r]=o,function $H(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function jH(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,cu(t,n,i.hostVars,J),i)}function JH(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)UA(r,n,o[a++],o[a++],o[a++])}function UA(t,e,n,r,i){const s=gt(null);try{null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{gt(s)}}function XH(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function $A(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function jA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];ng(n[r]),o.contentQueries(2,e[s],s)}}}function pd(t,e){return t[Ba]?t[u0][Vn]=e:t[Ba]=e,t[u0]=e,e}function mm(t,e,n){ng(0);const r=gt(null);try{e(t,n)}finally{gt(r)}}function qA(t,e){const n=t[Js],r=n?n.get(ts,null):null;r&&r.handleError(e)}function ym(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];UA(t.data[o],e[o],r,a,i)}}function Or(t,e,n){const r=xl(e,t);!function DS(t,e,n){t.setValue(e,n)}(t[Y],r,n)}function ZH(t,e){const n=un(e,t),r=n[k];!function e4(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[ct];null!==i&&null===n[Mr]&&(n[Mr]=cA(i,n[Js])),_m(r,n,n[Be])}function _m(t,e,n){rg(e);try{const r=t.viewQuery;null!==r&&mm(1,r,n);const i=t.template;null!==i&&RA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&jA(t,e),t.staticViewQueries&&mm(2,t.viewQuery,n);const s=t.components;null!==s&&function t4(t,e){for(let n=0;n<e.length;n++)ZH(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[X]&=-5,ig()}}let WA=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new T$(n,c=>{this.all.has(c)&&this.queue.set(c,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return t.\u0275prov=_e({token:t,providedIn:"root",factory:()=>new t}),t})();function gd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Rp(i,a):2==s&&(r=Rp(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function lu(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Te(s)),on(s)){for(let a=Tt;a<s.length;a++){const u=s[a],c=u[k].firstChild;null!==c&&lu(u[k],u,c,r)}s[er]!==s[ct]&&r.push(s[er])}const o=n.type;if(8&o)lu(t,e,n.child,r);else if(32&o){const a=bg(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=RS(e,n);if(Array.isArray(a))r.push(...a);else{const u=Ja(e[Ze]);lu(u[k],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function md(t,e,n,r=!0){const i=e[Wi].rendererFactory;i.begin&&i.begin();try{yd(t,e,t.template,n)}catch(o){throw r&&qA(e,o),o}finally{i.end&&i.end(),e[Wi].effectManager?.flush()}}function yd(t,e,n,r){const i=e[X];if(256!=(256&i)){e[Wi].effectManager?.flush(),rg(e);try{T0(e),function k0(t){return j.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&RA(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Pl(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Ol(e,c,0,null),sg(e,0)}if(function a4(t){for(let e=Cg(t);null!==e;e=Sg(e)){if(!e[l0])continue;const n=e[eo];for(let r=0;r<n.length;r++){P$(n[r])}}}(e),function o4(t){for(let e=Cg(t);null!==e;e=Sg(e))for(let n=Tt;n<e.length;n++){const r=e[n],i=r[k];Nl(r)&&yd(i,r,i.template,r[Be])}}(e),null!==t.contentQueries&&jA(t,e),o){const c=t.contentCheckHooks;null!==c&&Pl(e,c)}else{const c=t.contentHooks;null!==c&&Ol(e,c,1),sg(e,1)}!function MH(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=bA(e,Tl);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Yi(~s);else{const o=s,a=n[++i],u=n[++i];K$(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[Tl]&&CA(e,Tl),Yi(-1)}}(t,e);const a=t.components;null!==a&&function c4(t,e){for(let n=0;n<e.length;n++)u4(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&mm(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Pl(e,c)}else{const c=t.viewHooks;null!==c&&Ol(e,c,2),sg(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[X]&=-73,b0(e)}finally{ig()}}}function u4(t,e){const n=un(e,t);if(Nl(n)){const r=n[k];80&n[X]?yd(r,n,r.template,n[Be]):n[qi]>0&&vm(n)}}function vm(t){for(let r=Cg(t);null!==r;r=Sg(r))for(let i=Tt;i<r.length;i++){const s=r[i];if(Nl(s))if(1024&s[X]){const o=s[k];yd(o,s,o.template,s[Be])}else s[qi]>0&&vm(s)}const n=t[k].components;if(null!==n)for(let r=0;r<n.length;r++){const i=un(n[r],t);Nl(i)&&i[qi]>0&&vm(i)}}class du{get rootNodes(){const e=this._lView,n=e[k];return lu(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Be]}set context(e){this._lView[Be]=e}get destroyed(){return 256==(256&this._lView[X])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ke];if(on(e)){const n=e[bl],r=n?n.indexOf(this):-1;r>-1&&(Mg(e,r),$l(n,r))}this._attachedToViewContainer=!1}bS(this._lView[k],this._lView)}onDestroy(e){!function S0(t,e){if(256==(256&t[X]))throw new S(911,!1);null===t[ui]&&(t[ui]=[]),t[ui].push(e)}(this._lView,e)}markForCheck(){uu(this._cdRefInjectingView||this._lView)}detach(){this._lView[X]&=-129}reattach(){this._lView[X]|=128}detectChanges(){md(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sG(t,e){Za(t,e,e[Y],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=e}}class l4 extends du{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;md(e[k],e,e[Be],!1)}checkNoChanges(){}get context(){return null}}class KA extends ld{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=de(e);return new hu(n,this.ngModule)}}function QA(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class h4{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=wl(r);const i=this.injector.get(e,om,r);return i!==om||n===om?i:this.parentInjector.get(e,n,r)}}class hu extends hA{get inputs(){return QA(this.componentDef.inputs)}get outputs(){return QA(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function o$(t){return t.map(s$).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof mo?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new h4(e,s):e,a=o.get(pA,null);if(null===a)throw new S(407,!1);const l={rendererFactory:a,sanitizer:o.get(pH,null),effectManager:o.get(WA,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function NH(t,e,n,r){const s=r.get(_A,!1)||n===yn.ShadowDom,o=t.selectRootElement(e,s);return function kH(t){OA(t)}(o),o}(d,r,this.componentDef.encapsulation,o):Ql(d,h,function d4(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),p=this.componentDef.onPush?576:528,g=hm(0,null,null,1,0,null,null,null,null,null,null),m=fd(null,g,null,p,null,null,l,d,o,null,null);let I,_;rg(m);try{const D=this.componentDef;let P,F=null;D.findHostDirectiveDefs?(P=[],F=new Map,D.findHostDirectiveDefs(D,P,F),P.push(D)):P=[D];const te=function p4(t,e){const n=t[k],r=ie;return t[r]=e,wo(n,r,2,"#host",null)}(m,f),ot=function g4(t,e,n,r,i,s,o){const a=i[k];!function m4(t,e,n,r){for(const i of t)e.mergedAttrs=La(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(gd(e,e.mergedAttrs,!0),null!==n&&LS(r,n,e))}(r,t,e,o);let u=null;null!==e&&(u=cA(e,i[Js]));const c=s.rendererFactory.createRenderer(e,n),l=fd(i,PA(n),null,n.onPush?64:16,i[t.index],t,s,c,null,null,u);return a.firstCreatePass&&pm(a,t,r.length-1),pd(i,l),i[t.index]=l}(te,f,D,P,m,l,d);_=D0(g,ie),f&&function _4(t,e,n,r){if(r)jp(t,n,["ng-version",gA.full]);else{const{attrs:i,classes:s}=function a$(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Ln(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&jp(t,n,i),s&&s.length>0&&FS(t,n,s.join(" "))}}(d,D,f,r),void 0!==n&&function v4(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,n),I=function y4(t,e,n,r,i,s){const o=bt(),a=i[k],u=an(o,i);VA(a,i,o,n,null,r);for(let l=0;l<n.length;l++)Ft(Ji(i,a,o.directiveStart+l,o),i);BA(a,i,o),u&&Ft(u,i);const c=Ji(i,a,o.directiveStart+o.componentOffset,o);if(t[Be]=i[Be]=c,null!==s)for(const l of s)l(c,e);return cm(a,o,t),c}(ot,D,P,F,m,[w4]),_m(g,m,null)}finally{ig()}return new f4(this.componentType,I,_o(_,m),m,_)}}class f4 extends uH{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new l4(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;ym(s[k],s,i,e,n),this.previousInputValues.set(e,n),uu(un(this._tNode.index,s))}}get injector(){return new so(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function w4(){const t=bt();Rl(E()[k],t)}function ge(t){let e=function YA(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(Bn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new S(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=wm(t.inputs),o.declaredInputs=wm(t.declaredInputs),o.outputs=wm(t.outputs);const a=i.hostBindings;a&&T4(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&E4(t,u),c&&D4(t,c),kp(t.inputs,i.inputs),kp(t.declaredInputs,i.declaredInputs),kp(t.outputs,i.outputs),Bn(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ge&&(n=!1)}}e=Object.getPrototypeOf(e)}!function I4(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=La(i.hostAttrs,n=La(n,i.hostAttrs))}}(r)}function wm(t){return t===Sr?{}:t===le?[]:t}function E4(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function D4(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function T4(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function _d(t){return!!function Im(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Vt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function ns(t,e,n,r){const i=Vt(t,e,n);return Vt(t,e+1,r)||i}function To(t,e,n,r,i,s,o,a){const c=function vd(t,e,n,r,i){const s=ns(t,e,n,r);return Vt(t,e+2,i)||s}(t,Nr(),n,i,o);return kr(3),c?e+W(n)+r+W(i)+s+W(o)+a:J}function Sm(t,e,n,r,i,s,o,a){const u=E(),c=ae(),l=t+ie,d=c.firstCreatePass?function Q4(t,e,n,r,i,s,o,a,u){const c=e.consts,l=wo(e,t,4,o||null,ci(c,a));fm(e,n,l,ci(c,u)),Rl(e,l);const d=l.tView=hm(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];rr(d,!1);const h=hM(c,u,d,t);kl()&&Jl(c,u,h,d),Ft(h,u),pd(u,u[l]=$A(h,u,h,d)),Cl(d)&&lm(c,u,d),null!=o&&dm(u,d,a)}let hM=function fM(t,e,n,r){return li(!0),e[Y].createComment("")};function yu(t,e,n){const r=E();return Vt(r,ro(),e)&&function En(t,e,n,r,i,s,o,a){const u=an(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(ym(t,n,l,r,i),Ki(e)&&function BH(t,e){const n=un(e,t);16&n[X]||(n[X]|=64)}(n,e.index)):3&e.type&&(r=function VH(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(ae(),function Re(){const t=j.lFrame;return D0(t.tView,t.selectedIndex)}(),r,t,e,r[Y],n,!1),yu}function Am(t,e,n,r,i){const o=i?"class":"style";ym(t,n,e.inputs[o],o,r)}function Pe(t,e,n,r){const i=E(),s=ae(),o=ie+t,a=i[Y],u=s.firstCreatePass?function ez(t,e,n,r,i,s){const o=e.consts,u=wo(e,t,2,r,ci(o,i));return fm(e,n,u,ci(o,s)),null!==u.attrs&&gd(u,u.attrs,!1),null!==u.mergedAttrs&&gd(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,n,r):s.data[o],c=pM(s,i,u,a,e,t);i[o]=c;const l=Cl(u);return rr(u,!0),LS(a,c,u),32!=(32&u.flags)&&kl()&&Jl(s,i,c,u),0===function F$(){return j.lFrame.elementDepthCount}()&&Ft(c,i),function L$(){j.lFrame.elementDepthCount++}(),l&&(lm(s,i,u),cm(s,u,i)),null!==r&&dm(i,u),Pe}function Ue(){let t=bt();Xp()?function Zp(){j.lFrame.isParent=!1}():(t=t.parent,rr(t,!1));const e=t;(function B$(t){return j.skipHydrationRootTNode===t})(e)&&function G$(){j.skipHydrationRootTNode=null}(),function V$(){j.lFrame.elementDepthCount--}();const n=ae();return n.firstCreatePass&&(Rl(n,t),zp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function oj(t){return 0!=(8&t.flags)}(e)&&Am(n,e,E(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function aj(t){return 0!=(16&t.flags)}(e)&&Am(n,e,E(),e.stylesWithoutHost,!1),Ue}function Mm(t,e,n,r){return Pe(t,e,n,r),Ue(),Mm}let pM=(t,e,n,r,i,s)=>(li(!0),Ql(r,i,function U0(){return j.lFrame.currentNamespace}()));function Dd(t){return!!t&&"function"==typeof t.then}function yM(t){return!!t&&"function"==typeof t.subscribe}function xn(t,e,n,r){const i=E(),s=ae(),o=bt();return function vM(t,e,n,r,i,s,o){const a=Cl(r),c=t.firstCreatePass&&function HA(t){return t.cleanup||(t.cleanup=[])}(t),l=e[Be],d=function GA(t){return t[Ys]||(t[Ys]=[])}(e);let h=!0;if(3&r.type||o){const g=an(r,e),m=o?o(g):g,I=d.length,_=o?P=>o(Te(P[r.index])):r.index;let D=null;if(!o&&a&&(D=function az(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Ys],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==D)(D.__ngLastListenerFn__||D).__ngNextListenerFn__=s,D.__ngLastListenerFn__=s,h=!1;else{s=IM(r,e,l,s,!1);const P=n.listen(m,i,s);d.push(s,P),c&&c.push(i,_,I,I+1)}}else s=IM(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const F=e[p[m]][p[m+1]].subscribe(s),te=d.length;d.push(s,F),c&&c.push(i,r.index,te,-(te+1))}}}(s,i,i[Y],o,t,e,r),xn}function wM(t,e,n,r){try{return nr(6,e,n),!1!==n(r)}catch(i){return qA(t,i),!1}finally{nr(7,e,n)}}function IM(t,e,n,r,i){return function s(o){if(o===Function)return r;uu(t.componentOffset>-1?un(t.index,e):e);let u=wM(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)u=wM(e,n,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function Td(t,e){return t<<17|e<<2}function fi(t){return t>>17&32767}function Rm(t){return 2|t}function rs(t){return(131068&t)>>2}function Pm(t,e){return-131069&t|e<<2}function Om(t){return 1|t}function NM(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?fi(s):rs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];yz(t[a],e)&&(u=!0,t[a+1]=r?Om(l):Rm(l)),a=r?fi(l):rs(l)}u&&(t[n+1]=r?Rm(s):Om(s))}function yz(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&lo(t,e)>=0}function bd(t,e){return function $n(t,e,n,r){const i=E(),s=ae(),o=kr(2);s.firstUpdatePass&&function UM(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Kt()],o=function BM(t,e){return e>=t.expandoStartIndex}(t,n);(function HM(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function Cz(t,e,n,r){const i=function tg(t){const e=j.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=_u(n=Fm(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Fm(i,t,e,n,r),null===s){let u=function Sz(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==rs(r))return t[fi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=Fm(null,t,e,u[1],r),u=_u(u,e.attrs,r),function Az(t,e,n,r){t[fi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function Mz(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=_u(r,t[s].hostAttrs,n);return _u(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function gz(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=fi(o),u=rs(o);t[r]=n;let l,c=!1;if(Array.isArray(n)?(l=n[1],(null===l||lo(n,l)>0)&&(c=!0)):l=n,i)if(0!==u){const h=fi(t[a+1]);t[r+1]=Td(h,a),0!==h&&(t[h+1]=Pm(t[h+1],r)),t[a+1]=function fz(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Td(a,0),0!==a&&(t[a+1]=Pm(t[a+1],r)),a=r;else t[r+1]=Td(u,0),0===a?a=r:t[u+1]=Pm(t[u+1],r),u=r;c&&(t[r+1]=Rm(t[r+1])),NM(t,l,r,!0),NM(t,l,r,!1),function mz(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&lo(s,e)>=0&&(n[r+1]=Om(n[r+1]))}(e,l,t,r,s),o=Td(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==J&&Vt(i,o,e)&&function jM(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function pz(t){return 1==(1&t)}(c)?GM(u,e,n,i,rs(c),o):void 0;Cd(l)||(Cd(s)||function hz(t){return 2==(2&t)}(c)&&(s=GM(u,null,n,i,a,o)),function gG(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:cn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=cn.Important),t.setStyle(n,r,i,s))}}(r,o,xl(Kt(),n),i,s))}(s,s.data[Kt()],i,i[Y],t,i[o+1]=function Rz(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=ut(function di(t){return t instanceof $S?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),bd}function Fm(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=_u(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function _u(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),wn(t,o,!!n||e[++s]))}return void 0===t?null:t}function GM(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===J&&(h=d?le:void 0);let f=d?pg(h,r):l===r?h:void 0;if(c&&!Cd(f)&&(f=pg(u,r)),Cd(f)&&(a=f,o))return a;const p=t[i+1];i=o?fi(p):rs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=pg(u,r))}return a}function Cd(t){return void 0!==t}function mt(t,e=""){const n=E(),r=ae(),i=t+ie,s=r.firstCreatePass?wo(r,i,1,e,null):r.data[i],o=zM(r,n,s,e,t);n[i]=o,kl()&&Jl(r,n,o,s),rr(s,!1)}let zM=(t,e,n,r,i)=>(li(!0),function Kl(t,e){return t.createText(e)}(e[Y],r));function Lr(t){return No("",t,""),Lr}function No(t,e,n){const r=E(),i=function Eo(t,e,n,r){return Vt(t,ro(),n)?e+W(n)+r:J}(r,t,e,n);return i!==J&&Or(r,Kt(),i),No}function Lm(t,e,n,r,i){const s=E(),o=function Do(t,e,n,r,i,s){const a=ns(t,Nr(),n,i);return kr(2),a?e+W(n)+r+W(i)+s:J}(s,t,e,n,r,i);return o!==J&&Or(s,Kt(),o),Lm}function Vm(t,e,n,r,i,s,o){const a=E(),u=To(a,t,e,n,r,i,s,o);return u!==J&&Or(a,Kt(),u),Vm}const Ro="en-US";let dx=Ro;function $m(t,e,n,r,i){if(t=z(t),Array.isArray(t))for(let s=0;s<t.length;s++)$m(t[s],e,n,r,i);else{const s=ae(),o=E();let a=Zi(t)?t:z(t.provide),u=iA(t);const c=bt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Zi(t)||!t.multi){const f=new Ha(u,i,C),p=Gm(a,e,i?l:l+h,d);-1===p?(lg(Bl(c,o),s,a),jm(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Gm(a,e,l+h,d),p=Gm(a,e,l,l+h),m=p>=0&&n[p];if(i&&!m||!i&&!(f>=0&&n[f])){lg(Bl(c,o),s,a);const I=function Z3(t,e,n,r,i){const s=new Ha(t,n,C);return s.multi=[],s.index=e,s.componentProviders=0,Fx(s,i,r&&!n),s}(i?X3:J3,n.length,i,r,u);!i&&m&&(n[p].providerFactory=I),jm(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)}else jm(s,t,f>-1?f:p,Fx(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function jm(t,e,n,r){const i=Zi(e),s=function qG(t){return!!t.useClass}(e);if(i||s){const u=(s?z(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function Fx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Gm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function J3(t,e,n,r){return Hm(this.multi,[])}function X3(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ji(n,n[k],this.providerFactory.index,r);s=a.slice(0,o),Hm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Hm(i,s);return s}function Hm(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function xe(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Y3(t,e,n){const r=ae();if(r.firstCreatePass){const i=Bn(t);$m(n,r.data,r.blueprint,i,!0),$m(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Po{}class eq{}class zm extends Po{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new KA(this);const i=function _n(t,e){const n=t[KC]||null;if(!n&&!0===e)throw new Error(`Type ${ut(t)} does not have '\u0275mod' property.`);return n}(e);this._bootstrapComponents=function Pr(t){return t instanceof Function?t():t}(i.bootstrap),this._r3Injector=kA(e,n,[{provide:Po,useValue:this},{provide:ld,useValue:this.componentFactoryResolver},...r],ut(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class qm extends eq{constructor(e){super(),this.moduleType=e}create(e){return new zm(this.moduleType,e,[])}}function Hx(t,e,n,r,i,s){const o=e+n;return Vt(t,o,i)?function ar(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function Tu(t,e){const n=t[e];return n===J?void 0:n}(t,o+1)}function Yx(t,e,n){const r=t+ie,i=E(),s=function to(t,e){return t[e]}(i,r);return function bu(t,e){return t[k].data[e].pure}(i,r)?Hx(i,function Wt(){const t=j.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,s.transform,n,s):s.transform(n)}function Km(t){return e=>{setTimeout(t,void 0,e)}}const Bt=class Mq extends Tp{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Km(s),i&&(i=Km(i)),o&&(o=Km(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof On&&e.add(a),a}};let Vr=(()=>{class t{}return t.__NG_ELEMENT_ID__=Rq,t})();const Nq=Vr,kq=class extends Nq{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n,null)}createEmbeddedViewImpl(e,n,r){const i=this._declarationTContainer.tView,s=fd(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,n||null,r||null);s[Ua]=this._declarationLView[this._declarationTContainer.index];const a=this._declarationLView[Zn];return null!==a&&(s[Zn]=a.createEmbeddedView(i)),_m(i,s,e),new du(s)}};function Rq(){return function Nd(t,e){return 4&t.type?new kq(e,t,_o(t,e)):null}(bt(),E())}let lr=(()=>{class t{}return t.__NG_ELEMENT_ID__=Uq,t})();function Uq(){return function nN(t,e){let n;const r=e[t.index];return on(r)?n=r:(n=$A(r,e,null,t),e[t.index]=n,pd(e,n)),rN(n,e,t,r),new eN(n,t,e)}(bt(),E())}const $q=lr,eN=class extends $q{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return _o(this._hostTNode,this._hostLView)}get injector(){return new so(this._hostTNode,this._hostLView)}get parentInjector(){const e=cg(this._hostTNode,this._hostLView);if(H0(e)){const n=Ll(e,this._hostLView),r=Fl(e);return new so(n[k].data[r+8],n)}return new so(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=tN(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Tt}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function qa(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new hu(de(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(mo,null);m&&(s=m)}de(u.componentType??{});const f=u.create(c,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView,s=i[k];if(function R$(t){return on(t[ke])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[ke],l=new eN(c,c[Pt],c[ke]);l.detach(l.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;if(function aG(t,e,n,r){const i=Tt+r,s=n.length;r>0&&(n[i-1][Vn]=e),r<s-Tt?(e[Vn]=n[i],nS(n,Tt+r,e)):(n.push(e),e[Vn]=null),e[ke]=n;const o=e[Ua];null!==o&&n!==o&&function uG(t,e){const n=t[eo];e[Ze]!==e[ke][ke][Ze]&&(t[l0]=!0),null===n?t[eo]=[e]:n.push(e)}(o,e);const a=e[Zn];null!==a&&a.insertView(t),e[X]|=128}(s,i,a,o),!r){const u=Rg(o,a),c=i[Y],l=Yl(c,a[er]);null!==l&&function iG(t,e,n,r,i,s){r[ct]=i,r[Pt]=e,Za(t,r,n,1,i,s)}(s,a[Pt],c,i,l,u)}return e.attachToViewContainerRef(),nS(Jm(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=tN(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Mg(this._lContainer,n);r&&($l(Jm(this._lContainer),n),bS(r[k],r))}detach(e){const n=this._adjustIndex(e,-1),r=Mg(this._lContainer,n);return r&&null!=$l(Jm(this._lContainer),n)?new du(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function tN(t){return t[bl]}function Jm(t){return t[bl]||(t[bl]=[])}let rN=function iN(t,e,n,r){if(t[er])return;let i;i=8&n.type?Te(r):function jq(t,e){const n=t[Y],r=n.createComment(""),i=an(e,t);return Xi(n,Yl(n,i),r,function hG(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[er]=i};const E6=new B("Application Initializer");let ay=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Ie(E6,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const s=i();if(Dd(s))n.push(s);else if(yM(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Br=new B("LocaleId",{providedIn:"root",factory:()=>Ie(Br,G.Optional|G.SkipSelf)||function T6(){return typeof $localize<"u"&&$localize.locale||Ro}()}),M6=(()=>Promise.resolve(0))();function uy(t){typeof Zone>"u"?M6.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function MN(...t){}class Oe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bt(!1),this.onMicrotaskEmpty=new Bt(!1),this.onStable=new Bt(!1),this.onError=new Bt(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function x6(){let t=we.requestAnimationFrame,e=we.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function R6(t){const e=()=>{!function k6(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(we,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ly(t),t.isCheckStableRunning=!0,cy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ly(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return xN(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),NN(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return xN(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),NN(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,ly(t),cy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Oe.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(Oe.isInAngularZone())throw new S(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,N6,MN,MN);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const N6={};function cy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ly(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function xN(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function NN(t){t._nesting--,cy(t)}class P6{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bt,this.onMicrotaskEmpty=new Bt,this.onStable=new Bt,this.onError=new Bt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const kN=new B("",{providedIn:"root",factory:RN});function RN(){const t=Ie(Oe);let e=!0;return RU(new at(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new at(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Oe.assertNotInAngularZone(),uy(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Oe.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(function PU(t={}){const{connector:e=(()=>new Tp),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return qs((g,m)=>{c++,!d&&!l&&h();const I=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=Np(p,i))}),I.subscribe(m),!o&&c>0&&(o=new Ra({next:_=>I.next(_),error:_=>{d=!0,h(),a=Np(f,n,_),I.error(_)},complete:()=>{l=!0,h(),a=Np(f,r),I.complete()}}),br(g).subscribe(o))})(s)}}()))}const PN=new B(""),Rd=new B("");let fy,dy=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,fy||(function O6(t){fy=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Oe.assertNotInAngularZone(),uy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uy(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(re(Oe),re(hy),re(Rd))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})(),hy=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return fy?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),pi=null;const ON=new B("AllowMultipleToken"),py=new B("PlatformDestroyListeners"),FN=new B("appBootstrapListener");function BN(t,e,n=[]){const r=`Platform: ${e}`,i=new B(r);return(s=[])=>{let o=gy();if(!o||o.injector.get(ON,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function V6(t){if(pi&&!pi.get(ON,!1))throw new S(400,!1);(function LN(){!function E$(t){m0=t}(()=>{throw new S(600,!1)})})(),pi=t;const e=t.get($N);(function VN(t){t.get(sA,null)?.forEach(n=>n())})(t)}(function UN(t=[],e){return sr.create({name:e,providers:[{provide:zg,useValue:"platform"},{provide:py,useValue:new Set([()=>pi=null])},...t]})}(a,r))}return function U6(t){const e=gy();if(!e)throw new S(401,!1);return e}()}}function gy(){return pi?.get($N)??null}let $N=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function $6(t="zone.js",e){return"noop"===t?new P6:"zone.js"===t?new Oe(e):t}(r?.ngZone,function jN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function nq(t,e,n){return new zm(t,e,n)}(n.moduleType,this.injector,function WN(t){return[{provide:Oe,useFactory:t},{provide:nd,multi:!0,useFactory:()=>{const e=Ie(G6,{optional:!0});return()=>e.initialize()}},{provide:qN,useFactory:j6},{provide:kN,useFactory:RN}]}(()=>i)),o=s.injector.get(ts,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{Pd(this._modules,s),a.unsubscribe()})}),function GN(t,e,n){try{const r=n();return Dd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(ay);return a.runInitializers(),a.donePromise.then(()=>(function hx(t){Sn(t,"Expected localeId to be defined"),"string"==typeof t&&(dx=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Br,Ro)||Ro),this._moduleDoBootstrap(s),s))})})}bootstrapModule(n,r=[]){const i=HN({},r);return function F6(t,e,n){const r=new qm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Su);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new S(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(py,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(re(sr))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function HN(t,e){return Array.isArray(e)?e.reduce(HN,t):{...t,...e}}let Su=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ie(qN),this.componentTypes=[],this.components=[],this.isStable=Ie(kN),this._injector=Ie(mo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof hA;if(!this._injector.get(ay).done)throw!i&&function Va(t){const e=de(t)||Rt(t)||sn(t);return null!==e&&e.standalone}(n),new S(405,!1);let o;o=i?n:this._injector.get(ld).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function L6(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Po),c=o.create(sr.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(PN,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Pd(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Pd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(FN,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Pd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Pd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const qN=new B("",{providedIn:"root",factory:()=>Ie(ts).handleError.bind(void 0)});function j6(){const t=Ie(Oe),e=Ie(ts);return n=>t.runOutsideAngular(()=>e.handleError(n))}let G6=(()=>{class t{constructor(){this.zone=Ie(Oe),this.applicationRef=Ie(Su)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();let QN=(()=>{class t{}return t.__NG_ELEMENT_ID__=z6,t})();function z6(t){return function q6(t,e,n){if(Ki(t)&&!n){const r=un(t.index,e);return new du(r,r)}return 47&t.type?new du(e[Ze],e):null}(bt(),E(),16==(16&t))}class XN{constructor(){}supports(e){return _d(e)}create(e){return new X6(e)}}const J6=(t,e)=>e;class X6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||J6}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<ek(r,i,s)?n:r,a=ek(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!_d(e))throw new S(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function N4(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Z6(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new ZN),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ZN),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Z6{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class e9{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class ZN{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new e9,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ek(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function nk(){return new Ld([new XN])}let Ld=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||nk()),deps:[[t,new mg,new In]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new S(901,!1)}}return t.\u0275prov=_e({token:t,providedIn:"root",factory:nk}),t})();const s9=BN(null,"core",[]);let o9=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(re(Su))},t.\u0275mod=Xn({type:t}),t.\u0275inj=Fn({}),t})();let Dy=null;function Mu(){return Dy}class _9{}const os=new B("DocumentToken");class oW{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let wk=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new oW(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Ik(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Ik(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(C(lr),C(Vr),C(Ld))},t.\u0275dir=Q({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function Ik(t,e){t.context.$implicit=e.item}class dW{createSubscription(e,n){return e.subscribe({next:n,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class hW{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}}const fW=new hW,pW=new dW;let Tk=(()=>{class t{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Dd(n))return fW;if(yM(n))return pW;throw function zn(t,e){return new S(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return t.\u0275fac=function(n){return new(n||t)(C(QN,16))},t.\u0275pipe=rn({name:"async",type:t,pure:!1,standalone:!0}),t})(),kW=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xn({type:t}),t.\u0275inj=Fn({}),t})();function Sk(t){return"server"===t}class l5 extends _9{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Uy extends l5{static makeCurrent(){!function y9(t){Dy||(Dy=t)}(new Uy)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function d5(){return Ru=Ru||document.querySelector("base"),Ru?Ru.getAttribute("href"):null}();return null==n?null:function h5(t){Jd=Jd||document.createElement("a"),Jd.setAttribute("href",t);const e=Jd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ru=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function rW(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Jd,Ru=null,p5=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();const $y=new B("EventManagerPlugins");let Rk=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}}return t.\u0275fac=function(n){return new(n||t)(re($y),re(Oe))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();class Pk{constructor(e){this._doc=e}}const jy="ng-app-id";let Ok=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Sk(s),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${jy}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(jy),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(jy,this.appId),o}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(re(os),re(sd),re(oA,8),re(hi))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();const Gy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hy=/%COMP%/g,_5=new B("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Lk(t,e){return e.map(n=>n.replace(Hy,t))}let Vk=(()=>{class t{constructor(n,r,i,s,o,a,u,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Sk(a),this.defaultRenderer=new zy(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===yn.ShadowDom&&(r={...r,encapsulation:yn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof Uk?i.applyToHost(n):i instanceof qy&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,l=this.removeStylesOnCompDestory,d=this.platformIsServer;switch(r.encapsulation){case yn.Emulated:s=new Uk(u,c,r,this.appId,l,o,a,d);break;case yn.ShadowDom:return new E5(u,c,n,r,o,a,this.nonce,d);default:s=new qy(u,c,r,l,o,a,d)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return t.\u0275fac=function(n){return new(n||t)(re(Rk),re(Ok),re(sd),re(_5),re(os),re(hi),re(Oe),re(oA))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();class zy{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Gy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Bk(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Bk(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new S(5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Gy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Gy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(cn.DashCase|cn.Important)?e.style.setProperty(n,r,i&cn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&cn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=Mu().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function Bk(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class E5 extends zy{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Lk(i.id,i.styles);for(const l of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qy extends zy{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=u?Lk(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Uk extends qy{constructor(e,n,r,i,s,o,a,u){const c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=function v5(t){return"_ngcontent-%COMP%".replace(Hy,t)}(c),this.hostAttr=function w5(t){return"_nghost-%COMP%".replace(Hy,t)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let D5=(()=>{class t extends Pk{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(re(os))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();const $k=["alt","control","meta","shift"],T5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},b5={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let C5=(()=>{class t extends Pk{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mu().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),$k.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=T5[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),$k.forEach(o=>{o!==i&&(0,b5[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(re(os))},t.\u0275prov=_e({token:t,factory:t.\u0275fac}),t})();const Gk=[{provide:hi,useValue:"browser"},{provide:sA,useValue:function S5(){Uy.makeCurrent()},multi:!0},{provide:os,useFactory:function M5(){return function wG(t){Fg=t}(document),document},deps:[]}],x5=BN(s9,"browser",Gk),N5=new B(""),Hk=[{provide:Rd,useClass:class f5{addToWindow(e){we.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new S(5103,!1);return s},we.getAllAngularTestabilities=()=>e.getAllTestabilities(),we.getAllAngularRootElements=()=>e.getAllRootElements(),we.frameworkStabilizers||(we.frameworkStabilizers=[]),we.frameworkStabilizers.push(r=>{const i=we.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Mu().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:PN,useClass:dy,deps:[Oe,hy,Rd]},{provide:dy,useClass:dy,deps:[Oe,hy,Rd]}],zk=[{provide:zg,useValue:"root"},{provide:ts,useFactory:function A5(){return new ts},deps:[]},{provide:$y,useClass:D5,multi:!0,deps:[os,Oe,hi]},{provide:$y,useClass:C5,multi:!0,deps:[os]},Vk,Ok,Rk,{provide:pA,useExisting:Vk},{provide:class LW{},useClass:p5,deps:[]},[]];let k5=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:sd,useValue:n.appId}]}}}return t.\u0275fac=function(n){return new(n||t)(re(N5,12))},t.\u0275mod=Xn({type:t}),t.\u0275inj=Fn({providers:[...zk,...Hk],imports:[kW,o9]}),t})();function Qk(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){Qk(s,r,i,o,a,"next",u)}function a(u){Qk(s,r,i,o,a,"throw",u)}o(void 0)})}}typeof window<"u"&&window;const Yk=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Qy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new j5;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class j5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xd=function(t){return function(t){const e=Yk(t);return Qy.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Zd=function(t){try{return Qy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},eh=()=>{try{return function z5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Zd(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},Xk=()=>{var t;return null===(t=eh())||void 0===t?void 0:t.config};class th{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Dn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Yy(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function as(){try{return"object"==typeof indexedDB}catch{return!1}}function Pu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Jy(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class qn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,qn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dr.prototype.create)}}class dr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function r7(t,e){return t.replace(i7,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new qn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const i7=/\{\$([^}]+)}/g;function Xy(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(e1(s)&&e1(o)){if(!Xy(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function e1(t){return null!==t&&"object"==typeof t}function t1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class o7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function a7(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Zy),void 0===i.error&&(i.error=Zy),void 0===i.complete&&(i.complete=Zy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zy(){}const u7=1e3,c7=2,l7=144e5,d7=.5;function t_(t,e=u7,n=c7){const r=e*Math.pow(n,t),i=Math.round(d7*r*(Math.random()-.5)*2);return Math.min(l7,r+i)}function mi(t){return t&&t._delegate?t._delegate:t}class Ut{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const us="[DEFAULT]";class f7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new th;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function g7(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return y(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===us?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class m7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const n_=[];var H=(()=>((H=H||{})[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",H))();const n1={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},y7=H.INFO,_7={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},v7=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=_7[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Lo{constructor(e){this.name=e,this._logLevel=y7,this._logHandler=v7,this._userLogHandler=null,n_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in H))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?n1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...e),this._logHandler(this,H.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...e),this._logHandler(this,H.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,H.INFO,...e),this._logHandler(this,H.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,H.WARN,...e),this._logHandler(this,H.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...e),this._logHandler(this,H.ERROR,...e)}}const w7=(t,e)=>e.some(n=>t instanceof n);let r1,i1;const s1=new WeakMap,r_=new WeakMap,o1=new WeakMap,i_=new WeakMap,s_=new WeakMap;let o_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return r_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||o1.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return yi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function S7(t){return"function"==typeof t?function C7(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function E7(){return i1||(i1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(a_(this),e),yi(s1.get(this))}:function(...e){return yi(t.apply(a_(this),e))}:function(e,...n){const r=t.call(a_(this),e,...n);return o1.set(r,e.sort?e.sort():[e]),yi(r)}}(t):(t instanceof IDBTransaction&&function T7(t){if(r_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});r_.set(t,e)}(t),w7(t,function I7(){return r1||(r1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,o_):t)}function yi(t){if(t instanceof IDBRequest)return function D7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(yi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&s1.set(n,t)}).catch(()=>{}),s_.set(e,t),e}(t);if(i_.has(t))return i_.get(t);const e=S7(t);return e!==t&&(i_.set(t,e),s_.set(e,t)),e}const a_=t=>s_.get(t),M7=["get","getKey","getAll","getAllKeys","count"],x7=["put","add","delete","clear"],u_=new Map;function a1(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(u_.get(e))return u_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=x7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!M7.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return u_.set(e,s),s}!function b7(t){o_=t(o_)}(t=>({...t,get:(e,n,r)=>a1(e,n)||t.get(e,n,r),has:(e,n)=>!!a1(e,n)||t.has(e,n)}));class N7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function k7(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const c_="@firebase/app",cs=new Lo("@firebase/app"),rh="[DEFAULT]",i8={[c_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ls=new Map,ih=new Map;function s8(t,e){try{t.container.addComponent(e)}catch(n){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jt(t){const e=t.name;if(ih.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;ih.set(e,t);for(const n of ls.values())s8(n,t);return!0}function sh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const $r=new dr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class a8{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}const Ou="9.22.1";function c1(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:rh,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw $r.create("bad-app-name",{appName:String(i)});if(n||(n=Xk()),!n)throw $r.create("no-options");const s=ls.get(i);if(s){if(Xy(n,s.options)&&Xy(r,s.config))return s;throw $r.create("duplicate-app",{appName:i})}const o=new m7(i);for(const u of ih.values())o.addComponent(u);const a=new a8(n,r,o);return ls.set(i,a),a}function l1(t=rh){const e=ls.get(t);if(!e&&t===rh&&Xk())return c1();if(!e)throw $r.create("no-app",{appName:t});return e}function d1(){return Array.from(ls.values())}function Ke(t,e,n){var r;let i=null!==(r=i8[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void cs.warn(a.join(" "))}Jt(new Ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const u8="firebase-heartbeat-database",c8=1,Fu="firebase-heartbeat-store";let d_=null;function h1(){return d_||(d_=function A7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=yi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(yi(o.result),u.oldVersion,u.newVersion,yi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(u8,c8,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Fu)}}).catch(t=>{throw $r.create("idb-open",{originalErrorMessage:t.message})})),d_}function h_(){return(h_=y(function*(t){try{return yield(yield h1()).transaction(Fu).objectStore(Fu).get(p1(t))}catch(e){if(e instanceof qn)cs.warn(e.message);else{const n=$r.create("idb-get",{originalErrorMessage:e?.message});cs.warn(n.message)}}})).apply(this,arguments)}function f1(t,e){return f_.apply(this,arguments)}function f_(){return(f_=y(function*(t,e){try{const r=(yield h1()).transaction(Fu,"readwrite");yield r.objectStore(Fu).put(e,p1(t)),yield r.done}catch(n){if(n instanceof qn)cs.warn(n.message);else{const r=$r.create("idb-set",{originalErrorMessage:n?.message});cs.warn(r.message)}}})).apply(this,arguments)}function p1(t){return`${t.name}!${t.options.appId}`}class f8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new g8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return y(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=g1();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return y(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=g1(),{heartbeatsToSend:r,unsentEntries:i}=function p8(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),m1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),m1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Xd(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function g1(){return(new Date).toISOString().substring(0,10)}class g8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(function*(){return!!as()&&Pu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return y(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function l8(t){return h_.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return f1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return y(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return f1(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function m1(t){return Xd(JSON.stringify({version:2,heartbeats:t})).length}!function m8(t){Jt(new Ut("platform-logger",e=>new N7(e),"PRIVATE")),Jt(new Ut("heartbeat",e=>new f8(e),"PRIVATE")),Ke(c_,"0.9.11",t),Ke(c_,"0.9.11","esm2017"),Ke("fire-js","")}(""),Ke("firebase","9.22.1","app");const v8=(t,e)=>e.some(n=>t instanceof n);let y1,_1;const v1=new WeakMap,p_=new WeakMap,w1=new WeakMap,g_=new WeakMap,m_=new WeakMap;let y_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return p_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||w1.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _i(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function C8(t){return"function"==typeof t?function b8(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function I8(){return _1||(_1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(__(this),e),_i(v1.get(this))}:function(...e){return _i(t.apply(__(this),e))}:function(e,...n){const r=t.call(__(this),e,...n);return w1.set(r,e.sort?e.sort():[e]),_i(r)}}(t):(t instanceof IDBTransaction&&function D8(t){if(p_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});p_.set(t,e)}(t),v8(t,function w8(){return y1||(y1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,y_):t)}function _i(t){if(t instanceof IDBRequest)return function E8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(_i(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&v1.set(n,t)}).catch(()=>{}),m_.set(e,t),e}(t);if(g_.has(t))return g_.get(t);const e=C8(t);return e!==t&&(g_.set(t,e),m_.set(e,t)),e}const __=t=>m_.get(t),A8=["get","getKey","getAll","getAllKeys","count"],M8=["put","add","delete","clear"],v_=new Map;function I1(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(v_.get(e))return v_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=M8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!A8.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return v_.set(e,s),s}!function T8(t){y_=t(y_)}(t=>({...t,get:(e,n,r)=>I1(e,n)||t.get(e,n,r),has:(e,n)=>!!I1(e,n)||t.has(e,n)}));const E1="@firebase/installations",w_="0.6.4",D1=1e4,T1=`w:${w_}`,b1="FIS_v2",x8="https://firebaseinstallations.googleapis.com/v1",N8=36e5,jr=new dr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function C1(t){return t instanceof qn&&t.code.includes("request-failed")}function I_({projectId:t}){return`${x8}/projects/${t}/installations`}function S1(t){return{token:t.token,requestStatus:2,expiresIn:O8(t.expiresIn),creationTime:Date.now()}}function E_(t,e){return D_.apply(this,arguments)}function D_(){return(D_=y(function*(t,e){const r=(yield e.json()).error;return jr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function A1({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function T_(t){return b_.apply(this,arguments)}function b_(){return(b_=y(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function O8(t){return Number(t.replace("s","000"))}function C_(){return(C_=y(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=I_(t),i=A1(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:b1,appId:t.appId,sdkVersion:T1})},u=yield T_(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:S1(c.authToken)}}throw yield E_("Create Installation",u)})).apply(this,arguments)}function x1(t){return new Promise(e=>{setTimeout(e,t)})}const B8=/^[cdef][\w-]{21}$/,S_="";function U8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function $8(t){return function V8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return B8.test(n)?n:S_}catch{return S_}}function Vo(t){return`${t.appName}!${t.appId}`}const Bo=new Map;function N1(t,e){const n=Vo(t);k1(n,e),function H8(t,e){const n=function R1(){return!ds&&"BroadcastChannel"in self&&(ds=new BroadcastChannel("[Firebase] FID Change"),ds.onmessage=t=>{k1(t.data.key,t.data.fid)}),ds}();n&&n.postMessage({key:t,fid:e}),function P1(){0===Bo.size&&ds&&(ds.close(),ds=null)}()}(n,e)}function k1(t,e){const n=Bo.get(t);if(n)for(const r of n)r(e)}let ds=null;const z8="firebase-installations-database",q8=1,hs="firebase-installations-store";let A_=null;function M_(){return A_||(A_=function S8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=_i(o);return r&&o.addEventListener("upgradeneeded",u=>{r(_i(o.result),u.oldVersion,u.newVersion,_i(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(z8,q8,{upgrade:(t,e)=>{0===e&&t.createObjectStore(hs)}})),A_}function oh(t,e){return x_.apply(this,arguments)}function x_(){return(x_=y(function*(t,e){const n=Vo(t),i=(yield M_()).transaction(hs,"readwrite"),s=i.objectStore(hs),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&N1(t,e.fid),e})).apply(this,arguments)}function N_(t){return k_.apply(this,arguments)}function k_(){return(k_=y(function*(t){const e=Vo(t),r=(yield M_()).transaction(hs,"readwrite");yield r.objectStore(hs).delete(e),yield r.done})).apply(this,arguments)}function Lu(t,e){return R_.apply(this,arguments)}function R_(){return(R_=y(function*(t,e){const n=Vo(t),i=(yield M_()).transaction(hs,"readwrite"),s=i.objectStore(hs),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&N1(t,a.fid),a})).apply(this,arguments)}function P_(t){return O_.apply(this,arguments)}function O_(){return O_=y(function*(t){let e;const n=yield Lu(t.appConfig,r=>{const i=function W8(t){return F1(t||{fid:U8(),registrationStatus:0})}(r),s=function K8(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(jr.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Q8(t,e){return F_.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Y8(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===S_?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),O_.apply(this,arguments)}function F_(){return F_=y(function*(t,e){try{const n=yield function L8(t,e){return C_.apply(this,arguments)}(t,e);return oh(t.appConfig,n)}catch(n){throw C1(n)&&409===n.customData.serverCode?yield N_(t.appConfig):yield oh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),F_.apply(this,arguments)}function Y8(t){return L_.apply(this,arguments)}function L_(){return(L_=y(function*(t){let e=yield O1(t.appConfig);for(;1===e.registrationStatus;)yield x1(100),e=yield O1(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield P_(t);return r||n}return e})).apply(this,arguments)}function O1(t){return Lu(t,e=>{if(!e)throw jr.create("installation-not-found");return F1(e)})}function F1(t){return function J8(t){return 1===t.registrationStatus&&t.registrationTime+D1<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function V_(){return(V_=y(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Z8(t,{fid:e}){return`${I_(t)}/${e}/authTokens:generate`}(t,n),i=function M1(t,{refreshToken:e}){const n=A1(t);return n.append("Authorization",function F8(t){return`${b1} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:T1,appId:t.appId}})},u=yield T_(()=>fetch(r,a));if(u.ok)return S1(yield u.json());throw yield E_("Generate Auth Token",u)})).apply(this,arguments)}function B_(t){return U_.apply(this,arguments)}function U_(){return U_=y(function*(t,e=!1){let n;const r=yield Lu(t.appConfig,s=>{if(!V1(s))throw jr.create("not-registered");const o=s.authToken;if(!e&&function nK(t){return 2===t.requestStatus&&!function rK(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+N8}(t)}(o))return s;if(1===o.requestStatus)return n=function eK(t,e){return $_.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw jr.create("app-offline");const a=function iK(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function tK(t,e){return j_.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),U_.apply(this,arguments)}function $_(){return($_=y(function*(t,e){let n=yield L1(t.appConfig);for(;1===n.authToken.requestStatus;)yield x1(100),n=yield L1(t.appConfig);const r=n.authToken;return 0===r.requestStatus?B_(t,e):r})).apply(this,arguments)}function L1(t){return Lu(t,e=>{if(!V1(e))throw jr.create("not-registered");return function sK(t){return 1===t.requestStatus&&t.requestTime+D1<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function j_(){return j_=y(function*(t,e){try{const n=yield function X8(t,e){return V_.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield oh(t.appConfig,r),n}catch(n){if(!C1(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield oh(t.appConfig,r)}else yield N_(t.appConfig);throw n}}),j_.apply(this,arguments)}function V1(t){return void 0!==t&&2===t.registrationStatus}function G_(){return(G_=y(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield P_(e);return r?r.catch(console.error):B_(e).catch(console.error),n.fid})).apply(this,arguments)}function H_(){return H_=y(function*(t,e=!1){const n=t;return yield function uK(t){return z_.apply(this,arguments)}(n),(yield B_(n,e)).token}),H_.apply(this,arguments)}function z_(){return(z_=y(function*(t){const{registrationPromise:e}=yield P_(t);e&&(yield e)})).apply(this,arguments)}function K_(t){return jr.create("missing-app-config-values",{valueName:t})}const B1="installations",fK=t=>{const e=t.getProvider("app").getImmediate(),n=function dK(t){if(!t||!t.options)throw K_("App Configuration");if(!t.name)throw K_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw K_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:sh(e,"heartbeat"),_delete:()=>Promise.resolve()}},pK=t=>{const n=sh(t.getProvider("app").getImmediate(),B1).getImmediate();return{getId:()=>function oK(t){return G_.apply(this,arguments)}(n),getToken:i=>function aK(t){return H_.apply(this,arguments)}(n,i)}};(function gK(){Jt(new Ut(B1,fK,"PUBLIC")),Jt(new Ut("installations-internal",pK,"PRIVATE"))})(),Ke(E1,w_),Ke(E1,w_,"esm2017");const Q_="@firebase/remote-config",hn=new dr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class CK{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function SK(t=navigator){return t.languages&&t.languages[0]||t.language}class AK{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return y(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:SK()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((I,_)=>{e.signal.addEventListener(()=>{const D=new Error("The operation was aborted.");D.name="AbortError",_(D)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let _="fetch-client-network";throw"AbortError"===I?.name&&(_="fetch-timeout"),hn.create(_,{originalErrorMessage:I?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let I;try{I=yield h.json()}catch(_){throw hn.create("fetch-client-parse",{originalErrorMessage:_?.message})}g=I.entries,m=I.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw hn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class NK{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return y(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return y(function*(){yield function MK(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(hn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function xK(t){if(!(t instanceof qn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+t_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class PK{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function uh(t,e){const n=t.target.error||void 0;return hn.create(e,{originalErrorMessage:n&&n?.message})}const fs="app_namespace_store";class VK{constructor(e,n,r,i=function LK(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(uh(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(fs,{keyPath:"compositeKey"})}}catch(n){e(hn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([fs],"readonly").objectStore(fs),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(uh(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(hn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return y(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([fs],"readwrite").objectStore(fs),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(uh(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(hn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return y(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([fs],"readwrite").objectStore(fs),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(uh(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(hn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class BK{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return y(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function $K(){return ev.apply(this,arguments)}function ev(){return(ev=y(function*(){if(!as())return!1;try{return yield Pu()}catch{return!1}})).apply(this,arguments)}!function UK(){Jt(new Ut("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw hn.create("registration-window");if(!as())throw hn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw hn.create("registration-project-id");if(!o)throw hn.create("registration-api-key");if(!a)throw hn.create("registration-app-id");const u=new VK(a,r.name,n=n||"firebase"),c=new BK(u),l=new Lo(Q_);l.logLevel=H.ERROR;const d=new AK(i,Ou,n,s,o,a),h=new NK(d,u),f=new CK(h,u,c,l),p=new PK(r,f,c,u,l);return function DK(t){const e=mi(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Ke(Q_,"0.4.4"),Ke(Q_,"0.4.4","esm2017")}();const jK=(t,e)=>e.some(n=>t instanceof n);let G1,H1;const z1=new WeakMap,tv=new WeakMap,q1=new WeakMap,nv=new WeakMap,rv=new WeakMap;let iv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return tv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||q1.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function QK(t){return"function"==typeof t?function KK(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function HK(){return H1||(H1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(sv(this),e),Gr(z1.get(this))}:function(...e){return Gr(t.apply(sv(this),e))}:function(e,...n){const r=t.call(sv(this),e,...n);return q1.set(r,e.sort?e.sort():[e]),Gr(r)}}(t):(t instanceof IDBTransaction&&function qK(t){if(tv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tv.set(t,e)}(t),jK(t,function GK(){return G1||(G1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,iv):t)}function Gr(t){if(t instanceof IDBRequest)return function zK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&z1.set(n,t)}).catch(()=>{}),rv.set(e,t),e}(t);if(nv.has(t))return nv.get(t);const e=QK(t);return e!==t&&(nv.set(t,e),rv.set(e,t)),e}const sv=t=>rv.get(t);function W1(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Gr(o.result),u.oldVersion,u.newVersion,Gr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function ov(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Gr(n).then(()=>{})}const YK=["get","getKey","getAll","getAllKeys","count"],JK=["put","add","delete","clear"],av=new Map;function K1(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(av.get(e))return av.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=JK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!YK.includes(n))return;const s=function(){var o=y(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return av.set(e,s),s}!function WK(t){iv=t(iv)}(t=>({...t,get:(e,n,r)=>K1(e,n)||t.get(e,n,r),has:(e,n)=>!!K1(e,n)||t.has(e,n)}));const XK="/firebase-messaging-sw.js",ZK="/firebase-cloud-messaging-push-scope",Q1="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eQ="https://fcmregistrations.googleapis.com/v1",Y1="google.c.a.c_id",tQ="google.c.a.c_l",nQ="google.c.a.ts";var vi=(()=>((vi=vi||{}).PUSH_RECEIVED="push-received",vi.NOTIFICATION_CLICKED="notification-clicked",vi))();function Hr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function iQ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const uv="fcm_token_details_db",sQ=5,J1="fcm_token_object_Store";function cv(){return cv=y(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(uv))return null;let e=null;return(yield W1(uv,sQ,{upgrade:(r=y(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(J1))return;const c=a.objectStore(J1),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Hr(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Hr(d.auth),p256dh:Hr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Hr(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Hr(d.auth),p256dh:Hr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Hr(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield ov(uv),yield ov("fcm_vapid_details_db"),yield ov("undefined"),function aQ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),cv.apply(this,arguments)}const uQ="firebase-messaging-database",cQ=1,ps="firebase-messaging-store";let lv=null;function dv(){return lv||(lv=W1(uQ,cQ,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ps)}})),lv}function X1(t){return hv.apply(this,arguments)}function hv(){return hv=y(function*(t){const e=mv(t),r=yield(yield dv()).transaction(ps).objectStore(ps).get(e);if(r)return r;{const i=yield function oQ(t){return cv.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield fv(t,i),i}}),hv.apply(this,arguments)}function fv(t,e){return pv.apply(this,arguments)}function pv(){return(pv=y(function*(t,e){const n=mv(t),i=(yield dv()).transaction(ps,"readwrite");return yield i.objectStore(ps).put(e,n),yield i.done,e})).apply(this,arguments)}function gv(){return(gv=y(function*(t){const e=mv(t),r=(yield dv()).transaction(ps,"readwrite");yield r.objectStore(ps).delete(e),yield r.done})).apply(this,arguments)}function mv({appConfig:t}){return t.appId}const Ct=new dr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function hQ(t,e){return yv.apply(this,arguments)}function yv(){return(yv=y(function*(t,e){const n=yield Iv(t),r=eR(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(wv(t.appConfig),i)).json()}catch(o){throw Ct.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Ct.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Ct.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function _v(){return(_v=y(function*(t,e){const n=yield Iv(t),r=eR(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${wv(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Ct.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Ct.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Ct.create("token-update-no-token");return s.token})).apply(this,arguments)}function Z1(t,e){return vv.apply(this,arguments)}function vv(){return(vv=y(function*(t,e){const r={method:"DELETE",headers:yield Iv(t)};try{const s=yield(yield fetch(`${wv(t.appConfig)}/${e}`,r)).json();if(s.error)throw Ct.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Ct.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function wv({projectId:t}){return`${eQ}/projects/${t}/registrations`}function Iv(t){return Ev.apply(this,arguments)}function Ev(){return(Ev=y(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function eR({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Q1&&(i.web.applicationPubKey=r),i}const pQ=6048e5;function Dv(){return Dv=y(function*(t){const e=yield function yQ(t,e){return Sv.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Hr(e.getKey("auth")),p256dh:Hr(e.getKey("p256dh"))},r=yield X1(t.firebaseDependencies);if(r){if(function _Q(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+pQ?function mQ(t,e){return bv.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield Z1(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return nR(t.firebaseDependencies,n)}return nR(t.firebaseDependencies,n)}),Dv.apply(this,arguments)}function Tv(){return Tv=y(function*(t){const e=yield X1(t.firebaseDependencies);e&&(yield Z1(t.firebaseDependencies,e.token),yield function lQ(t){return gv.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),Tv.apply(this,arguments)}function bv(){return bv=y(function*(t,e){try{const n=yield function fQ(t,e){return _v.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield fv(t.firebaseDependencies,r),n}catch(n){throw yield function tR(t){return Tv.apply(this,arguments)}(t),n}}),bv.apply(this,arguments)}function nR(t,e){return Cv.apply(this,arguments)}function Cv(){return(Cv=y(function*(t,e){const r={token:yield hQ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield fv(t,r),r.token})).apply(this,arguments)}function Sv(){return(Sv=y(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:iQ(e)})})).apply(this,arguments)}function rR(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function vQ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function wQ(t,e){e.data&&(t.data=e.data)}(e,t),function IQ(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function iR(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Av(t){return Ct.create("missing-app-config-values",{valueName:t})}iR("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),iR("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class TQ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function DQ(t){if(!t||!t.options)throw Av("App Configuration Object");if(!t.name)throw Av("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Av(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Mv(){return(Mv=y(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(XK,{scope:ZK}),t.swRegistration.update().catch(()=>{})}catch(e){throw Ct.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function xv(){return(xv=y(function*(t,e){if(!e&&!t.swRegistration&&(yield function sR(t){return Mv.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Ct.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Nv(){return(Nv=y(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Q1)})).apply(this,arguments)}function kv(){return kv=y(function*(t,e){if(!navigator)throw Ct.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ct.create("permission-blocked");return yield function CQ(t,e){return Nv.apply(this,arguments)}(t,e?.vapidKey),yield function bQ(t,e){return xv.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function gQ(t){return Dv.apply(this,arguments)}(t)}),kv.apply(this,arguments)}function Rv(){return(Rv=y(function*(t,e,n){const r=function AQ(t){switch(t){case vi.NOTIFICATION_CLICKED:return"notification_open";case vi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Y1],message_name:n[tQ],message_time:n[nQ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Pv(){return Pv=y(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===vi.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(rR(n)):t.onMessageHandler.next(rR(n)));const r=n.data;(function EQ(t){return"object"==typeof t&&!!t&&Y1 in t})(r)&&"1"===r["google.c.a.e"]&&(yield function SQ(t,e,n){return Rv.apply(this,arguments)}(t,n.messageType,r))}),Pv.apply(this,arguments)}const aR="@firebase/messaging",xQ=t=>{const e=new TQ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function MQ(t,e){return Pv.apply(this,arguments)}(e,n)),e},NQ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function oR(t,e){return kv.apply(this,arguments)}(e,r)}};function cR(){return Ov.apply(this,arguments)}function Ov(){return(Ov=y(function*(){try{yield Pu()}catch{return!1}return typeof window<"u"&&as()&&Jy()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function kQ(){Jt(new Ut("messaging",xQ,"PUBLIC")),Jt(new Ut("messaging-internal",NQ,"PRIVATE")),Ke(aR,"0.12.4"),Ke(aR,"0.12.4","esm2017")}();const ch="analytics",OQ="firebase_id",FQ="origin",LQ=6e4,VQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vv="https://www.googletagmanager.com/gtag/js",yt=new Lo("@firebase/analytics"),Xt=new dr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function UQ(t){if(!t.startsWith(Vv)){const e=Xt.create("invalid-gtag-resource",{gtagURL:t});return yt.warn(e.message),""}return t}function lR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Bv(){return(Bv=y(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield lR(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){yt.error(a)}t("config",i,s)})).apply(this,arguments)}function Uv(){return(Uv=y(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield lR(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){yt.error(s)}})).apply(this,arguments)}const QQ=30,dR=new class JQ{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function XQ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function $v(){return($v=y(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:XQ(r)},s=VQ.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Xt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function jv(){return(jv=y(function*(t,e=dR,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Xt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Xt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new rY;return setTimeout(y(function*(){a.abort()}),void 0!==n?n:LQ),hR({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function hR(t,e,n){return Gv.apply(this,arguments)}function Gv(){return Gv=y(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=dR){var s;const{appId:o,measurementId:a}=t;try{yield function tY(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Xt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return yt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function ZQ(t){return $v.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!function nY(t){if(!(t instanceof qn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return yt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?t_(n,i.intervalMillis,QQ):t_(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),yt.debug(`Calling attemptFetch again in ${l} millis`),hR(t,d,r,i)}}),Gv.apply(this,arguments)}class rY{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Hv,Jv;function zv(){return(zv=y(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Xv(){return(Xv=y(function*(){if(!as())return yt.warn(Xt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Pu()}catch(t){return yt.warn(Xt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Zv(){return Zv=y(function*(t,e,n,r,i,s,o){var a;const u=function eY(t){return jv.apply(this,arguments)}(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&yt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>yt.error(f)),e.push(u);const c=function lY(){return Xv.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);(function KQ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Vv)&&n.src.includes(t))return n;return null})(s)||function jQ(t,e){const n=function $Q(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:UQ}),r=document.createElement("script"),i=`${Vv}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,l.measurementId),Jv&&(i("consent","default",Jv),function fR(t){Jv=t}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[FQ]="firebase",h.update=!0,null!=d&&(h[OQ]=d),i("config",l.measurementId,h),Hv&&(i("set",Hv),function pR(t){Hv=t}(void 0)),l.measurementId}),Zv.apply(this,arguments)}class hY{constructor(e){this.app=e}_delete(){return delete hr[this.app.options.appId],Promise.resolve()}}let hr={},gR=[];const mR={};let _R,fr,lh="dataLayer",ew=!1;function pY(t,e,n){!function fY(){const t=[];if(Yy()&&t.push("This is a browser extension environment."),Jy()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Xt.create("invalid-analytics-context",{errorInfo:e});yt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Xt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Xt.create("no-api-key");yt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hr[r])throw Xt.create("already-exists",{id:r});if(!ew){!function GQ(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(lh);const{wrappedGtag:s,gtagCore:o}=function WQ(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function qQ(t,e,n,r){function s(){return s=y(function*(o,...a){try{if("event"===o){const[u,c]=a;yield function zQ(t,e,n,r,i){return Uv.apply(this,arguments)}(t,e,n,u,c)}else if("config"===o){const[u,c]=a;yield function HQ(t,e,n,r,i,s){return Bv.apply(this,arguments)}(t,e,n,r,u,c)}else if("consent"===o){const[u]=a;t("consent","update",u)}else if("get"===o){const[u,c,l]=a;t("get",u,c,l)}else if("set"===o){const[u]=a;t("set",u)}else t(o,...a)}catch(u){yt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(hr,gR,mR,lh,"gtag");fr=s,_R=o,ew=!0}return hr[r]=function dY(t,e,n,r,i,s,o){return Zv.apply(this,arguments)}(t,gR,mR,e,_R,lh,n),new hY(t)}function mY(){return tw.apply(this,arguments)}function tw(){return(tw=y(function*(){if(Yy()||!Jy()||!as())return!1;try{return yield Pu()}catch{return!1}})).apply(this,arguments)}const vR="@firebase/analytics";!function _Y(){Jt(new Ut(ch,(e,{options:n})=>pY(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Jt(new Ut("analytics-internal",function t(e){try{const n=e.getProvider(ch).getImmediate();return{logEvent:(r,i,s)=>function yY(t,e,n,r){t=mi(t),function iY(t,e,n,r,i){return zv.apply(this,arguments)}(fr,hr[t.app.options.appId],e,n,r).catch(i=>yt.error(i))}(n,r,i,s)}}catch(n){throw Xt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ke(vR,"0.10.0"),Ke(vR,"0.10.0","esm2017")}();class vY extends On{constructor(e,n){super()}schedule(e,n=0){return this}}const dh={setInterval(t,e,...n){const{delegate:r}=dh;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=dh;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class IR extends vY{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return dh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&dh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,zs(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const ER={now:()=>(ER.delegate||Date).now(),delegate:void 0};class Vu{constructor(e,n=Vu.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Vu.now=ER.now;class DR extends Vu{constructor(e,n=Vu.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const EY=new class IY extends DR{}(class wY extends IR{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),DY=new DR(IR),rw=new au("7.6.1"),iw="__angularfire_symbol__analyticsIsSupportedValue",sw="__angularfire_symbol__analyticsIsSupported",ow="__angularfire_symbol__remoteConfigIsSupportedValue",aw="__angularfire_symbol__remoteConfigIsSupported",uw="__angularfire_symbol__messagingIsSupportedValue",cw="__angularfire_symbol__messagingIsSupported";globalThis[sw]||(globalThis[sw]=mY().then(t=>globalThis[iw]=t).catch(()=>globalThis[iw]=!1)),globalThis[cw]||(globalThis[cw]=cR().then(t=>globalThis[uw]=t).catch(()=>globalThis[uw]=!1)),globalThis[aw]||(globalThis[aw]=$K().then(t=>globalThis[ow]=t).catch(()=>globalThis[ow]=!1));const hw=(t,e)=>{const n=e?[e]:d1(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Uo(){}class TR{constructor(e,n=EY){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class bY{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Uo,{},Uo,Uo)),n.pipe(function TY(t,e,n){const r=Me(t)||e||n?{next:t,error:e,complete:n}:t;return r?qs((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Ws(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Dp}({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bR=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new TR(Zone.current)),this.insideAngular=n.run(()=>new TR(Zone.current,DY)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(re(Oe))},t.\u0275prov=_e({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function gs(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function ms(t){return gs().ngZone.run(()=>t())}function SY(t){return gs(),function AY(t){return function(n){return(n=n.lift(new bY(t.ngZone))).pipe(pl(t.outsideAngular),fl(t.insideAngular))}}(gs())(t)}const MY=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ms(()=>t.apply(void 0,r))},fw=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=ms(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Uo,{},Uo,Uo)))),r[s]=MY(r[s],n));const i=function CY(t){return gs().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof at){const s=gs();return i.pipe(pl(s.outsideAngular),fl(s.insideAngular))}return ms(()=>i)}return i instanceof at?i.pipe(SY):i instanceof Promise?ms(()=>new Promise((s,o)=>i.then(a=>ms(()=>s(a)),a=>ms(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ms(()=>i)};class $o{constructor(e){return e}}class CR{constructor(){return d1()}}const pw=new B("angularfire2._apps"),NY={provide:$o,useFactory:function xY(t){return t&&1===t.length?t[0]:new $o(l1())},deps:[[new In,pw]]},kY={provide:CR,deps:[[new In,pw]]};function RY(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new $o(r)}}let PY=(()=>{class t{constructor(n){Ke("angularfire",rw.full,"core"),Ke("angularfire",rw.full,"app"),Ke("angular",gA.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(re(hi))},t.\u0275mod=Xn({type:t}),t.\u0275inj=Fn({providers:[NY,kY]}),t})();function OY(t,...e){return{ngModule:PY,providers:[{provide:pw,useFactory:RY(t),multi:!0,deps:[Oe,sr,bR,...e]}]}}const FY=fw(c1,!0);const LY=function SR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},AR=new dr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),hh=new Lo("@firebase/auth");function fh(t,...e){hh.logLevel<=H.ERROR&&hh.error(`Auth (${Ou}): ${t}`,...e)}function fn(t,...e){throw gw(t,...e)}function pr(t,...e){return gw(t,...e)}function gw(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AR.create(t,...e)}function A(t,e,...n){if(!t)throw gw(e,...n)}function gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fh(e),new Error(e)}function wi(t,e){t||gr(e)}function xR(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=function Z5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}()||function t7(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function BY(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function mw(){return"http:"===xR()||"https:"===xR()}()||Yy()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class NR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $Y={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jY=new Uu(3e4,6e4);function je(t,e,n,r){return _w.apply(this,arguments)}function _w(){return(_w=y(function*(t,e,n,r,i={}){return kR(t,i,y(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=t1(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),NR.fetch()(RR(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function kR(t,e,n){return vw.apply(this,arguments)}function vw(){return(vw=y(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$Y),e);try{const i=new GY(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw $u(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw $u(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw $u(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw $u(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function MR(t,e,n){const r=Object.assign(Object.assign({},LY()),{[e]:n});return new dr("auth","Firebase",r).create(e,{appName:t.name})}(t,l,c);fn(t,l)}}catch(i){if(i instanceof qn)throw i;fn(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function RR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function yw(t,e){wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class GY{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pr(this.auth,"network-request-failed")),jY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $u(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pr(t,e,r);return i.customData._tokenResponse=n,i}function Iw(){return(Iw=y(function*(t,e){return je(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Dw(){return(Dw=y(function*(t,e){return je(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ju(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Tw(){return(Tw=y(function*(t,e=!1){const n=mi(t),r=yield n.getIdToken(e),i=ph(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ju(bw(i.auth_time)),issuedAtTime:ju(bw(i.iat)),expirationTime:ju(bw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function bw(t){return 1e3*Number(t)}function ph(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Zd(n);return i?JSON.parse(i):(fh("Failed to decode base64 JWT payload"),null)}catch(i){return fh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function qr(t,e){return Cw.apply(this,arguments)}function Cw(){return(Cw=y(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof qn&&function QY({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class YY{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(y(function*(){yield n.iteration()}),r)}iteration(){var e=this;return y(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class PR{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ju(this.lastLoginAt),this.creationTime=ju(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gu(t){return Sw.apply(this,arguments)}function Sw(){return Sw=y(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield qr(t,function qY(t,e){return Dw.apply(this,arguments)}(n,{idToken:r}));A(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function ZY(t){return t.map(e=>{var{providerId:n}=e,r=Sp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function XY(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new PR(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}),Sw.apply(this,arguments)}function Aw(){return(Aw=y(function*(t){const e=mi(t);yield Gu(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Mw(){return(Mw=y(function*(t,e){const n=yield kR(t,{},y(function*(){const r=t1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=RR(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",NR.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Hu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(typeof e.idToken<"u","internal-error"),A(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function KY(t){const e=ph(t);return A(e,"internal-error"),A(typeof e.exp<"u","internal-error"),A(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return y(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return y(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function eJ(t,e){return Mw.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Hu;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hu,this.toJSON())}_performRefresh(){return gr("not implemented")}}function Ii(t,e){A("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ys{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Sp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new PR(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return y(function*(){const r=yield qr(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function WY(t){return Tw.apply(this,arguments)}(this,e)}reload(){return function JY(t){return Aw.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ys(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return y(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Gu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return y(function*(){const n=yield e.getIdToken();return yield qr(e,function HY(t,e){return Iw.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:D,emailVerified:P,isAnonymous:F,providerData:te,stsTokenManager:ot}=n;A(D&&ot,e,"internal-error");const ri=Hu.fromJSON(this.name,ot);A("string"==typeof D,e,"internal-error"),Ii(d,e.name),Ii(h,e.name),A("boolean"==typeof P,e,"internal-error"),A("boolean"==typeof F,e,"internal-error"),Ii(f,e.name),Ii(p,e.name),Ii(g,e.name),Ii(m,e.name),Ii(I,e.name),Ii(_,e.name);const ka=new ys({uid:D,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:F,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:ri,createdAt:I,lastLoginAt:_});return te&&Array.isArray(te)&&(ka.providerData=te.map(_oe=>Object.assign({},_oe))),m&&(ka._redirectEventId=m),ka}static _fromIdTokenResponse(e,n,r=!1){return y(function*(){const i=new Hu;i.updateFromServerResponse(n);const s=new ys({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Gu(s),s})()}}const OR=new Map;function Wr(t){wi(t instanceof Function,"Expected a class definition");let e=OR.get(t);return e?(wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OR.set(t,e),e)}const FR=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(function*(){return!0})()}_set(n,r){var i=this;return y(function*(){i.storage[n]=r})()}_get(n){var r=this;return y(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return y(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function gh(t,e,n){return`firebase:${t}:${e}:${n}`}class Go{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=gh(this.userKey,i.apiKey,s),this.fullPersistenceKey=gh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return y(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ys._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return y(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(function*(){if(!n.length)return new Go(Wr(FR),e,r);const i=(yield Promise.all(n.map(function(){var c=y(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Wr(FR);const o=gh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=ys._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=y(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Go(s,e,r)):new Go(s,e,r)})()}}function LR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function UR(t=Dn()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function VR(t=Dn()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function jR(t=Dn()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function GR(t=Dn()){return/webos/i.test(t)}(e))return"Webos";if(function xw(t=Dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function BR(t=Dn()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function $R(t=Dn()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function HR(t,e=[]){let n;switch(t){case"Browser":n=LR(Dn());break;case"Worker":n=`${LR(Dn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ou}/${r}`}function zR(t,e){return kw.apply(this,arguments)}function kw(){return(kw=y(function*(t,e){return je(t,"GET","/v2/recaptchaConfig",function Le(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}function WR(t){return void 0!==t&&void 0!==t.enterprise}class KR{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}class YR{constructor(e){this.type="recaptcha-enterprise",this.auth=_t(e)}verify(e="verify",n=!1){var r=this;return y(function*(){function s(){return s=y(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=y(function*(c,l){zR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new KR(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;WR(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!n&&WR(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function Rw(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=pr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function iJ(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{o(c,a,u)}).catch(l=>{u(l)})}}).catch(c=>{u(c)})})})()}}class uJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return y(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class cJ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new JR(this),this.idTokenSubscription=new JR(this),this.beforeStateQueue=new uJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(y(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Go.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return y(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return y(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return y(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return y(function*(){try{yield Gu(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function UY(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return y(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return y(function*(){const r=e?mi(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return y(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(y(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return y(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(y(function*(){yield n.assertedPersistence.setPersistence(Wr(e))}))}initializeRecaptchaConfig(){var e=this;return y(function*(){const n=yield zR(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new KR(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new YR(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return y(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return y(function*(){if(!n.redirectPersistenceManager){const r=e&&Wr(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield Go.create(n,[Wr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return y(function*(){var r,i;return n._isInitialized&&(yield n.queue(y(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return y(function*(){if(e===n.currentUser)return n.queue(y(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return y(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return y(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return y(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function VY(t,...e){hh.logLevel<=H.WARN&&hh.warn(`Auth (${Ou}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function _t(t){return mi(t)}class JR{constructor(e){this.auth=e,this.observer=null,this.addObserver=function s7(t,e){const n=new o7(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function QR(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new Uu(3e4,6e4),new Uu(2e3,1e4),new Uu(3e4,6e4),new Uu(5e3,15e3),encodeURIComponent("fac");var CP="@firebase/auth";class tZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return y(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}eh(),function rZ(t){Jt(new Ut("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;A(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HR(t)},c=new cJ(r,i,s,u);return function dJ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Wr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jt(new Ut("auth-internal",e=>{const n=_t(e.getProvider("auth").getImmediate());return new tZ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ke(CP,"0.23.2",function nZ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ke(CP,"0.23.2","esm2017")}("Browser");class xP{constructor(){return hw("auth")}}const IE=new Map,NP={activated:!1,tokenObservers:[]},lZ={initialized:!1,enabled:!1};function Ge(t){return IE.get(t)||Object.assign({},NP)}function Ah(){return lZ}const EE="https://content-firebaseappcheck.googleapis.com/v1",pZ="exchangeDebugToken",kP={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class mZ{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return y(function*(){n.stop();try{n.pending=new th,yield function yZ(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new th,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const St=new dr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function DE(t){if(!Ge(t).activated)throw St.create("use-before-activation",{appName:t.name})}function Nh(t,e){return bE.apply(this,arguments)}function bE(){return bE=y(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw St.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw St.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw St.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw St.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}}),bE.apply(this,arguments)}function RP(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${EE}/projects/${n}/apps/${r}:${pZ}?key=${i}`,body:{debug_token:e}}}const IZ="firebase-app-check-database",EZ=1,Qu="firebase-app-check-store";let kh=null;function CE(){return CE=y(function*(t,e){const r=(yield function OP(){return kh||(kh=new Promise((t,e)=>{try{const n=indexedDB.open(IZ,EZ);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(St.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Qu,{keyPath:"compositeKey"})}}catch(n){e(St.create("storage-open",{originalErrorMessage:n?.message}))}}),kh)}()).transaction(Qu,"readwrite"),s=r.objectStore(Qu).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(St.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})}),CE.apply(this,arguments)}const Yu=new Lo("@firebase/app-check");function ME(t,e){return as()?function TZ(t,e){return function FP(t,e){return CE.apply(this,arguments)}(function VP(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Yu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function NE(){return Ah().enabled}function kE(){return RE.apply(this,arguments)}function RE(){return RE=y(function*(){const t=Ah();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),RE.apply(this,arguments)}const xZ={error:"UNKNOWN_ERROR"};function NZ(t){return Qy.encodeString(JSON.stringify(t),!1)}function Rh(t){return PE.apply(this,arguments)}function PE(){return PE=y(function*(t,e=!1){const n=t.app;DE(n);const r=Ge(n);let s,i=r.token;if(i&&!zo(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(zo(u)?i=u:yield ME(n,void 0))}if(!e&&i&&zo(i))return{token:i.token};let a,o=!1;if(NE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Nh(RP(n,yield kE()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield ME(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Ge(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?Yu.warn(u.message):Yu.error(u),s=u}return i?s?a=zo(i)?{token:i.token,internalError:s}:jP(s):(a={token:i.token},r.token=i,yield ME(n,i)):a=jP(s),o&&function $P(t,e){const n=Ge(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a}),PE.apply(this,arguments)}function OE(){return OE=y(function*(t){const e=t.app;DE(e);const{provider:n}=Ge(e);if(NE()){const r=yield kE(),{token:i}=yield Nh(RP(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}}),OE.apply(this,arguments)}function LE(t,e){const n=Ge(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function UP(t){const{app:e}=t,n=Ge(e);let r=n.tokenRefresher;r||(r=function kZ(t){const{app:e}=t;return new mZ(y(function*(){let r;if(r=Ge(e).token?yield Rh(t,!0):yield Rh(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ge(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},kP.RETRIAL_MIN_WAIT,kP.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function zo(t){return t.expireTimeMillis-Date.now()>0}function jP(t){return{token:NZ(xZ),error:t}}class RZ{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ge(this.app);for(const n of e)LE(this.app,n.next);return Promise.resolve()}}const YP="app-check-internal";!function WZ(){Jt(new Ut("app-check",t=>function PZ(t,e){return new RZ(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(YP).initialize()})),Jt(new Ut(YP,t=>function OZ(t){return{getToken:e=>Rh(t,e),getLimitedUseToken:()=>function BP(t){return OE.apply(this,arguments)}(t),addTokenListener:e=>function FE(t,e,n,r){const{app:i}=t,s=Ge(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&zo(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),UP(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>UP(t))}(t,"INTERNAL",e),removeTokenListener:e=>LE(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ke("@firebase/app-check","0.8.0")}();class XP{constructor(){return hw("app-check")}}typeof window<"u"&&window;var N,XZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wn={},jE=jE||{},K=XZ||self;function Oh(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ju(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var GE="closure_uid_"+(1e9*Math.random()>>>0),eee=0;function tee(t,e,n){return t.call.apply(t.bind,arguments)}function nee(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function $t(t,e,n){return($t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tee:nee).apply(null,arguments)}function Fh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function vt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Di(){this.s=this.s,this.o=this.o}Di.prototype.s=!1,Di.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function ZZ(t){Object.prototype.hasOwnProperty.call(t,GE)&&t[GE]||(t[GE]=++eee)}(this)},Di.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ZP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function HE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function eO(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Oh(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}jt.prototype.h=function(){this.defaultPrevented=!0};var iee=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{K.addEventListener("test",()=>{},e),K.removeEventListener("test",()=>{},e)}catch{}return t}();function Xu(t){return/^[\s\xa0]*$/.test(t)}function Lh(){var t=K.navigator;return t&&(t=t.userAgent)?t:""}function mr(t){return-1!=Lh().indexOf(t)}function zE(t){return zE[" "](t),t}zE[" "]=function(){};var WE,oee=mr("Opera"),qo=mr("Trident")||mr("MSIE"),tO=mr("Edge"),qE=tO||qo,nO=mr("Gecko")&&!(-1!=Lh().toLowerCase().indexOf("webkit")&&!mr("Edge"))&&!(mr("Trident")||mr("MSIE"))&&!mr("Edge"),aee=-1!=Lh().toLowerCase().indexOf("webkit")&&!mr("Edge");function rO(){var t=K.document;return t?t.documentMode:void 0}e:{var KE="",QE=function(){var t=Lh();return nO?/rv:([^\);]+)(\)|;)/.exec(t):tO?/Edge\/([\d\.]+)/.exec(t):qo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):aee?/WebKit\/(\S+)/.exec(t):oee?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(QE&&(KE=QE?QE[1]:""),qo){var YE=rO();if(null!=YE&&YE>parseFloat(KE)){WE=String(YE);break e}}WE=KE}var uee=K.document&&qo&&(rO()||parseInt(WE,10))||void 0;function Zu(t,e){if(jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(nO){e:{try{zE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:cee[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Zu.$.h.call(this)}}vt(Zu,jt);var cee={2:"touch",3:"pen",4:"mouse"};Zu.prototype.h=function(){Zu.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ec="closure_listenable_"+(1e6*Math.random()|0),lee=0;function dee(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++lee,this.fa=this.ia=!1}function Vh(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function XE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function sO(t){const e={};for(const n in t)e[n]=t[n];return e}const oO="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aO(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<oO.length;s++)n=oO[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Bh(t){this.src=t,this.g={},this.h=0}function ZE(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=ZP(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Vh(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function eD(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Bh.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=eD(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new dee(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var tD="closure_lm_"+(1e6*Math.random()|0),nD={};function uO(t,e,n,r,i){if(r&&r.once)return lO(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)uO(t,e[s],n,r,i);return null}return n=oD(n),t&&t[ec]?t.O(e,n,Ju(r)?!!r.capture:!!r,i):cO(t,e,n,!1,r,i)}function cO(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Ju(i)?!!i.capture:!!i,a=iD(t);if(a||(t[tD]=a=new Bh(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function fee(){const e=pee;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)iee||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(hO(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function lO(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)lO(t,e[s],n,r,i);return null}return n=oD(n),t&&t[ec]?t.P(e,n,Ju(r)?!!r.capture:!!r,i):cO(t,e,n,!0,r,i)}function dO(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)dO(t,e[s],n,r,i);else r=Ju(r)?!!r.capture:!!r,n=oD(n),t&&t[ec]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=eD(s=t.g[e],n,r,i))&&(Vh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=iD(t))&&(e=t.g[e.toString()],t=-1,e&&(t=eD(e,n,r,i)),(n=-1<t?e[t]:null)&&rD(n))}function rD(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[ec])ZE(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hO(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=iD(e))?(ZE(n,t),0==n.h&&(n.src=null,e[tD]=null)):Vh(t)}}}function hO(t){return t in nD?nD[t]:nD[t]="on"+t}function pee(t,e){if(t.fa)t=!0;else{e=new Zu(e,this);var n=t.listener,r=t.la||t.src;t.ia&&rD(t),t=n.call(r,e)}return t}function iD(t){return(t=t[tD])instanceof Bh?t:null}var sD="__closure_events_fn_"+(1e9*Math.random()>>>0);function oD(t){return"function"==typeof t?t:(t[sD]||(t[sD]=function(e){return t.handleEvent(e)}),t[sD])}function wt(){Di.call(this),this.i=new Bh(this),this.S=this,this.J=null}function At(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new jt(e,t);else if(e instanceof jt)e.target=e.target||t;else{var i=e;aO(e=new jt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Uh(o,r,!0,e)&&i}if(i=Uh(o=e.g=t,r,!0,e)&&i,i=Uh(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Uh(o=e.g=n[s],r,!1,e)&&i}function Uh(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&ZE(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}vt(wt,Di),wt.prototype[ec]=!0,wt.prototype.removeEventListener=function(t,e,n,r){dO(this,t,e,n,r)},wt.prototype.N=function(){if(wt.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Vh(n[r]);delete t.g[e],t.h--}}this.J=null},wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},wt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var aD=K.JSON.stringify;function mee(){var t=uD;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var fO=new class gee{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new _ee,t=>t.reset());class _ee{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function vee(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function wee(t){K.setTimeout(()=>{throw t},0)}let tc,nc=!1,uD=new class yee{constructor(){this.h=this.g=null}add(e,n){const r=fO.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},pO=()=>{const t=K.Promise.resolve(void 0);tc=()=>{t.then(Iee)}};var Iee=()=>{for(var t;t=mee();){try{t.h.call(t.g)}catch(n){wee(n)}var e=fO;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}nc=!1};function $h(t,e){wt.call(this),this.h=t||1,this.g=e||K,this.j=$t(this.qb,this),this.l=Date.now()}function cD(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function lD(t,e,n){if("function"==typeof t)n&&(t=$t(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=$t(t.handleEvent,t)}return 2147483647<Number(e)?-1:K.setTimeout(t,e||0)}function gO(t){t.g=lD(()=>{t.g=null,t.i&&(t.i=!1,gO(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}vt($h,wt),(N=$h.prototype).ga=!1,N.T=null,N.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),At(this,"tick"),this.ga&&(cD(this),this.start()))}},N.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},N.N=function(){$h.$.N.call(this),cD(this),delete this.g};class Eee extends Di{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gO(this)}N(){super.N(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rc(t){Di.call(this),this.h=t,this.g={}}vt(rc,Di);var mO=[];function yO(t,e,n,r){Array.isArray(n)||(n&&(mO[0]=n.toString()),n=mO);for(var i=0;i<n.length;i++){var s=uO(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function _O(t){XE(t.g,function(e,n){this.g.hasOwnProperty(n)&&rD(e)},t),t.g={}}function jh(){this.g=!0}function Wo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Cee(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return aD(n)}catch{return e}}(t,n)+(r?" "+r:"")})}rc.prototype.N=function(){rc.$.N.call(this),_O(this)},rc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jh.prototype.Ea=function(){this.g=!1},jh.prototype.info=function(){};var Is={},vO=null;function Gh(){return vO=vO||new wt}function wO(t){jt.call(this,Is.Ta,t)}function ic(t){const e=Gh();At(e,new wO(e))}function IO(t,e){jt.call(this,Is.STAT_EVENT,t),this.stat=e}function Zt(t){const e=Gh();At(e,new IO(e,t))}function EO(t,e){jt.call(this,Is.Ua,t),this.size=e}function sc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){t()},e)}Is.Ta="serverreachability",vt(wO,jt),Is.STAT_EVENT="statevent",vt(IO,jt),Is.Ua="timingevent",vt(EO,jt);var Hh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},DO={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function dD(){}function bO(){}dD.prototype.h=null;var pD,oc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hD(){jt.call(this,"d")}function fD(){jt.call(this,"c")}function zh(){}function ac(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new rc(this),this.P=See,this.V=new $h(t=qE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new CO}function CO(){this.i=null,this.g="",this.h=!1}vt(hD,jt),vt(fD,jt),vt(zh,dD),zh.prototype.g=function(){return new XMLHttpRequest},zh.prototype.i=function(){return{}},pD=new zh;var See=45e3,gD={},qh={};function mD(t,e,n){t.L=1,t.v=Yh(Qr(e)),t.s=n,t.S=!0,SO(t,null)}function SO(t,e){t.G=Date.now(),uc(t),t.A=Qr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),LO(n.i,"t",r),t.C=0,n=t.l.J,t.h=new CO,t.g=aF(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Eee($t(t.Pa,t,t.g),t.O)),yO(t.U,t.g,"readystatechange",t.nb),e=t.I?sO(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ic(),function Dee(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function AO(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function MO(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=Aee(t,n),i==qh){4==e&&(t.o=4,Zt(14),r=!1),Wo(t.j,t.m,null,"[Incomplete Response]");break}if(i==gD){t.o=4,Zt(15),Wo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Wo(t.j,t.m,i,null),yD(t,i)}AO(t)&&i!=qh&&i!=gD&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Zt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),TD(e),e.M=!0,Zt(11))):(Wo(t.j,t.m,n,"[Invalid Chunked Response]"),Es(t),cc(t))}function Aee(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?qh:(n=Number(e.substring(n,r)),isNaN(n)?gD:(r+=1)+n>e.length?qh:(e=e.slice(r,r+n),t.C=r+n,e))}function uc(t){t.Y=Date.now()+t.P,xO(t,t.P)}function xO(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=sc($t(t.lb,t),e)}function Wh(t){t.B&&(K.clearTimeout(t.B),t.B=null)}function cc(t){0==t.l.H||t.J||rF(t.l,t)}function Es(t){Wh(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,cD(t.V),_O(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function yD(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||_D(n.i,t)))if(!t.K&&_D(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;nf(n),ef(n)}DD(n),Zt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=sc($t(n.ib,n),6e3));if(1>=UO(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ts(n,11)}else if((t.K||n.g==t)&&nf(n),!Xu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const l=c[3];null!=l&&(n.ra=l,n.l.info("VER="+n.ra));const d=c[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.L=r=1.5*h,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(vD(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,be(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=oF(r,r.J?r.pa:null,r.Y),o.K){$O(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Wh(a),uc(a)),r.g=o}else tF(r);0<n.j.length&&tf(n)}else"stop"!=c[0]&&"close"!=c[0]||Ts(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ts(n,7):ED(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}ic()}catch{}}function NO(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Oh(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function xee(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Oh(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function Mee(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Oh(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(N=ac.prototype).setTimeout=function(t){this.P=t},N.nb=function(t){t=t.target;const e=this.M;e&&3==yr(t)?e.l():this.Pa(t)},N.Pa=function(t){try{if(t==this.g)e:{const l=yr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||qE||this.g&&(this.h.h||this.g.ja()||QO(this.g)))){this.J||4!=l||7==e||ic(),Wh(this);var n=this.g.da();this.ca=n;t:if(AO(this)){var r=QO(this.g);t="";var i=r.length,s=4==yr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Es(this),cc(this);var o="";break t}this.h.i=new K.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function Tee(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xu(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Zt(12),Es(this),cc(this);break e}Wo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yD(this,n)}this.S?(MO(this,l,o),qE&&this.i&&3==l&&(yO(this.U,this.V,"tick",this.mb),this.V.start())):(Wo(this.j,this.m,o,null),yD(this,o)),4==l&&Es(this),this.i&&!this.J&&(4==l?rF(this.l,this):(this.i=!1,uc(this)))}else(function Kee(t){const e={};t=(t.g&&2<=yr(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(Xu(t[r]))continue;var n=vee(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function hee(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Zt(12)):(this.o=0,Zt(13)),Es(this),cc(this)}}}catch{}},N.mb=function(){if(this.g){var t=yr(this.g),e=this.g.ja();this.C<e.length&&(Wh(this),MO(this,t,e),this.i&&4!=t&&uc(this))}},N.cancel=function(){this.J=!0,Es(this)},N.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function bee(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(ic(),Zt(17)),Es(this),this.o=2,cc(this)):xO(this,this.Y-t)};var kO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ds(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ds){this.h=t.h,Kh(this,t.j),this.s=t.s,this.g=t.g,Qh(this,t.m),this.l=t.l;var e=t.i,n=new hc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),RO(this,n),this.o=t.o}else t&&(e=String(t).match(kO))?(this.h=!1,Kh(this,e[1]||"",!0),this.s=lc(e[2]||""),this.g=lc(e[3]||"",!0),Qh(this,e[4]),this.l=lc(e[5]||"",!0),RO(this,e[6]||"",!0),this.o=lc(e[7]||"")):(this.h=!1,this.i=new hc(null,this.h))}function Qr(t){return new Ds(t)}function Kh(t,e,n){t.j=n?lc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Qh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function RO(t,e,n){e instanceof hc?(t.i=e,function Lee(t,e){e&&!t.j&&(Ti(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(OO(this,r),LO(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=dc(e,Oee)),t.i=new hc(e,t.h))}function be(t,e,n){t.i.set(e,n)}function Yh(t){return be(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function lc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function dc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,kee),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kee(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ds.prototype.toString=function(){var t=[],e=this.j;e&&t.push(dc(e,PO,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(dc(e,PO,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(dc(n,"/"==n.charAt(0)?Pee:Ree,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",dc(n,Fee)),t.join("")};var PO=/[#\/\?@]/g,Ree=/[#\?:]/g,Pee=/[#\?]/g,Oee=/[#\?@]/g,Fee=/#/g;function hc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ti(t){t.g||(t.g=new Map,t.h=0,t.i&&function Nee(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function OO(t,e){Ti(t),e=Ko(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function FO(t,e){return Ti(t),e=Ko(t,e),t.g.has(e)}function LO(t,e,n){OO(t,e),0<n.length&&(t.i=null,t.g.set(Ko(t,e),HE(n)),t.h+=n.length)}function Ko(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function VO(t){this.l=t||Bee,t=K.PerformanceNavigationTiming?0<(t=K.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(K.g&&K.g.Ka&&K.g.Ka()&&K.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(N=hc.prototype).add=function(t,e){Ti(this),this.i=null,t=Ko(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},N.forEach=function(t,e){Ti(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},N.ta=function(){Ti(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},N.Z=function(t){Ti(this);let e=[];if("string"==typeof t)FO(this,t)&&(e=e.concat(this.g.get(Ko(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},N.set=function(t,e){return Ti(this),this.i=null,FO(this,t=Ko(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},N.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},N.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Bee=10;function BO(t){return!!t.h||!!t.g&&t.g.size>=t.j}function UO(t){return t.h?1:t.g?t.g.size:0}function _D(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function vD(t,e){t.g?t.g.add(e):t.h=e}function $O(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function jO(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return HE(t.i)}VO.prototype.cancel=function(){if(this.i=jO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var Uee=class{stringify(t){return K.JSON.stringify(t,void 0)}parse(t){return K.JSON.parse(t,void 0)}};function $ee(){this.g=new Uee}function jee(t,e,n){const r=n||"";try{NO(t,function(i,s){let o=i;Ju(i)&&(o=aD(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Jh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function fc(t){this.l=t.fc||null,this.j=t.ob||!1}function Xh(t,e){wt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=wD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vt(fc,dD),fc.prototype.g=function(){return new Xh(this.l,this.j)},fc.prototype.i=function(t){return function(){return t}}({}),vt(Xh,wt);var wD=0;function GO(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function pc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,gc(t)}function gc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(N=Xh.prototype).open=function(t,e){if(this.readyState!=wD)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,gc(this)},N.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||K).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},N.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pc(this)),this.readyState=wD},N.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,gc(this)),this.g&&(this.readyState=3,gc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof K.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;GO(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},N.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?pc(this):gc(this),3==this.readyState&&GO(this)}},N.Za=function(t){this.g&&(this.response=this.responseText=t,pc(this))},N.Ya=function(t){this.g&&(this.response=t,pc(this))},N.ka=function(){this.g&&pc(this)},N.setRequestHeader=function(t,e){this.v.append(t,e)},N.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},N.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Xh.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Hee=K.JSON.parse;function He(t){wt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=HO,this.L=this.M=!1}vt(He,wt);var HO="",zee=/^https?$/i,qee=["POST","PUT"];function zO(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qO(t),Zh(t)}function qO(t){t.F||(t.F=!0,At(t,"complete"),At(t,"error"))}function WO(t){if(t.h&&typeof jE<"u"&&(!t.C[1]||4!=yr(t)||2!=t.da()))if(t.v&&4==yr(t))lD(t.La,0,t);else if(At(t,"readystatechange"),4==yr(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(kO)[1]||null;!i&&K.self&&K.self.location&&(i=K.self.location.protocol.slice(0,-1)),r=!zee.test(i?i.toLowerCase():"")}n=r}if(n)At(t,"complete"),At(t,"success");else{t.m=6;try{var s=2<yr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",qO(t)}}finally{Zh(t)}}}function Zh(t,e){if(t.g){KO(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||At(t,"ready");try{n.onreadystatechange=r}catch{}}}function KO(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(K.clearTimeout(t.A),t.A=null)}function yr(t){return t.g?t.g.readyState:0}function QO(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case HO:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function YO(t){let e="";return XE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function ID(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=YO(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):be(t,e,n))}function mc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function JO(t){this.Ga=0,this.j=[],this.l=new jh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mc("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mc("baseRetryDelayMs",5e3,t),this.hb=mc("retryDelaySeedMs",1e4,t),this.eb=mc("forwardChannelMaxRetries",2,t),this.xa=mc("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new VO(t&&t.concurrentRequestLimit),this.Ja=new $ee,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ED(t){if(XO(t),3==t.H){var e=t.W++,n=Qr(t.I);if(be(n,"SID",t.K),be(n,"RID",e),be(n,"TYPE","terminate"),yc(t,n),(e=new ac(t,t.l,e)).L=2,e.v=Yh(Qr(n)),n=!1,K.navigator&&K.navigator.sendBeacon)try{n=K.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&K.Image&&((new Image).src=e.v,n=!0),n||(e.g=aF(e.l,null),e.g.ha(e.v)),e.G=Date.now(),uc(e)}sF(t)}function ef(t){t.g&&(TD(t),t.g.cancel(),t.g=null)}function XO(t){ef(t),t.u&&(K.clearTimeout(t.u),t.u=null),nf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&K.clearTimeout(t.m),t.m=null)}function tf(t){if(!BO(t.i)&&!t.m){t.m=!0;var e=t.Na;tc||pO(),nc||(tc(),nc=!0),uD.add(e,t),t.C=0}}function ZO(t,e){var n;n=e?e.m:t.W++;const r=Qr(t.I);be(r,"SID",t.K),be(r,"RID",n),be(r,"AID",t.V),yc(t,r),t.o&&t.s&&ID(r,t.o,t.s),n=new ac(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=eF(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),vD(t.i,n),mD(n,r,e)}function yc(t,e){t.na&&XE(t.na,function(n,r){be(e,r,n)}),t.h&&NO({},function(n,r){be(e,r,n)})}function eF(t,e,n){n=Math.min(t.j.length,n);var r=t.h?$t(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{jee(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function tF(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;tc||pO(),nc||(tc(),nc=!0),uD.add(e,t),t.A=0}}function DD(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=sc($t(t.Ma,t),iF(t,t.A)),t.A++,0))}function TD(t){null!=t.B&&(K.clearTimeout(t.B),t.B=null)}function nF(t){t.g=new ac(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Qr(t.wa);be(e,"RID","rpc"),be(e,"SID",t.K),be(e,"AID",t.V),be(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&be(e,"TO",t.qa),be(e,"TYPE","xmlhttp"),yc(t,e),t.o&&t.s&&ID(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Yh(Qr(e)),n.s=null,n.S=!0,SO(n,t)}function nf(t){null!=t.v&&(K.clearTimeout(t.v),t.v=null)}function rF(t,e){var n=null;if(t.g==e){nf(t),TD(t),t.g=null;var r=2}else{if(!_D(t.i,e))return;n=e.F,$O(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;At(r=Gh(),new EO(r,n)),tf(t)}else tF(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Qee(t,e){return!(UO(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=sc($t(t.Na,t,e),iF(t,t.C)),t.C++,0)))}(t,e)||2==r&&DD(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ts(t,5);break;case 4:Ts(t,10);break;case 3:Ts(t,6);break;default:Ts(t,2)}}function iF(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ts(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=$t(t.pb,t);n||(n=new Ds("//www.google.com/images/cleardot.gif"),K.location&&"http"==K.location.protocol||Kh(n,"https"),Yh(n)),function Gee(t,e){const n=new jh;if(K.Image){const r=new Image;r.onload=Fh(Jh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Fh(Jh,n,r,"TestLoadImage: error",!1,e),r.onabort=Fh(Jh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fh(Jh,n,r,"TestLoadImage: timeout",!1,e),K.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.H=0,t.h&&t.h.za(e),sF(t),XO(t)}function sF(t){if(t.H=0,t.ma=[],t.h){const e=jO(t.i);(0!=e.length||0!=t.j.length)&&(eO(t.ma,e),eO(t.ma,t.j),t.i.i.length=0,HE(t.j),t.j.length=0),t.h.ya()}}function oF(t,e,n){var r=n instanceof Ds?Qr(n):new Ds(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Qh(r,r.m);else{var i=K.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Ds(null);r&&Kh(s,r),e&&(s.g=e),i&&Qh(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&be(r,n,e),be(r,"VER",t.ra),yc(t,r),r}function aF(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new He(n&&t.Ha&&!t.va?new fc({ob:!0}):t.va)).Oa(t.J),e}function uF(){}function rf(){if(qo&&!(10<=Number(uee)))throw Error("Environmental error: no available transport.")}function Tn(t,e){wt.call(this),this.g=new JO(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Xu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xu(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Qo(this)}function cF(t){hD.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function lF(){fD.call(this),this.status=1}function Qo(t){this.g=t}function Kn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function bD(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function me(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(N=He.prototype).Oa=function(t){this.M=t},N.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pD.g(),this.C=function TO(t){return t.h||(t.h=t.i())}(this.u?this.u:pD),this.g.onreadystatechange=$t(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void zO(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=K.FormData&&t instanceof K.FormData,!(0<=ZP(qee,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KO(this),0<this.B&&((this.L=function Wee(t){return qo&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=$t(this.ua,this)):this.A=lD(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){zO(this,s)}},N.ua=function(){typeof jE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,At(this,"timeout"),this.abort(8))},N.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,At(this,"complete"),At(this,"abort"),Zh(this))},N.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zh(this,!0)),He.$.N.call(this)},N.La=function(){this.s||(this.G||this.v||this.l?WO(this):this.kb())},N.kb=function(){WO(this)},N.isActive=function(){return!!this.g},N.da=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}},N.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},N.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Hee(e)}},N.Ia=function(){return this.m},N.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(N=JO.prototype).ra=8,N.H=1,N.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ac(this,this.l,t);let s=this.s;if(this.U&&(s?(s=sO(s),aO(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=eF(this,i,e),be(n=Qr(this.I),"RID",t),be(n,"CVER",22),this.F&&be(n,"X-HTTP-Session-Id",this.F),yc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(YO(s)))+"&"+e:this.o&&ID(n,this.o,s)),vD(this.i,i),this.bb&&be(n,"TYPE","init"),this.P?(be(n,"$req",e),be(n,"SID","null"),i.aa=!0,mD(i,n,null)):mD(i,n,e),this.H=2}}else 3==this.H&&(t?ZO(this,t):0==this.j.length||BO(this.i)||ZO(this))},N.Ma=function(){if(this.u=null,nF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=sc($t(this.jb,this),t)}},N.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zt(10),ef(this),nF(this))},N.ib=function(){null!=this.v&&(this.v=null,ef(this),DD(this),Zt(19))},N.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Zt(2)):(this.l.info("Failed to ping google.com"),Zt(1))},N.isActive=function(){return!!this.h&&this.h.isActive(this)},(N=uF.prototype).Ba=function(){},N.Aa=function(){},N.za=function(){},N.ya=function(){},N.isActive=function(){return!0},N.Va=function(){},rf.prototype.g=function(t,e){return new Tn(t,e)},vt(Tn,wt),Tn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Zt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=oF(t,null,t.Y),tf(t)},Tn.prototype.close=function(){ED(this.g)},Tn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=aD(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&tf(e)},Tn.prototype.N=function(){this.g.h=null,delete this.j,ED(this.g),delete this.g,Tn.$.N.call(this)},vt(cF,hD),vt(lF,fD),vt(Qo,uF),Qo.prototype.Ba=function(){At(this.g,"a")},Qo.prototype.Aa=function(t){At(this.g,new cF(t))},Qo.prototype.za=function(t){At(this.g,new lF)},Qo.prototype.ya=function(){At(this.g,"b")},vt(Kn,function Yee(){this.blockSize=-1}),Kn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Kn.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)bD(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){bD(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){bD(this,r),i=0;break}}this.h=i,this.i+=e},Kn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var Jee={};function CD(t){return-128<=t&&128>t?function see(t,e){var n=Jee;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new me([0|e],0>e?-1:0)}):new me([0|t],0>t?-1:0)}function _r(t){if(isNaN(t)||!isFinite(t))return Yo;if(0>t)return Mt(_r(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=SD;return new me(e,0)}var SD=4294967296,Yo=CD(0),AD=CD(1),hF=CD(16777216);function Yr(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function Pn(t){return-1==t.h}function Mt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new me(n,~t.h).add(AD)}function sf(t,e){return t.add(Mt(e))}function of(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function _c(t,e){this.g=t,this.h=e}function af(t,e){if(Yr(e))throw Error("division by zero");if(Yr(t))return new _c(Yo,Yo);if(Pn(t))return e=af(Mt(t),e),new _c(Mt(e.g),Mt(e.h));if(Pn(e))return e=af(t,Mt(e)),new _c(Mt(e.g),e.h);if(30<t.g.length){if(Pn(t)||Pn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=AD,r=e;0>=r.X(t);)n=fF(n),r=fF(r);var i=Jo(n,1),s=Jo(r,1);for(r=Jo(r,2),n=Jo(n,2);!Yr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Jo(r,1),n=Jo(n,1)}return e=sf(t,i.R(e)),new _c(i,e)}for(i=Yo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=_r(n)).R(e);Pn(o)||0<o.X(t);)o=(s=_r(n-=r)).R(e);Yr(s)&&(s=AD),i=i.add(s),t=sf(t,o)}return new _c(i,t)}function fF(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new me(n,t.h)}function Jo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new me(i,t.h)}(N=me.prototype).ea=function(){if(Pn(this))return-Mt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:SD+r)*e,e*=SD}return t},N.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Yr(this))return"0";if(Pn(this))return"-"+Mt(this).toString(t);for(var e=_r(Math.pow(t,6)),n=this,r="";;){var i=af(n,e).g,s=((0<(n=sf(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Yr(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},N.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},N.X=function(t){return Pn(t=sf(this,t))?-1:Yr(t)?0:1},N.abs=function(){return Pn(this)?Mt(this):this},N.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new me(n,-2147483648&n[n.length-1]?-1:0)},N.R=function(t){if(Yr(this)||Yr(t))return Yo;if(Pn(this))return Pn(t)?Mt(this).R(Mt(t)):Mt(Mt(this).R(t));if(Pn(t))return Mt(this.R(Mt(t)));if(0>this.X(hF)&&0>t.X(hF))return _r(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,u=65535&t.D(i);n[2*r+2*i]+=o*u,of(n,2*r+2*i),n[2*r+2*i+1]+=s*u,of(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,of(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,of(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new me(n,0)},N.gb=function(t){return af(this,t).h},N.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new me(n,this.h&t.h)},N.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new me(n,this.h|t.h)},N.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new me(n,this.h^t.h)},rf.prototype.createWebChannel=rf.prototype.g,Tn.prototype.send=Tn.prototype.u,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,Hh.NO_ERROR=0,Hh.TIMEOUT=8,Hh.HTTP_ERROR=6,DO.COMPLETE="complete",bO.EventType=oc,oc.OPEN="a",oc.CLOSE="b",oc.ERROR="c",oc.MESSAGE="d",wt.prototype.listen=wt.prototype.O,He.prototype.listenOnce=He.prototype.P,He.prototype.getLastError=He.prototype.Sa,He.prototype.getLastErrorCode=He.prototype.Ia,He.prototype.getStatus=He.prototype.da,He.prototype.getResponseJson=He.prototype.Wa,He.prototype.getResponseText=He.prototype.ja,He.prototype.send=He.prototype.ha,He.prototype.setWithCredentials=He.prototype.Oa,Kn.prototype.digest=Kn.prototype.l,Kn.prototype.reset=Kn.prototype.reset,Kn.prototype.update=Kn.prototype.j,me.prototype.add=me.prototype.add,me.prototype.multiply=me.prototype.R,me.prototype.modulo=me.prototype.gb,me.prototype.compare=me.prototype.X,me.prototype.toNumber=me.prototype.ea,me.prototype.toString=me.prototype.toString,me.prototype.getBits=me.prototype.D,me.fromNumber=_r,me.fromString=function dF(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Mt(dF(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=_r(Math.pow(e,8)),r=Yo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=_r(Math.pow(e,s)),r=r.R(s).add(_r(o))):r=(r=r.R(n)).add(_r(o))}return r};var Xee=Wn.createWebChannelTransport=function(){return new rf},Zee=Wn.getStatEventTarget=function(){return Gh()},MD=Wn.ErrorCode=Hh,ete=Wn.EventType=DO,tte=Wn.Event=Is,pF=Wn.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nte=Wn.FetchXmlHttpFactory=fc,uf=Wn.WebChannel=bO,rte=Wn.XhrIo=He,ite=Wn.Md5=Kn,Xo=Wn.Integer=me;const gF="@firebase/firestore";class It{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");let Zo="9.22.1";const bi=new Lo("@firebase/firestore");function xD(){return bi.logLevel}function b(t,...e){if(bi.logLevel<=H.DEBUG){const n=e.map(ND);bi.debug(`Firestore (${Zo}): ${t}`,...n)}}function Qe(t,...e){if(bi.logLevel<=H.ERROR){const n=e.map(ND);bi.error(`Firestore (${Zo}): ${t}`,...n)}}function Qn(t,...e){if(bi.logLevel<=H.WARN){const n=e.map(ND);bi.warn(`Firestore (${Zo}): ${t}`,...n)}}function ND(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function O(t="Unexpected state"){const e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+t;throw Qe(e),new Error(e)}function L(t,e){t||O()}function x(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends qn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ft{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class mF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ste{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(It.UNAUTHENTICATED))}shutdown(){}}class ote{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ate{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new ft;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ft,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(y(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ft)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(L("string"==typeof r.accessToken),new mF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return L(null===e||"string"==typeof e),new It(e)}}class ute{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=It.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class cte{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new ute(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lte{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,b("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(L("string"==typeof n.token),this.T=n.token,new yF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function dte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class _F{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=dte(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function q(t,e){return t<e?-1:t>e?1:0}function ea(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Ve{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ve.fromMillis(Date.now())}static fromDate(e){return Ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ve(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?q(this.nanoseconds,e.nanoseconds):q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new Ve(0,0))}static max(){return new V(new Ve(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vc{constructor(e,n,r){void 0===n?n=0:n>e.length&&O(),void 0===r?r=e.length-n:r>e.length-n&&O(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===vc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ue extends vc{construct(e,n,r){return new ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ue(n)}static emptyPath(){return new ue([])}}const hte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends vc{construct(e,n,r){return new Ye(e,n,r)}static isValidIdentifier(e){return hte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ye(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ye(n)}static emptyPath(){return new Ye([])}}class M{constructor(e){this.path=e}static fromPath(e){return new M(ue.fromString(e))}static fromName(e){return new M(ue.fromString(e).popFirst(5))}static empty(){return new M(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ue.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new ue(e.slice()))}}function IF(t){return new bn(t.readTime,t.key,-1)}class bn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bn(V.min(),M.empty(),-1)}static max(){return new bn(V.max(),M.empty(),-1)}}function RD(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=M.comparator(t.documentKey,e.documentKey),0!==n?n:q(t.largestBatchId,e.largestBatchId))}const EF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ci(t){return PD.apply(this,arguments)}function PD(){return PD=y(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==EF)throw t;b("LocalStore","Unexpectedly lost primary lease")}),PD.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function Si(t){return"IndexedDbTransactionError"===t.name}let Cn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Ec(t){return null==t}function Dc(t){return 0===t&&1/t==-1/0}function NF(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ai(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}class De{constructor(e,n){this.comparator=e,this.root=n||xt.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xt.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ff(this.root,e,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ff(this.root,e,this.comparator,!0)}}class ff{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??xt.RED,this.left=i??xt.EMPTY,this.right=s??xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new xt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}xt.EMPTY=null,xt.RED=!0,xt.BLACK=!1,xt.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,n,r,i){return this}insert(t,e,n){return new xt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ce{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new RF(this.data.getIterator())}getIteratorFrom(e){return new RF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ce(this.comparator);return n.data=e,n}}class RF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class pn{constructor(e){this.fields=e,e.sort(Ye.comparator)}static empty(){return new pn([])}unionWith(e){let n=new Ce(Ye.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class PF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new PF("Invalid base64 string: "+i):i}}(e);return new pt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const Vte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(t){if(L(!!t),"string"==typeof t){let e=0;const n=Vte.exec(t);if(L(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Jr(t){return"string"==typeof t?pt.fromBase64String(t):pt.fromUint8Array(t)}function pf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function gf(t){const e=t.mapValue.fields.__previous_value__;return pf(e)?gf(e):e}function Tc(t){const e=Mi(t.mapValue.fields.__local_write_time__.timestampValue);return new Ve(e.seconds,e.nanos)}class Bte{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ss{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ss("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ss&&e.projectId===this.projectId&&e.database===this.database}}const xi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pf(t)?4:VF(t)?9007199254740991:10:O()}function wr(t,e){if(t===e)return!0;const n=Ni(t);if(n!==Ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tc(t).isEqual(Tc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Mi(r.timestampValue),o=Mi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Jr(t.bytesValue).isEqual(Jr(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ze(r.geoPointValue.latitude)===ze(i.geoPointValue.latitude)&&ze(r.geoPointValue.longitude)===ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ze(r.integerValue)===ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ze(r.doubleValue),o=ze(i.doubleValue);return s===o?Dc(s)===Dc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ea(t.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(NF(s)!==NF(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!wr(s[a],o[a])))return!1;return!0}(t,e);default:return O()}var i}function bc(t,e){return void 0!==(t.values||[]).find(n=>wr(n,e))}function ki(t,e){if(t===e)return 0;const n=Ni(t),r=Ni(e);if(n!==r)return q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return q(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ze(i.integerValue||i.doubleValue),a=ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return OF(t.timestampValue,e.timestampValue);case 4:return OF(Tc(t),Tc(e));case 5:return q(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Jr(i),a=Jr(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=q(o[u],a[u]);if(0!==c)return c}return q(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=q(ze(i.latitude),ze(s.latitude));return 0!==o?o:q(ze(i.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=ki(o[u],a[u]);if(c)return c}return q(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===xi.mapValue&&s===xi.mapValue)return 0;if(i===xi.mapValue)return 1;if(s===xi.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=q(a[l],c[l]);if(0!==d)return d;const h=ki(o[a[l]],u[c[l]]);if(0!==h)return h}return q(a.length,c.length)}(t.mapValue,e.mapValue);default:throw O()}}function OF(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return q(t,e);const n=Mi(t),r=Mi(e),i=q(n.seconds,r.seconds);return 0!==i?i:q(n.nanos,r.nanos)}function na(t){return LD(t)}function LD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Mi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Jr(t.bytesValue).toBase64():"referenceValue"in t?M.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=LD(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${LD(r.fields[a])}`;return s+"}"}(t.mapValue):O();var e}function VD(t){return!!t&&"integerValue"in t}function Cc(t){return!!t&&"arrayValue"in t}function FF(t){return!!t&&"nullValue"in t}function LF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function _f(t){return!!t&&"mapValue"in t}function Sc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ai(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function VF(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Nt{constructor(e){this.value=e}static empty(){return new Nt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!_f(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(n)}setAll(e){let n=Ye.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Sc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());_f(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];_f(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ai(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Nt(Sc(this.value))}}class Se{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Se(e,0,V.min(),V.min(),V.min(),Nt.empty(),0)}static newFoundDocument(e,n,r,i){return new Se(e,1,n,V.min(),r,i,0)}static newNoDocument(e,n){return new Se(e,2,n,V.min(),V.min(),Nt.empty(),0)}static newUnknownDocument(e,n){return new Se(e,3,n,V.min(),V.min(),Nt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(V.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Se&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Se(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ri{constructor(e,n){this.position=e,this.inclusive=n}}function jF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?M.comparator(M.fromName(o.referenceValue),n.key):ki(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function GF(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wr(t.position[n],e.position[n]))return!1;return!0}class ra{constructor(e,n="asc"){this.field=e,this.dir=n}}function jte(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class HF{}class se extends HF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Gte(e,n,r):"array-contains"===n?new qte(e,r):"in"===n?new YF(e,r):"not-in"===n?new Wte(e,r):"array-contains-any"===n?new Kte(e,r):new se(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Hte(e,r):new zte(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(ki(n,this.value)):null!==n&&Ni(this.value)===Ni(n)&&this.matchesComparison(ki(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ye extends HF{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new ye(e,n)}matches(e){return ia(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ia(t){return"and"===t.op}function UD(t){return function zF(t){for(const e of t.filters)if(e instanceof ye)return!1;return!0}(t)&&ia(t)}function $D(t){if(t instanceof se)return t.field.canonicalString()+t.op.toString()+na(t.value);if(UD(t))return t.filters.map(e=>$D(e)).join(",");{const e=t.filters.map(n=>$D(n)).join(",");return`${t.op}(${e})`}}function qF(t,e){return t instanceof se?(n=t,(r=e)instanceof se&&n.op===r.op&&n.field.isEqual(r.field)&&wr(n.value,r.value)):t instanceof ye?function(n,r){return r instanceof ye&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&qF(s,r.filters[o]),!0)}(t,e):void O();var n,r}function KF(t){return t instanceof se?function(e){return`${e.field.canonicalString()} ${e.op} ${na(e.value)}`}(t):t instanceof ye?function(e){return e.op.toString()+" {"+e.getFilters().map(KF).join(" ,")+"}"}(t):"Filter"}class Gte extends se{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.matchesComparison(n)}}class Hte extends se{constructor(e,n){super(e,"in",n),this.keys=QF(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zte extends se{constructor(e,n){super(e,"not-in",n),this.keys=QF(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QF(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class qte extends se{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cc(n)&&bc(n.arrayValue,this.value)}}class YF extends se{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&bc(this.value.arrayValue,n)}}class Wte extends se{constructor(e,n){super(e,"not-in",n)}matches(e){if(bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!bc(this.value.arrayValue,n)}}class Kte extends se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>bc(this.value.arrayValue,r))}}class Qte{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function jD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Qte(t,e,n,r,i,s,o)}function Ms(t){const e=x(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$D(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ec(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>na(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>na(r)).join(",")),e.dt=n}return e.dt}function Ac(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jte(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!GF(t.startAt,e.startAt)&&GF(t.endAt,e.endAt)}function vf(t){return M.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Xr{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null}}function sa(t){return new Xr(t)}function eL(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function xs(t){const e=x(t);if(null===e.wt){e.wt=[];const n=function If(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function GD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new ra(n)),e.wt.push(new ra(Ye.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ra(Ye.keyField(),s))}}}return e.wt}function en(t){const e=x(t);if(!e._t)if("F"===e.limitType)e._t=jD(e.path,e.collectionGroup,xs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of xs(e))n.push(new ra(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ri(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ri(e.startAt.position,e.startAt.inclusive):null;e._t=jD(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function Ef(t,e,n){return new Xr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mc(t,e){return Ac(en(t),en(e))&&t.limitType===e.limitType}function tL(t){return`${Ms(en(t))}|lt:${t.limitType}`}function qD(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>KF(r)).join(", ")}]`),Ec(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>na(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>na(r)).join(",")),`Target(${n})`}(en(t))}; limitType=${t.limitType})`}function xc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of xs(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=jF(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,xs(n),r)||n.endAt&&!function(i,s,o){const a=jF(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,xs(n),r)));var n,r}function rL(t){return(e,n)=>{let r=!1;for(const i of xs(t)){const s=Yte(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Yte(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?ki(a,u):O()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return O()}}class Zr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ai(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function kF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const Jte=new De(M.comparator);function gn(){return Jte}const iL=new De(M.comparator);function Nc(...t){let e=iL;for(const n of t)e=e.insert(n.key,n);return e}function sL(t){let e=iL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ir(){return kc()}function oL(){return kc()}function kc(){return new Zr(t=>t.toString(),(t,e)=>t.isEqual(e))}new De(M.comparator);const Zte=new Ce(M.comparator);function Z(...t){let e=Zte;for(const n of t)e=e.add(n);return e}const ene=new Ce(q);class Df{constructor(){this._=void 0}}function tne(t,e,n){return t instanceof oa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&pf(i)&&(i=gf(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Ns?dL(t,e):t instanceof ks?hL(t,e):function(r,i){const s=function lL(t,e){return t instanceof aa?VD(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}(r,i),o=fL(s)+fL(r.gt);return VD(s)&&VD(r.gt)?function uL(t){return{integerValue:""+t}}(o):function aL(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(e)?"-0":e}}(r.serializer,o)}(t,e)}function nne(t,e,n){return t instanceof Ns?dL(t,e):t instanceof ks?hL(t,e):n}class oa extends Df{}class Ns extends Df{constructor(e){super(),this.elements=e}}function dL(t,e){const n=pL(e);for(const r of t.elements)n.some(i=>wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ks extends Df{constructor(e){super(),this.elements=e}}function hL(t,e){let n=pL(e);for(const r of t.elements)n=n.filter(i=>!wr(i,r));return{arrayValue:{values:n}}}class aa extends Df{constructor(e,n){super(),this.serializer=e,this.gt=n}}function fL(t){return ze(t.integerValue||t.doubleValue)}function pL(t){return Cc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ne{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ne}static exists(e){return new Ne(void 0,e)}static updateTime(e){return new Ne(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class KD{}function gL(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ca(t.key,Ne.none()):new ua(t.key,t.data,Ne.none());{const n=t.data,r=Nt.empty();let i=new Ce(Ye.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ei(t.key,r,new pn(i.toArray()),Ne.none())}}function sne(t,e,n){t instanceof ua?function(r,i,s){const o=r.value.clone(),a=_L(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ei?function(r,i,s){if(!Tf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=_L(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(yL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Pc(t,e,n,r){return t instanceof ua?function(i,s,o,a){if(!Tf(i.precondition,s))return o;const u=i.value.clone(),c=vL(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ei?function(i,s,o,a){if(!Tf(i.precondition,s))return o;const u=vL(i.fieldTransforms,a,s),c=s.data;return c.setAll(yL(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Tf(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function mL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&ea(n,r,(i,s)=>function rne(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Ns&&r instanceof Ns||n instanceof ks&&r instanceof ks?ea(n.elements,r.elements,wr):n instanceof aa&&r instanceof aa?wr(n.gt,r.gt):n instanceof oa&&r instanceof oa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class ua extends KD{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ei extends KD{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function yL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function _L(t,e,n){const r=new Map;L(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,nne(o,a,n[i]))}return r}function vL(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,tne(s,o,e))}return r}class ca extends KD{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&sne(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=oL();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=gL(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(V.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Z())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(n,r)=>mL(n,r))&&ea(this.baseMutations,e.baseMutations,(n,r)=>mL(n,r))}}class XD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class une{constructor(e,n){this.count=e,this.unchangedNames=n}}var it,ce;function IL(t){if(void 0===t)return Qe("GRPC error has no .code"),w.UNKNOWN;switch(t){case it.OK:return w.OK;case it.CANCELLED:return w.CANCELLED;case it.UNKNOWN:return w.UNKNOWN;case it.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case it.INTERNAL:return w.INTERNAL;case it.UNAVAILABLE:return w.UNAVAILABLE;case it.UNAUTHENTICATED:return w.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case it.NOT_FOUND:return w.NOT_FOUND;case it.ALREADY_EXISTS:return w.ALREADY_EXISTS;case it.PERMISSION_DENIED:return w.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case it.ABORTED:return w.ABORTED;case it.OUT_OF_RANGE:return w.OUT_OF_RANGE;case it.UNIMPLEMENTED:return w.UNIMPLEMENTED;case it.DATA_LOSS:return w.DATA_LOSS;default:return O()}}(ce=it||(it={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";class ZD{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return bf}static getOrCreateInstance(){return null===bf&&(bf=new ZD),bf}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let bf=null;const cne=new Xo([4294967295,4294967295],0);function DL(t){const e=function EL(){return new TextEncoder}().encode(t),n=new ite;return n.update(e),new Uint8Array(n.digest())}function TL(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Xo([n,r],0),new Xo([i,s],0)]}class eT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oc(`Invalid padding: ${n}`);if(r<0)throw new Oc(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Oc(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Oc(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Xo.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Xo.fromNumber(r)));return 1===i.compare(cne)&&(i=new Xo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=DL(e),[r,i]=TL(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new eT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.It)return;const n=DL(e),[r,i]=TL(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fc(V.min(),i,new De(q),gn(),Z())}}class Lc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lc(r,n,Z(),Z(),Z())}}class Cf{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class bL{constructor(e,n){this.targetId=e,this.Vt=n}}class CL{constructor(e,n,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class SL{constructor(){this.St=0,this.Dt=ML(),this.Ct=pt.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Z(),n=Z(),r=Z();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:O()}}),new Lc(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=ML()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class lne{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=gn(),this.zt=AL(),this.Wt=new De(q)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:O()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(vf(o))if(0===i){const a=new M(o.path);this.Yt(r,a,Se.newNoDocument(a,V.min()))}else L(1===i);else{const a=this.ie(r);if(a!==i){const u=this.re(e,a);0!==u&&(this.ee(r),this.Wt=this.Wt.insert(r,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=ZD.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(c,l,d){var h,f,p,g,m,I;const _={localCacheCount:l,existenceFilterCount:d.count},D=d.unchangedNames;return D&&(_.bloomFilter={applied:0===c,hashCount:null!==(h=D?.hashCount)&&void 0!==h?h:0,bitmapLength:null!==(g=null===(p=null===(f=D?.bits)||void 0===f?void 0:f.bitmap)||void 0===p?void 0:p.length)&&void 0!==g?g:0,padding:null!==(I=null===(m=D?.bits)||void 0===m?void 0:m.padding)&&void 0!==I?I:0}),_}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Jr(s).toUint8Array()}catch(l){if(l instanceof PF)return Qn("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{c=new eT(u,o,a)}catch(l){return Qn(l instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return 0===c.It?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&vf(a.target)){const u=new M(a.target.path);null!==this.jt.get(u)||this.ae(o,u)||this.Yt(o,u,Se.newNoDocument(u,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Z();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Fc(e,n,this.Wt,this.jt,r);return this.jt=gn(),this.zt=AL(),this.Wt=new De(q),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new SL,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Ce(q),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||b("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new SL),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function AL(){return new De(M.comparator)}function ML(){return new De(M.comparator)}const dne={asc:"ASCENDING",desc:"DESCENDING"},hne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fne={and:"AND",or:"OR"};class pne{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tT(t,e){return t.useProto3Json||Ec(e)?e:{value:e}}function Je(t){return L(!!t),V.fromTimestamp(function(e){const n=Mi(e);return new Ve(n.seconds,n.nanos)}(t))}function NL(t){const e=ue.fromString(t);return L(UL(e)),e}function Er(t,e){const n=NL(e);if(n.get(1)!==t.databaseId.projectId)throw new T(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(RL(n))}function rT(t,e){return function nT(t,e){return(n=t,new ue(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}(t.databaseId,e)}function Bc(t){return new ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RL(t){return L(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function FL(t,e){return{documents:[rT(t,e.path)]}}function sT(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=rT(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=rT(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return BL(ye.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Pi((l=c).field),direction:wne(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=tT(t,e.limit);var a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function LL(t){let e=function kL(t){const e=NL(t);return 4===e.length?ue.emptyPath():RL(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){L(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=VL(l);return d instanceof ye&&UD(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new ra(da((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Ec(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Ri((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Ri(l.values||[],!l.before)}(n.endAt)),function ZF(t,e,n,r,i,s,o,a){return new Xr(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function VL(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=da(e.unaryFilter.field);return se.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=da(e.unaryFilter.field);return se.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=da(e.unaryFilter.field);return se.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=da(e.unaryFilter.field);return se.create(s,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):void 0!==t.fieldFilter?function(e){return se.create(da(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(e){return ye.create(e.compositeFilter.filters.map(n=>VL(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(t):O()}function wne(t){return dne[t]}function Ine(t){return hne[t]}function Ene(t){return fne[t]}function Pi(t){return{fieldPath:t.canonicalString()}}function da(t){return Ye.fromServerFormat(t.fieldPath)}function BL(t){return t instanceof se?function(e){if("=="===e.op){if(LF(e.value))return{unaryFilter:{field:Pi(e.field),op:"IS_NAN"}};if(FF(e.value))return{unaryFilter:{field:Pi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(LF(e.value))return{unaryFilter:{field:Pi(e.field),op:"IS_NOT_NAN"}};if(FF(e.value))return{unaryFilter:{field:Pi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pi(e.field),op:Ine(e.op),value:e.value}}}(t):t instanceof ye?function(e){const n=e.getFilters().map(r=>BL(r));return 1===n.length?n[0]:{compositeFilter:{op:Ene(e.op),filters:n}}}(t):O()}function UL(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class ti{constructor(e,n,r,i,s=V.min(),o=V.min(),a=pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $L{constructor(e){this.fe=e}}function oT(t){const e=LL({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ef(e,e.limit,"L"):e}class Fs{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(ze(e.integerValue));else if("doubleValue"in e){const r=ze(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),Dc(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Jr(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?VF(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):O()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),M.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Fs.Ve=new Fs;class kne{constructor(){this.rn=new hT}addToCollectionParentIndex(e,n){return this.rn.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(bn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(bn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class hT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ce(ue.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ce(ue.comparator)).toArray()}}new Uint8Array(0);class Ht{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ht(e,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ht.DEFAULT_COLLECTION_PERCENTILE=10,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ht.DEFAULT=new Ht(41943040,Ht.DEFAULT_COLLECTION_PERCENTILE,Ht.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ht.DISABLED=new Ht(-1,0,0);class Vs{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Vs(0)}static Mn(){return new Vs(-1)}}class Vne{constructor(){this.changes=new Zr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Se.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $ne{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class fV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Pc(r.mutation,i,pn.empty(),Ve.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Z()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Z()){const i=Ir();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Nc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ir();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Z()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gn();const o=kc(),a=kc();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof ei)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Pc(l.mutation,c,l.mutation.getFieldMask(),Ve.now())):o.set(c.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new $ne(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=kc();let i=new De((o,a)=>o-a),s=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||pn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||Z()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=oL();l.forEach(h=>{if(!s.has(h)){const f=gL(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return M.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function HD(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(Ir());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Z())).next(l=>({batchId:a,changes:sL(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Nc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=Nc();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new Xr(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,u)=>{const c=u.getKey();null===s.get(c)&&(s=s.insert(c,Se.newInvalidDocument(c)))});let o=Nc();return s.forEach((a,u)=>{const c=i.get(a);void 0!==c&&Pc(c.mutation,u,pn.empty(),Ve.now()),xc(n,u)&&(o=o.insert(a,u))}),o})}}class jne{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return v.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Je(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:oT(r.bundledQuery),readTime:Je(r.readTime)}),v.resolve();var r}}class Gne{constructor(){this.overlays=new De(M.comparator),this.ls=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ir();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Ir(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new De((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Ir(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Ir(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new XD(n,r));let s=this.ls.get(n);void 0===s&&(s=Z(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}class fT{constructor(){this.fs=new Ce(Dt.ds),this.ws=new Ce(Dt._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Dt(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Dt(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new M(new ue([])),r=new Dt(n,e),i=new Dt(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new M(new ue([])),r=new Dt(n,e),i=new Dt(n,e+1);let s=Z();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Dt(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Dt{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return M.comparator(e.key,n.key)||q(e.As,n.As)}static _s(e,n){return q(e.As,n.As)||M.comparator(e.key,n.key)}}class Hne{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Ce(Dt.ds)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++;const o=new YD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new Dt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dt(n,0),i=new Dt(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ce(q);return n.forEach(i=>{const s=new Dt(i,0),o=new Dt(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),v.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new Dt(new M(s),0);let a=new Ce(q);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.As)),!0)},o),v.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){L(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return v.forEach(n.mutations,i=>{const s=new Dt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Dt(n,0),i=this.Rs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class zne{constructor(e){this.Ds=e,this.docs=new De(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Se.newInvalidDocument(n))}getEntries(e,n){let r=gn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Se.newInvalidDocument(i))}),v.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gn();const o=n.path,a=new M(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||RD(IF(l),r)<=0||(i.has(l.key)||xc(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return v.resolve(s)}getAllFromCollectionGroup(e,n,r,i){O()}Cs(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new qne(this)}getSize(e){return v.resolve(this.size)}}class qne extends Vne{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class Wne{constructor(e){this.persistence=e,this.xs=new Zr(n=>Ms(n),Ac),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Ns=0,this.ks=new fT,this.targetCount=0,this.Ms=Vs.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),v.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Vs(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Fn(n),v.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.ks.containsKey(n))}}class pT{constructor(e,n){this.$s={},this.overlays={},this.Os=new Cn(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Wne(this),this.indexManager=new kne,this.remoteDocumentCache=new zne(r=>this.referenceDelegate.Ls(r)),this.serializer=new $L(n),this.qs=new jne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Gne,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new Hne(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const i=new Kne(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return v.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class Kne extends gte{constructor(e){super(),this.currentSequenceNumber=e}}class Of{constructor(e){this.persistence=e,this.Qs=new fT,this.js=null}static zs(e){return new Of(e)}get Ws(){if(this.js)return this.js;throw O()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),v.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ws,r=>{const i=M.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,V.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return v.or([()=>v.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class _T{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Z(),i=Z();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _T(e,n.fromCache,r,i)}}class gV{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(eL(n))return v.resolve(null);let r=en(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=Ef(n,null,"F"),r=en(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Z(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Ef(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,i){return eL(n)||i.isEqual(V.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):(xD()<=H.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qD(n)),this.Wi(e,o,n,function wF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=V.fromTimestamp(1e9===r?new Ve(n+1,0):new Ve(n,r));return new bn(i,M.empty(),e)}(i,-1)))})}ji(e,n){let r=new Ce(rL(e));return n.forEach((i,s)=>{xc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return xD()<=H.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",qD(n)),this.Ui.getDocumentsMatchingQuery(e,n,bn.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Yne{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new De(q),this.Yi=new Zr(s=>Ms(s),Ac),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fV(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function yV(t,e){return vT.apply(this,arguments)}function vT(){return vT=y(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=Z();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}),vT.apply(this,arguments)}function _V(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function ga(t,e,n){return wT.apply(this,arguments)}function wT(){return wT=y(function*(t,e,n){const r=x(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Si(o))throw o;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),wT.apply(this,arguments)}function Vf(t,e,n){const r=x(t);let i=V.min(),s=Z();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.Yi.get(c);return void 0!==d?v.resolve(l.Ji.get(d)):l.Bs.getTargetData(u,c)}(r,o,en(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:V.min(),n?s:Z())).next(a=>(function EV(t,e,n){let r=t.Xi.get(e)||V.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}(r,function nL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ir:s})))}class bT{constructor(){this.activeTargetIds=function WD(){return ene}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bV{constructor(){this.Hr=new bT,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new bT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nre{Yr(e){}shutdown(){}}class CV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let $f=null;function ST(){return null===$f?$f=268435456+Math.round(2147483648*Math.random()):$f++,"0x"+$f.toString(16)}const rre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ire{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const zt="WebChannelConnection";class sre extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=ST(),a=this.To(e,n);b("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,i,s),this.Ao(e,a,u,r).then(c=>(b("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw Qn("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){return`${this.mo}/v1/${n}:${rre[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=ST();return new Promise((o,a)=>{const u=new rte;u.setWithCredentials(!0),u.listenOnce(ete.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case MD.NO_ERROR:const l=u.getResponseJson();b(zt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case MD.TIMEOUT:b(zt,`RPC '${e}' ${s} timed out`),a(new T(w.DEADLINE_EXCEEDED,"Request time out"));break;case MD.HTTP_ERROR:const d=u.getStatus();if(b(zt,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(m)>=0?m:w.UNKNOWN}(f.status);a(new T(p,f.message))}else a(new T(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new T(w.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{b(zt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);b(zt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const i=ST(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Xee(),a=Zee(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new nte({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const l=s.join("");b(zt,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new ire({ro:m=>{f?b(zt,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(b(zt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),b(zt,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,I,_)=>{m.listen(I,D=>{try{_(D)}catch(P){setTimeout(()=>{throw P},0)}})};return g(d,uf.EventType.OPEN,()=>{f||b(zt,`RPC '${e}' stream ${i} transport opened.`)}),g(d,uf.EventType.CLOSE,()=>{f||(f=!0,b(zt,`RPC '${e}' stream ${i} transport closed`),p.wo())}),g(d,uf.EventType.ERROR,m=>{f||(f=!0,Qn(zt,`RPC '${e}' stream ${i} transport errored:`,m),p.wo(new T(w.UNAVAILABLE,"The operation could not be completed")))}),g(d,uf.EventType.MESSAGE,m=>{var I;if(!f){const _=m.data[0];L(!!_);const P=_.error||(null===(I=_[0])||void 0===I?void 0:I.error);if(P){b(zt,`RPC '${e}' stream ${i} received error:`,P);const F=P.status;let te=function(ri){const ka=it[ri];if(void 0!==ka)return IL(ka)}(F),ot=P.message;void 0===te&&(te=w.INTERNAL,ot="Unknown error status: "+F+" with message "+P.message),f=!0,p.wo(new T(te,ot)),d.close()}else b(zt,`RPC '${e}' stream ${i} received:`,_),p._o(_)}}),g(a,tte.STAT_EVENT,m=>{m.stat===pF.PROXY?b(zt,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===pF.NOPROXY&&b(zt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function jf(){return typeof document<"u"?document:null}function Qc(t){return new pne(t,!0)}class AT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&b("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class ore{constructor(e,n,r,i,s,o,a,u){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new AT(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return y(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return y(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return y(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(Qe(n.toString()),Qe("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new T(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No(y(function*(){e.state=0,e.start()}))}tu(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class are extends ore{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function yne(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:O(),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(L(void 0===c||"string"==typeof c),pt.fromBase64String(c||"")):(L(void 0===c||c instanceof Uint8Array),pt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:IL(u.code);return new T(c,u.message||"")}(o);n=new CL(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Er(t,r.document.name),s=Je(r.document.updateTime),o=r.document.createTime?Je(r.document.createTime):V.min(),a=new Nt({mapValue:{fields:r.document.fields}}),u=Se.newFoundDocument(i,s,o,a);n=new Cf(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Er(t,r.document),s=r.readTime?Je(r.readTime):V.min(),o=Se.newNoDocument(i,s);n=new Cf([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Er(t,r.document);n=new Cf([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return O();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new une(i,s);n=new bL(r.targetId,o)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return V.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?V.min():s.readTime?Je(s.readTime):V.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=Bc(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=vf(a)?{documents:FL(i,a)}:{query:sT(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=function xL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}(i,s.resumeToken);const u=tT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(V.min())>0){o.readTime=function la(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(i,s.snapshotVersion.toTimestamp());const u=tT(i,s.expectedCount);null!==u&&(o.expectedCount=u)}return o}(this.serializer,e);const r=function vne(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return O()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=Bc(this.serializer),n.removeTarget=e,this.Wo(n)}}class cre extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new T(w.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(w.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(w.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class dre{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Qe(n),this.mu=!1):b("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class hre{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(a=>{r.enqueueAndForget(y(function*(){var u;Vi(o)&&(b("RemoteStore","Restarting streams for network reachability change."),yield(u=y(function*(c){const l=x(c);l.vu.add(4),yield ma(l),l.bu.set("Unknown"),l.vu.delete(4),yield Yc(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.bu=new dre(r,i)}}function Yc(t){return xT.apply(this,arguments)}function xT(){return xT=y(function*(t){if(Vi(t))for(const e of t.Ru)yield e(!0)}),xT.apply(this,arguments)}function ma(t){return NT.apply(this,arguments)}function NT(){return NT=y(function*(t){for(const e of t.Ru)yield e(!1)}),NT.apply(this,arguments)}function Gf(t,e){const n=x(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),PT(n)?RT(n):_a(n).Ko()&&kT(n,e))}function Jc(t,e){const n=x(t),r=_a(n);n.Au.delete(e),r.Ko()&&AV(n,e),0===n.Au.size&&(r.Ko()?r.jo():Vi(n)&&n.bu.set("Unknown"))}function kT(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(V.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_a(t).su(e)}function AV(t,e){t.Vu.qt(e),_a(t).iu(e)}function RT(t){t.Vu=new lne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),_a(t).start(),t.bu.gu()}function PT(t){return Vi(t)&&!_a(t).Uo()&&t.Au.size>0}function Vi(t){return 0===x(t).vu.size}function MV(t){t.Vu=void 0}function fre(t){return OT.apply(this,arguments)}function OT(){return OT=y(function*(t){t.Au.forEach((e,n)=>{kT(t,e)})}),OT.apply(this,arguments)}function pre(t,e){return FT.apply(this,arguments)}function FT(){return FT=y(function*(t,e){MV(t),PT(t)?(t.bu.Iu(e),RT(t)):t.bu.set("Unknown")}),FT.apply(this,arguments)}function gre(t,e,n){return LT.apply(this,arguments)}function LT(){return LT=y(function*(t,e,n){if(t.bu.set("Online"),e instanceof CL&&2===e.state&&e.cause)try{yield(r=y(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.Au.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.Au.delete(a),i.Vu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Hf(t,r)}else if(e instanceof Cf?t.Vu.Ht(e):e instanceof bL?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(V.min()))try{const r=yield _V(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.Au.get(u);c&&i.Au.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,u)=>{const c=i.Au.get(a);if(!c)return;i.Au.set(a,c.withResumeToken(pt.EMPTY_BYTE_STRING,c.snapshotVersion)),AV(i,a);const l=new ti(c.target,a,u,c.sequenceNumber);kT(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){b("RemoteStore","Failed to raise snapshot:",r),yield Hf(t,r)}var r}),LT.apply(this,arguments)}function Hf(t,e,n){return VT.apply(this,arguments)}function VT(){return VT=y(function*(t,e,n){if(!Si(e))throw e;t.vu.add(1),yield ma(t),t.bu.set("Offline"),n||(n=()=>_V(t.localStore)),t.asyncQueue.enqueueRetryable(y(function*(){b("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield Yc(t)}))}),VT.apply(this,arguments)}function RV(t,e){return HT.apply(this,arguments)}function HT(){return HT=y(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const r=Vi(n);n.vu.add(3),yield ma(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield Yc(n)}),HT.apply(this,arguments)}function qT(){return qT=y(function*(t,e){const n=x(t);e?(n.vu.delete(2),yield Yc(n)):e||(n.vu.add(2),yield ma(n),n.bu.set("Unknown"))}),qT.apply(this,arguments)}function _a(t){return t.Su||(t.Su=function(e,n,r){const i=x(e);return i.fu(),new are(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:fre.bind(null,t),ao:pre.bind(null,t),nu:gre.bind(null,t)}),t.Ru.push(function(){var e=y(function*(n){n?(t.Su.Qo(),PT(t)?RT(t):t.bu.set("Unknown")):(yield t.Su.stop(),MV(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}class WT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new WT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function va(t,e){if(Qe("AsyncQueue",`${e}: ${t}`),Si(t))return new T(w.UNAVAILABLE,`${e}: ${t}`);throw t}class wa{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Nc(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new wa(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new wa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class PV{constructor(){this.Cu=new De(M.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):O():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ia{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ia(e,n,wa.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Ere{constructor(){this.Nu=void 0,this.listeners=[]}}class Dre{constructor(){this.queries=new Zr(e=>tL(e),Mc),this.onlineState="Unknown",this.ku=new Set}}function QT(){return QT=y(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Ere),i)try{s.Nu=yield n.onListen(r)}catch(o){const a=va(o,`Initialization of query '${qD(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&XT(n)}),QT.apply(this,arguments)}function JT(){return JT=y(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),JT.apply(this,arguments)}function Tre(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&XT(n)}function bre(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function XT(t){t.ku.forEach(e=>{e.next()})}class ZT{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class LV{constructor(e){this.key=e}}class VV{constructor(e){this.key=e}}class BV{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Z(),this.mutatedKeys=Z(),this.tc=rL(e),this.ec=new wa(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new PV,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=xc(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.rc(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.tc(f,u)>0||c&&this.tc(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return f(d)-f(h)}(c.type,l.type)||this.tc(c.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=0===this.Zu.size&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,0!==s.length||u?{snapshot:new Ia(this.query,e.ec,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new PV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Z(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new VV(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new LV(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Z();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Ia.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Are{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Mre{constructor(e){this.key=e,this.fc=!1}}class xre{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Zr(a=>tL(a),Mc),this._c=new Map,this.mc=new Set,this.gc=new De(M.comparator),this.yc=new Map,this.Ic=new fT,this.Tc={},this.Ec=new Map,this.Ac=Vs.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Nre(t,e){return eb.apply(this,arguments)}function eb(){return eb=y(function*(t,e){const n=function Db(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ure.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pre.bind(null,e),e.dc.nu=Tre.bind(null,e.eventManager),e.dc.Pc=bre.bind(null,e.eventManager),e}(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=yield function pa(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new ti(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,en(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function tb(t,e,n,r,i){return nb.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken),n.isPrimaryClient&&Gf(n.remoteStore,o)}return i}),eb.apply(this,arguments)}function nb(){return nb=y(function*(t,e,n,r,i){t.Rc=(d,h,f)=>{return(p=y(function*(g,m,I,_){let D=m.view.sc(I);D.zi&&(D=yield Vf(g.localStore,m.query,!1).then(({documents:te})=>m.view.sc(te,D)));const P=_&&_.targetChanges.get(m.targetId),F=m.view.applyChanges(D,g.isPrimaryClient,P);return hb(g,m.targetId,F.cc),F.snapshot}),function(g,m,I,_){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Vf(t.localStore,e,!0),o=new BV(e,s.ir),a=o.sc(s.documents),u=Lc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);hb(t,n,c.cc);const l=new Are(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}),nb.apply(this,arguments)}function kre(t,e){return rb.apply(this,arguments)}function rb(){return rb=y(function*(t,e){const n=x(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Mc(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ga(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Jc(n.remoteStore,r.targetId),Ea(n,r.targetId)}).catch(Ci))):(Ea(n,r.targetId),yield ga(n.localStore,r.targetId,!0))}),rb.apply(this,arguments)}function UV(t,e){return sb.apply(this,arguments)}function sb(){return sb=y(function*(t,e){const n=x(t);try{const r=yield function Xne(t,e){const n=x(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,m;null!==e.targetMismatches.get(d)?f=f.withResumeToken(pt.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,m=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0)&&a.push(n.Bs.updateTargetData(s,f))});let u=gn(),c=Z();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function vV(t,e,n){let r=Z(),i=Z();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(V.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:i}})}(s,o,e.documentUpdates).next(l=>{u=l.nr,c=l.sr})),!r.isEqual(V.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ji=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(L(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?L(o.fc):i.removedDocuments.size>0&&(L(o.fc),o.fc=!1))}),yield ni(n,r,e)}catch(r){yield Ci(r)}}),sb.apply(this,arguments)}function $V(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Mu(o)&&(u=!0)}),u&&XT(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Pre(t,e,n){return ob.apply(this,arguments)}function ob(){return ob=y(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new De(M.comparator);o=o.insert(s,Se.newNoDocument(s,V.min()));const a=Z().add(s),u=new Fc(V.min(),new Map,new De(q),o,a);yield UV(r,u),r.gc=r.gc.remove(s),r.yc.delete(e),fb(r)}else yield ga(r.localStore,e,!1).then(()=>Ea(r,e,n)).catch(Ci)}),ob.apply(this,arguments)}function Ea(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||jV(t,r)})}function jV(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(Jc(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),fb(t))}function hb(t,e,n){for(const r of n)r instanceof LV?(t.Ic.addReference(r.key,e),Vre(t,r)):r instanceof VV?(b("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||jV(t,r.key)):O()}function Vre(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(b("SyncEngine","New document in limbo: "+n),t.mc.add(r),fb(t))}function fb(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new M(ue.fromString(e)),r=t.Ac.next();t.yc.set(r,new Mre(n)),t.gc=t.gc.insert(n,r),Gf(t.remoteStore,new ti(en(sa(n.path)),r,"TargetPurposeLimboResolution",Cn.ct))}}function ni(t,e,n){return pb.apply(this,arguments)}function pb(){return pb=y(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=_T.Li(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.dc.nu(i),yield(a=y(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Fi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Bi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Si(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.Ji.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.Ji=l.Ji.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),pb.apply(this,arguments)}function Bre(t,e){return gb.apply(this,arguments)}function gb(){return gb=y(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());const r=yield yV(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(o=>{o.forEach(a=>{a.reject(new T(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ni(n,r.er)}var i}),gb.apply(this,arguments)}function Ure(t,e){const n=x(t),r=n.yc.get(e);if(r&&r.fc)return Z().add(r.key);{let i=Z();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}class zf{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return y(function*(){n.serializer=Qc(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function mV(t,e,n,r){return new Yne(t,e,n,r)}(this.persistence,new gV,e.initialUser,this.serializer)}createPersistence(e){return new pT(Of.zs,this.serializer)}createSharedClientState(e){return new bV}terminate(){var e=this;return y(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Da{initialize(e,n){var r=this;return y(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>$V(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Bre.bind(null,r.syncEngine),yield function zT(t,e){return qT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Dre}createDatastore(e){const n=Qc(e.databaseInfo.databaseId),r=new sre(e.databaseInfo);return new cre(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>$V(this.syncEngine,a,0),o=CV.D()?new CV:new nre,new hre(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new xre(r,i,s,o,a,u);return c&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return function(){var e=y(function*(n){const r=x(n);b("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield ma(r),r.Pu.shutdown(),r.bu.set("Unknown")});return function(n){return e.apply(this,arguments)}}()(this.remoteStore)}}class qf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Qe("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Zre{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=It.UNAUTHENTICATED,this.clientId=_F.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=y(function*(a){b("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(b("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return y(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(y(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=va(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Wf(t,e){return bb.apply(this,arguments)}function bb(){return bb=y(function*(t,e){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=y(function*(s){r.isEqual(s)||(yield yV(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),bb.apply(this,arguments)}function Cb(t,e){return Sb.apply(this,arguments)}function Sb(){return Sb=y(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function Ab(t){return Mb.apply(this,arguments)}(t);b("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>RV(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>RV(e.remoteStore,s)),t._onlineComponents=e}),Sb.apply(this,arguments)}function Mb(){return Mb=y(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Wf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function KV(t){return"FirebaseError"===t.name?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Qn("Error using user provided cache. Falling back to memory cache: "+n),yield Wf(t,new zf)}}else b("FirestoreClient","Using default OfflineComponentProvider"),yield Wf(t,new zf);return t._offlineComponents}),Mb.apply(this,arguments)}function xb(){return xb=y(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),yield Cb(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),yield Cb(t,new Da))),t._onlineComponents}),xb.apply(this,arguments)}function Ta(t){return kb.apply(this,arguments)}function kb(){return kb=y(function*(t){const e=yield function Kf(t){return xb.apply(this,arguments)}(t),n=e.eventManager;return n.onListen=Nre.bind(null,e.syncEngine),n.onUnlisten=kre.bind(null,e.syncEngine),n}),kb.apply(this,arguments)}function e2(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const t2=new Map;function r2(t){if(M.isDocumentKey(t))throw new T(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function Yf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":O()}(t);throw new T(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class s2{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new T(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function uie(t,e,n,r){if(!0===e&&!0===r)throw new T(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=e2(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new T(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new T(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new T(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s2(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new ste;switch(n.type){case"firstParty":return new cte(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new T(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=t2.get(e);n&&(b("ComponentProvider","Removing Datastore"),t2.delete(e),n.terminate())}(this),Promise.resolve()}}class Xe{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xe(this.firestore,e,this._key)}}class kt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kt(this.firestore,e,this._query)}}class Dr extends kt{constructor(e,n,r){super(e,n,sa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xe(this.firestore,null,new M(e))}withConverter(e){return new Dr(this.firestore,e,this._path)}}class hie{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new AT(this,"async_queue_retry"),this.Xc=()=>{const n=jf();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=jf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=jf();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ft;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return y(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Si(n))throw n;b("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Qe("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=WT.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&O()}verifyOperationInProgress(){}sa(){var e=this;return y(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function Pb(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Ae extends Xc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new hie,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||a2(this),this._firestoreClient.terminate()}}function pie(t,e){const r="string"==typeof t?t:e||"(default)",i=sh("object"==typeof t?t:l1(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(t=>{const e=(t=>{var e,n;return null===(n=null===(e=eh())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]})(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");s&&function cie(t,e,n,r={}){var i;const s=(t=oe(t,Xc))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Qn("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=It.MOCK_USER;else{o=function X5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xd(JSON.stringify({alg:"none",type:"JWT"})),Xd(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new T(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new It(u)}t._authCredentials=new ote(new mF(o,a))}}(i,...s)}return i}function a2(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Bte(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,e2(c.experimentalLongPollingOptions),c.useFetchStreams));var a,c;t._firestoreClient=new Zre(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Us(pt.fromBase64String(e))}catch(n){throw new T(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Us(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ba{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ob{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return q(this._lat,e._lat)||q(this._long,e._long)}}const Eie=new RegExp("[~\\*/\\[\\]]");function Zf(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(w.INVALID_ARGUMENT,a+t+u)}class Bb{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Die(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ep("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Die extends Bb{data(){return super.data()}}function ep(t,e){return"string"==typeof e?function Xf(t,e,n){if(e.search(Eie)>=0)throw Zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ba(...e.split("."))._internalPath}catch{throw Zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}(t,e):e instanceof ba?e._internalPath:e._delegate._internalPath}class bie{convertValue(e,n="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw O()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ai(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Ob(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=gf(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=Mi(e);return new Ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ue.fromString(e);L(UL(r));const i=new Ss(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||Qe(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class js{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends Bb{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ep("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ip extends Aa{data(e={}){return super.data(e)}}class Ma{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new js(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ip(this._firestore,this._userDataWriter,r.key,r,new js(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new ip(r._firestore,r._userDataWriter,o.doc.key,o.doc,new js(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new ip(r._firestore,r._userDataWriter,o.doc.key,o.doc,new js(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Sie(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Sie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}class Ui extends bie{constructor(e){super(),this.firestore=e}convertBytes(e){return new Us(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xe(this.firestore,null,n)}}!function(t,e=!0){Zo=Ou,Jt(new Ut("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Ae(new ate(n.getProvider("auth-internal")),new lte(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ss(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ke(gF,"3.12.1",t),Ke(gF,"3.12.1","esm2017")}();var Uie={includeMetadataChanges:!1};function Gb(t,e){return void 0===e&&(e=Uie),new at(function(n){var r=function Aie(t,...e){var n,r,i;t=mi(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||Pb(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(Pb(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Xe)c=oe(t.firestore,Ae),l=sa(t._key.path),u={next:d=>{e[o]&&e[o](function jb(t,e,n){const r=n.docs.get(e._key),i=new Ui(t);return new Aa(t,i,e._key,r,new js(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=oe(t,kt);c=oe(d.firestore,Ae),l=d._query;const h=new Ui(c);u={next:f=>{e[o]&&e[o](new Ma(c,h,d,f))},error:e[o+1],complete:e[o+2]},function w2(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new T(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new qf(p),m=new ZT(h,g,f);return d.asyncQueue.enqueueAndForget(y(function*(){return function KT(t,e){return QT.apply(this,arguments)}(yield Ta(d),m)})),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(y(function*(){return function YT(t,e){return JT.apply(this,arguments)}(yield Ta(d),m)}))}}(function st(t){return t._firestoreClient||a2(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Wie(t,e){return void 0===e&&(e={}),function qie(t){return Gb(t,{includeMetadataChanges:!0}).pipe(Ks(function(e){return e.docs}))}(t).pipe(Ks(function(n){return n.map(function(r){return function A2(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class op{constructor(e){return e}}const k2="firestore",qb=new B("angularfire2.firestore-instances");function Yie(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new op(r)}}const Jie={provide:class Kie{constructor(){return hw(k2)}},deps:[[new In,qb]]},Xie={provide:op,useFactory:function Qie(t,e){const n=function dw(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(k2,t,e);return n&&new op(n)},deps:[[new In,qb],$o]};let Zie=(()=>{class t{constructor(){Ke("angularfire",rw.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xn({type:t}),t.\u0275inj=Fn({providers:[Xie,Jie]}),t})();function ese(t,...e){return{ngModule:Zie,providers:[{provide:qb,useFactory:Yie(t),multi:!0,deps:[Oe,sr,bR,CR,[new In,xP],[new In,XP],...e]}]}}const tse=fw(Wie,!0),nse=fw(pie,!0),{isArray:rse}=Array,{getPrototypeOf:ise,prototype:sse,keys:ose}=Object;const{isArray:cse}=Array;function hse(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function fse(...t){const e=function TU(t){return Me(xp(t))?t.pop():void 0}(t),{args:n,keys:r}=function ase(t){if(1===t.length){const e=t[0];if(rse(e))return{args:e,keys:null};if(function use(t){return t&&"object"==typeof t&&ise(t)===sse}(e)){const n=ose(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}(t),i=new at(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;br(n[l]).subscribe(Ws(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?hse(r,a):a),s.complete())}))}});return e?i.pipe(function dse(t){return Ks(e=>function lse(t,e){return cse(e)?t(...e):t(e)}(t,e))}(e)):i}let R2=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(C(es),C(Un))},t.\u0275dir=Q({type:t}),t})(),Gs=(()=>{class t extends R2{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Ot(t)))(r||t)}}(),t.\u0275dir=Q({type:t,features:[ge]}),t})();const Tr=new B("NgValueAccessor"),gse={provide:Tr,useExisting:ve(()=>ap),multi:!0},yse=new B("CompositionEventMode");let ap=(()=>{class t extends R2{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function mse(){const t=Mu()?Mu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(C(es),C(Un),C(yse,8))},t.\u0275dir=Q({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&xn("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[xe([gse]),ge]}),t})();const qt=new B("NgValidators"),ji=new B("NgAsyncValidators");function H2(t){return null!=t}function z2(t){return Dd(t)?BC(t):t}function q2(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function W2(t,e){return e.map(n=>n(t))}function K2(t){return t.map(e=>function vse(t){return!t.validate}(e)?e:n=>e.validate(n))}function Wb(t){return null!=t?function Q2(t){if(!t)return null;const e=t.filter(H2);return 0==e.length?null:function(n){return q2(W2(n,e))}}(K2(t)):null}function Kb(t){return null!=t?function Y2(t){if(!t)return null;const e=t.filter(H2);return 0==e.length?null:function(n){return fse(W2(n,e).map(z2)).pipe(Ks(q2))}}(K2(t)):null}function J2(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Qb(t){return t?Array.isArray(t)?t:[t]:[]}function cp(t,e){return Array.isArray(t)?t.includes(e):t===e}function eB(t,e){const n=Qb(e);return Qb(t).forEach(i=>{cp(n,i)||n.push(i)}),n}function tB(t,e){return Qb(e).filter(n=>!cp(t,n))}class nB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Wb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Kb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class tn extends nB{get formDirective(){return null}get path(){return null}}class Gi extends nB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class rB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let iB=(()=>{class t extends rB{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(C(Gi,2))},t.\u0275dir=Q({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&bd("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ge]}),t})();const il="VALID",dp="INVALID",xa="PENDING",sl="DISABLED";function hp(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class uB{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===il}get invalid(){return this.status===dp}get pending(){return this.status==xa}get disabled(){return this.status===sl}get enabled(){return this.status!==sl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(eB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(eB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(tB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(tB(e,this._rawAsyncValidators))}hasValidator(e){return cp(this._rawValidators,e)}hasAsyncValidator(e){return cp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=xa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=sl,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=il,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===il||this.status===xa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sl:il}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=xa,this._hasOwnPendingAsyncValidator=!0;const n=z2(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Bt,this.statusChanges=new Bt}_calculateStatus(){return this._allControlsDisabled()?sl:this.errors?dp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xa)?xa:this._anyControlsHaveStatus(dp)?dp:il}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Tse(t){return Array.isArray(t)?Wb(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function bse(t){return Array.isArray(t)?Kb(t):t||null}(this._rawAsyncValidators)}}const Na=new B("CallSetDisabledState",{providedIn:"root",factory:()=>fp}),fp="always";function ol(t,e,n=fp){(function tC(t,e){const n=function X2(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(J2(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function Z2(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(J2(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();mp(e._rawValidators,i),mp(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Ase(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&cB(t,e)})}(t,e),function xse(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Mse(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&cB(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Sse(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function mp(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function cB(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function hB(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function fB(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const pB=class extends uB{constructor(e=null,n,r){super(function Xb(t){return(hp(t)?t.validators:t)||null}(n),function Zb(t,e){return(hp(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=fB(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){fB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Vse={provide:Gi,useExisting:ve(()=>oC)},yB=(()=>Promise.resolve())();let oC=(()=>{class t extends Gi{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new pB,this._registered=!1,this.name="",this.update=new Bt,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function iC(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ap?n=s:function Rse(t){return Object.getPrototypeOf(t.constructor)===Gs}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function rC(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ol(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){yB.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function Ey(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);yB.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function pp(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(C(tn,9),C(qt,10),C(ji,10),C(Tr,10),C(QN,8),C(Na,8))},t.\u0275dir=Q({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[xe([Vse]),ge,xr]}),t})();const Use={provide:Tr,useExisting:ve(()=>aC),multi:!0};let aC=(()=>{class t extends Gs{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Ot(t)))(r||t)}}(),t.\u0275dir=Q({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&xn("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[xe([Use]),ge]}),t})(),_B=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xn({type:t}),t.\u0275inj=Fn({}),t})(),coe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xn({type:t}),t.\u0275inj=Fn({imports:[_B]}),t})(),doe=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Na,useValue:n.callSetDisabledState??fp}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xn({type:t}),t.\u0275inj=Fn({imports:[coe]}),t})();function hoe(t,e){if(1&t&&(Pe(0,"tr")(1,"td"),mt(2),Ue(),Pe(3,"td"),mt(4),Ue(),Pe(5,"td"),mt(6),Ue(),Pe(7,"td"),mt(8),Ue(),Pe(9,"td"),mt(10),Ue(),Pe(11,"td"),mt(12),Ue(),Pe(13,"td"),mt(14),Ue()()),2&t){const n=e.$implicit;Lt(2),Lr(n.minute),Lt(2),Lr(n.predictedColor),Lt(2),Lr(n.resultColors),Lt(2),Lr(n.result),Lt(2),Lr(n.actualGradientText),Lt(2),Lr(n.considered),Lt(2),Lr(n.consideredWin)}}function foe(t,e){if(1&t&&(Pe(0,"div",3)(1,"div",4),mt(2),Pe(3,"div"),mt(4),Ue(),Pe(5,"div"),mt(6),Ue(),Pe(7,"div"),mt(8),Ue(),Pe(9,"table")(10,"thead")(11,"tr")(12,"th"),mt(13,"Minuto"),Ue(),Pe(14,"th"),mt(15,"Previs\xe3o"),Ue(),Pe(16,"th"),mt(17,"Real"),Ue(),Pe(18,"th"),mt(19,"Resultado"),Ue(),Pe(20,"th"),mt(21,"Gradiente"),Ue()()(),Pe(22,"tbody"),Sm(23,hoe,15,7,"tr",5),Ue()()()()),2&t){const n=e.$implicit;Lt(2),Lm(" Lista ",n.listSize," (",n.inverse?"inversa":"normal",") "),Lt(2),No("Saldo: ",n.listBalance>-1?"\u{1f7e9} +"+n.listBalance:"\u{1f7e5} "+n.listBalance,""),Lt(2),No("Gradiente: ",n.listGradient>0?"\u{1f7e9} +"+n.listGradient:"\u{1f7e5} "+n.listGradient,""),Lt(2),No("Total de Sinais ",n.listElements.length,""),Lt(15),yu("ngForOf",n.listElements)}}let poe=(()=>{class t{get hour(){return this.selectedHour}set hour(n){this.selectedHour!=n&&(this.selectedHour=n,this.updateLists())}constructor(n){this.firestore=n,this.totalWinsG7=0,this.totalLoss=0,this.lists$=new at,this.selectedHour=(new Date).getHours(),this.updateLists()}updateLists(){const r=function lie(t,e,...n){if(t=mi(t),function Rb(t,e,n){if(!n)throw new T(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}("collection","path",e),t instanceof Xc){const r=ue.fromString(e,...n);return r2(r),new Dr(t,null,r)}{if(!(t instanceof Xe||t instanceof Dr))throw new T(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ue.fromString(e,...n));return r2(r),new Dr(t.firestore,null,r)}}(this.firestore,`lists/${this.getDateStringFormatted(new Date)}_${this.selectedHour}/inside-lists`);this.lists$=tse(r),this.lists$=this.lists$.pipe(Ks(i=>{if(i.length>1){this.totalWinsG7=0,this.totalLoss=0;let s=-1;for(let o=0;o<i[0].listElements.length;o++){const a=[i[0].listElements[o],i[0].listElements[o-1],i[0].listElements[o-2]],u=[i[1].listElements[o],i[1].listElements[o-1],i[1].listElements[o-2]],c=a[0],l=u[0];if(c.consideredWin="",l.consideredWin="",s>-1&&(""==i[s].listElements[o].result?i[s].listElements[o].consideredWin="\u{1f556}":"\u274c"!=i[s].listElements[o].result?(i[s].listElements[o].consideredWin="\u2714\ufe0f",this.totalWinsG7++):"\u274c"==i[s].listElements[o].result&&(i[s].listElements[o].consideredWin="\u{1f53a}",this.totalLoss++)),c.actualGradientText=FB(c.actualGradient),l.actualGradientText=FB(l.actualGradient),c.considered="",l.considered="",s=-1,o<2)""!=c.result&&c.actualGradient-l.actualGradient>0?(c.considered="\u{1f7e6}",s=0):""!=l.result&&l.actualGradient-c.actualGradient>0&&(l.considered="\u{1f7e6}",s=1);else{const d=this.returnConsecutivePattern(a),h=this.returnConsecutivePattern(u);""!=c.result&&("\u{1f7e6}"==a[1].considered&&!d||h)?(c.considered="\u{1f7e6}",s=0):""!=l.result&&("\u{1f7e6}"==u[1].considered&&!h||d)&&(l.considered="\u{1f7e6}",s=1)}}}return i.sort((s,o)=>o.listGradient-s.listGradient)}))}returnConsecutivePattern(n){return["\u274c","\u2705","\u2705(\u26aa\ufe0f)"].includes(n[0].result)&&["\u274c","\u2705","\u2705(\u26aa\ufe0f)"].includes(n[1].result)&&["\u274c"].includes(n[2].result)||["\u274c","\u2705","\u2705(\u26aa\ufe0f)"].includes(n[0].result)&&["\u274c"].includes(n[1].result)&&["\u274c","\u2705","\u2705(\u26aa\ufe0f)"].includes(n[2].result)||["\u274c"].includes(n[0].result)&&["\u274c","\u2705","\u2705(\u26aa\ufe0f)"].includes(n[1].result)&&["\u274c","\u2705","\u2705(\u26aa\ufe0f)"].includes(n[2].result)}getDateStringFormatted(n){return`${n.getFullYear()}-${(n.getMonth()+1).toString().padStart(2,"0")}-${n.getDate().toString().padStart(2,"0")}`}}return t.\u0275fac=function(n){return new(n||t)(C(op))},t.\u0275cmp=Gp({type:t,selectors:[["app-list"]],inputs:{hour:"hour"},decls:8,vars:7,consts:[["type","number",3,"ngModel","ngModelChange"],[1,"container"],["class","list-table",4,"ngFor","ngForOf"],[1,"list-table"],[1,"list-header"],[4,"ngFor","ngForOf"]],template:function(n,r){1&n&&(Pe(0,"div")(1,"input",0),xn("ngModelChange",function(s){return r.hour=s}),Ue(),Pe(2,"strong")(3,"p"),mt(4),Ue()()(),Pe(5,"div",1),Sm(6,foe,24,6,"div",2),function Qx(t,e){const n=ae();let r;const i=t+ie;n.firstCreatePass?(r=function Tq(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Qi(r.type)),o=nn(C);try{const a=Vl(!1),u=s();return Vl(a),function X4(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,E(),i,u),u}finally{nn(o)}}(7,"async"),Ue()),2&n&&(Lt(1),yu("ngModel",r.hour),Lt(3),Vm("Total \u2714\ufe0f: ",r.totalWinsG7," | Total \u{1f53a}: ",r.totalLoss," | Assertividade: ",(100*r.totalWinsG7/(r.totalLoss+r.totalWinsG7)).toFixed(2),"%"),Lt(2),yu("ngForOf",Yx(7,5,r.lists$)))},dependencies:[wk,ap,aC,iB,oC,Tk],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-around}table[_ngcontent-%COMP%]{border-collapse:collapse;border-radius:5px;border:1px solid black}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center;border-bottom:.5px solid #ddd}th[_ngcontent-%COMP%]{background-color:#f2f2f2}"]}),t})();function FB(t){let e="";return t>=0?e="\u{1f7e9} +"+t:t<0&&(e="\u{1f7e5} "+t),e}let goe=(()=>{class t{constructor(){this.title="view-blaze-lists"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Gp({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){1&n&&Mm(0,"app-list")},dependencies:[poe]}),t})();const moe_firebase={projectId:"blaze-lists",appId:"1:962023947890:web:3ac82fa8094bb9bbad0ceb",storageBucket:"blaze-lists.appspot.com",apiKey:"AIzaSyBq53ijjHtGzSvLh8s_TyT4WSxSQvz8DeE",authDomain:"blaze-lists.firebaseapp.com",messagingSenderId:"962023947890"};let yoe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Xn({type:t,bootstrap:[goe]}),t.\u0275inj=Fn({imports:[k5,OY(()=>FY(moe_firebase)),ese(()=>nse()),doe]}),t})();x5().bootstrapModule(yoe).catch(t=>console.error(t))}},Me=>{Me(Me.s=891)}]);